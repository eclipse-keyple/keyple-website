<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="485px" preserveAspectRatio="none" style="width:428px;height:485px;background:#FFFFFF;" version="1.1" viewBox="0 0 428 485" width="428px" zoomAndPan="magnify"><defs/><g><!--MD5=[c4ac30c743123e4d988baf9f0203091a]
cluster packPlugin--><polygon fill="#F8F9F9" points="289,119,368,119,375,142.6094,411,142.6094,411,316,289,316,289,119" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="289" x2="375" y1="142.6094" y2="142.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="73" x="293" y="135.5332">Plugin Xxx</text><!--MD5=[294e55279abb2c7a1cded07edeb7cf0a]
cluster packCommonApi--><polygon fill="#F8F9F9" points="162,128,255,128,262,151.6094,265,151.6094,265,198,162,198,162,128" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="162" x2="262" y1="151.6094" y2="151.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87" x="166" y="144.5332">Common API</text><!--MD5=[c9b12d7b2c4b1fc61915ee9f9b21580e]
cluster packService--><polygon fill="#F8F9F9" points="16,128,128,128,135,151.6094,138,151.6094,138,316,16,316,16,128" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="135" y1="151.6094" y2="151.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="106" x="20" y="144.5332">Keyple Service</text><!--MD5=[cecc079309b05d6a651d8875df36cc65]
cluster packPluginApi--><polygon fill="#F8F9F9" points="82,366,158,366,165,389.6094,257,389.6094,257,478,82,478,82,366" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="82" x2="165" y1="389.6094" y2="389.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="70" x="86" y="382.5332">Plugin API</text><!--MD5=[6ad09bc9cfee3915568353380d24c0b3]
entity specificPluginApi--><ellipse cx="341" cy="173" fill="#E9F7EF" rx="8" ry="8" style="stroke:#27AE60;stroke-width:1.5;"/><!--MD5=[8e6a9284dc1da0ef8b54fdd8dc5bfba7]
entity plugin--><rect fill="#E9F7EF" height="47.6094" style="stroke:#27AE60;stroke-width:1.5;" width="90" x="305" y="252"/><rect fill="#E9F7EF" height="10" style="stroke:#27AE60;stroke-width:1.5;" width="15" x="375" y="257"/><rect fill="#E9F7EF" height="2" style="stroke:#27AE60;stroke-width:1.5;" width="4" x="373" y="259"/><rect fill="#E9F7EF" height="2" style="stroke:#27AE60;stroke-width:1.5;" width="4" x="373" y="263"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="320" y="286.5332">Adapter</text><!--MD5=[108b8ec4cbe602fd6a8c36d5380724bc]
entity commonApi--><ellipse cx="228" cy="173" fill="#E9F7EF" rx="8" ry="8" style="stroke:#27AE60;stroke-width:1.5;"/><!--MD5=[7dffe31cf74252a1bd377ad28c4a004f]
entity serviceApi--><ellipse cx="104" cy="173" fill="#FEFECE" rx="8" ry="8" style="stroke:#D4AC0D;stroke-width:1.5;"/><!--MD5=[38bfa9dc6018363cafe15f923a4b8db9]
entity service--><rect fill="#FEFECE" height="47.6094" style="stroke:#D4AC0D;stroke-width:1.5;" width="90" x="32" y="252"/><rect fill="#FEFECE" height="10" style="stroke:#D4AC0D;stroke-width:1.5;" width="15" x="102" y="257"/><rect fill="#FEFECE" height="2" style="stroke:#D4AC0D;stroke-width:1.5;" width="4" x="100" y="259"/><rect fill="#FEFECE" height="2" style="stroke:#D4AC0D;stroke-width:1.5;" width="4" x="100" y="263"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="47" y="286.5332">Adapter</text><!--MD5=[c91beeae9d23cda8fa2ee4b23a5f449e]
entity pluginApi--><ellipse cx="125" cy="432" fill="#FEFECE" rx="8" ry="8" style="stroke:#D4AC0D;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="114.5" y="463.5332">API</text><!--MD5=[718fa0839d801591e7d1aac6ab3b37fd]
entity pluginSpi--><ellipse cx="214" cy="432" fill="#E9F7EF" rx="8" ry="8" style="stroke:#27AE60;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="203.5" y="463.5332">SPI</text><!--MD5=[37c33c71ce9550fe283f62c54b59719b]
entity application--><rect fill="#EBF5FB" height="47.6094" style="stroke:#3498DB;stroke-width:1.5;" width="149" x="153.5" y="7"/><rect fill="#EBF5FB" height="10" style="stroke:#3498DB;stroke-width:1.5;" width="15" x="282.5" y="12"/><rect fill="#EBF5FB" height="2" style="stroke:#3498DB;stroke-width:1.5;" width="4" x="280.5" y="14"/><rect fill="#EBF5FB" height="2" style="stroke:#3498DB;stroke-width:1.5;" width="4" x="280.5" y="18"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="168.5" y="41.5332">Client Application</text><!--MD5=[3ea85f0df37fc1ea79a19a11dd5585ca]
link commonApi to plugin--><path d="M237.17,181.591 C254.958,196.318 294.792,229.295 322.036,251.849 " fill="none" id="commonApi-plugin" style="stroke:#27AE60;stroke-width:1.0;"/><!--MD5=[d4e6d8964fcbc574ec5996643969ac84]
link specificPluginApi to plugin--><path d="M341.737,182.265 C343.072,197.247 345.936,229.392 347.915,251.601 " fill="none" id="specificPluginApi-plugin" style="stroke:#27AE60;stroke-width:1.0;"/><!--MD5=[31f793b7a88a90184888e3e7c4dedf47]
link plugin to pluginSpi--><path d="M339.15,300.313 C331.569,315.318 320.577,334.787 308,350 C281.371,382.21 241.119,412.1186 223.184,424.7161 " fill="none" id="plugin-pluginSpi" style="stroke:#27AE60;stroke-width:1.0;"/><!--MD5=[d28946eb54196e7507811bcb95f3b5ce]
link serviceApi to service--><path d="M101.79,182.265 C97.7854,197.247 89.1923,229.392 83.2553,251.601 " fill="none" id="serviceApi-service" style="stroke:#D4AC0D;stroke-width:1.0;"/><!--MD5=[dd1eccd1e7426faad07553cf68d2ac5f]
link service to pluginApi--><path d="M84.1861,300.055 C95.1181,335.129 115.403,400.211 122.483,422.9262 " fill="none" id="service-pluginApi" style="stroke:#D4AC0D;stroke-width:1.0;"/><!--MD5=[613e7e914a8210605b9b474b688c1ac0]
link application to commonApi--><path d="M228,55.118 C228,84.597 228,134.606 228,158.503 " fill="none" id="application-to-commonApi" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="228,163.723,232,154.723,228,158.723,224,154.723,228,163.723" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="229" y="99.4951">use</text><!--MD5=[f35ffbc0899202c7e505e115b456354e]
link application to specificPluginApi--><path d="M246.66,55.118 C270.855,85.095 312.185,136.3 331.065,159.691 " fill="none" id="application-to-specificPluginApi" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="334.319,163.723,331.7803,154.207,331.1792,159.8318,325.5544,159.2307,334.319,163.723" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="286" y="99.4951">use</text><!--MD5=[879ca4a963ad0fc65afcfcf02bc7792f]
link application to serviceApi--><path d="M207.524,55.118 C180.973,85.095 135.62,136.3 114.903,159.691 " fill="none" id="application-to-serviceApi" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="111.331,163.723,120.2922,159.6368,114.6457,159.9797,114.3028,154.3332,111.331,163.723" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="182" y="99.4951">use</text><!--MD5=[9c5e26653e348c60c6c56ce88be3ac40]
link serviceApi to commonApi--><path d="M113.32,173 C134.879,173 188.299,173 213.891,173 " fill="none" id="serviceApi-to-commonApi" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="218.909,173,209.909,169,213.909,173,209.909,177,218.909,173" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="139.5" y="166.4951">use</text><!--MD5=[bdfabf72ed0a19f9359d94fe43ccf0b8]
link service to pluginSpi--><path d="M107.669,300.144 C126.633,315.347 150.752,336.364 169,358 C185.213,377.223 199.621,402.8581 207.548,418.076 " fill="none" id="service-to-pluginSpi" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="209.981,422.8132,209.428,412.9799,207.697,418.3654,202.3115,416.6344,209.981,422.8132" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="162" y="346.4951">use</text><!--MD5=[e41df91f541512673a0e31599b8ee993]
link plugin to pluginApi--><path d="M304.884,299.28 C273.558,314.394 230.666,334.387 192,350 C181.964,354.052 177.405,351.182 169,358 C149.177,374.081 136.09,401.6358 129.663,417.8999 " fill="none" id="plugin-to-pluginApi" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="127.738,422.9499,134.6809,415.9644,129.5186,418.2777,127.2053,413.1155,127.738,422.9499" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="233" y="346.4951">use</text><!--MD5=[f48dab2f91497edb34f07041b63246f4]
reverse link commonApi to service--><!--MD5=[f142d050cc21e374f04348761155fac8]
@startuml

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
!define COLOR_YELLOW D4AC0D
!define COLOR_RED E74C3C
!define COLOR_PURPLE 8E44AD
!define COLOR_BLUE 3498DB
!define COLOR_GREEN 27AE60
!define COLOR_GREY 2C3E50

!define C_GREY1 F8F9F9
!define C_GREY2 F2F3F4
!define C_GREY3 E5E7E9
!define C_GREY4 D7DBDD
!define C_GREY5 CACFD2
!define C_GREY6 BDC3C7
!define C_LINK 3498DB
!define C_USE 27AE60

skinparam Shadowing false
skinparam component {
    BorderColor #D4AC0D
    ' Red
    BackgroundColor<<red>> #FDEDEC
    BorderColor<<red>> #E74C3C
    ' Purple
    BackgroundColor<<purple>> #F4ECF7
    BorderColor<<purple>> #8E44AD
    ' blue
    BackgroundColor<<blue>> #EBF5FB
    BorderColor<<blue>> #3498DB
    ' Green
    BackgroundColor<<green>> #E9F7EF
    BorderColor<<green>> #27AE60
    ' Grey
    BackgroundColor<<grey>> #EAECEE
    BorderColor<<grey>> #2C3E50
}
skinparam interface {
    BorderColor #D4AC0D
    ' Red
    BackgroundColor<<red>> #FDEDEC
    BorderColor<<red>> #E74C3C
    ' Purple
    BackgroundColor<<purple>> #F4ECF7
    BorderColor<<purple>> #8E44AD
    ' blue
    BackgroundColor<<blue>> #EBF5FB
    BorderColor<<blue>> #3498DB
    ' Green
    BackgroundColor<<green>> #E9F7EF
    BorderColor<<green>> #27AE60
    ' Grey
    BackgroundColor<<grey>> #EAECEE
    BorderColor<<grey>> #2C3E50
}
hide <<red>> stereotype
hide <<purple>> stereotype
hide <<blue>> stereotype
hide <<green>> stereotype
hide <<grey>> stereotype

' == COMPONENTS ==

[Client Application] as application <<blue>>
package "Plugin Xxx" as packPlugin {
    interface " " as specificPluginApi <<green>>
    [Adapter] as plugin <<green>>
}
package "Common API" as packCommonApi {
    interface " " as commonApi <<green>>
}
package "Keyple Service" as packService {
    interface " " as serviceApi
    [Adapter] as service
}
package "Plugin API" as packPluginApi {
    interface "API" as pluginApi
    interface "SPI" as pluginSpi <<green>>
}

' == ASSOCIATIONS ==

plugin -up- commonApi #COLOR_GREEN
plugin -up- specificPluginApi #COLOR_GREEN
plugin - - pluginSpi #COLOR_GREEN

service -up- serviceApi #COLOR_YELLOW
service - - pluginApi #COLOR_YELLOW

' USE

application ..> commonApi : use
application ..> specificPluginApi : use
application ..> serviceApi : use

serviceApi .right.> commonApi : "  use          "
service ..> pluginSpi : use

plugin ..> pluginApi : use

' == LAYOUT ==

service .[hidden]up.> commonApi

' == STYLE ==

package packPlugin #C_GREY1 {
}
package packService #C_GREY1 {
}
package packCommonApi #C_GREY1 {
}
package packPluginApi #C_GREY1 {
}

@enduml

@startuml




skinparam Shadowing false
skinparam component {
    BorderColor #D4AC0D
    BackgroundColor<<red>> #FDEDEC
    BorderColor<<red>> #E74C3C
    BackgroundColor<<purple>> #F4ECF7
    BorderColor<<purple>> #8E44AD
    BackgroundColor<<blue>> #EBF5FB
    BorderColor<<blue>> #3498DB
    BackgroundColor<<green>> #E9F7EF
    BorderColor<<green>> #27AE60
    BackgroundColor<<grey>> #EAECEE
    BorderColor<<grey>> #2C3E50
}
skinparam interface {
    BorderColor #D4AC0D
    BackgroundColor<<red>> #FDEDEC
    BorderColor<<red>> #E74C3C
    BackgroundColor<<purple>> #F4ECF7
    BorderColor<<purple>> #8E44AD
    BackgroundColor<<blue>> #EBF5FB
    BorderColor<<blue>> #3498DB
    BackgroundColor<<green>> #E9F7EF
    BorderColor<<green>> #27AE60
    BackgroundColor<<grey>> #EAECEE
    BorderColor<<grey>> #2C3E50
}
hide <<red>> stereotype
hide <<purple>> stereotype
hide <<blue>> stereotype
hide <<green>> stereotype
hide <<grey>> stereotype


[Client Application] as application <<blue>>
package "Plugin Xxx" as packPlugin {
    interface " " as specificPluginApi <<green>>
    [Adapter] as plugin <<green>>
}
package "Common API" as packCommonApi {
    interface " " as commonApi <<green>>
}
package "Keyple Service" as packService {
    interface " " as serviceApi
    [Adapter] as service
}
package "Plugin API" as packPluginApi {
    interface "API" as pluginApi
    interface "SPI" as pluginSpi <<green>>
}


plugin -up- commonApi #27AE60
plugin -up- specificPluginApi #27AE60
plugin - - pluginSpi #27AE60

service -up- serviceApi #D4AC0D
service - - pluginApi #D4AC0D


application ..> commonApi : use
application ..> specificPluginApi : use
application ..> serviceApi : use

serviceApi .right.> commonApi : "  use          "
service ..> pluginSpi : use

plugin ..> pluginApi : use


service .[hidden]up.> commonApi


package packPlugin #F8F9F9 {
}
package packService #F8F9F9 {
}
package packCommonApi #F8F9F9 {
}
package packPluginApi #F8F9F9 {
}

@enduml

PlantUML version 1.2021.11(Sat Oct 02 15:26:11 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>