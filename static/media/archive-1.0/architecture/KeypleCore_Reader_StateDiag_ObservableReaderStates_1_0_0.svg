<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="837px" preserveAspectRatio="none" style="width:1401px;height:837px;" version="1.1" viewBox="0 0 1401 837" width="1401px" zoomAndPan="magnify"><defs/><g><!--MD5=[b8b7790327a380c4faa5cd25668669ec]
cluster Card_ObservationDisabled--><rect fill="#FEFECE" height="186" rx="12.5" ry="12.5" style="stroke: #D4AC0D; stroke-width: 1.5;" width="575" x="22" y="24"/><rect fill="#FFFFFF" height="152.3906" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="569" x="25" y="54.6094"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="22" x2="597" y1="51.6094" y2="51.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="223" y="42.5332">Card observation</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="336" y="42.5332">disabled</text><!--MD5=[8456f124aeb6af6ca8d167c7691237d0]
cluster Card_ObservationActivated--><rect fill="#FEFECE" height="464" rx="12.5" ry="12.5" style="stroke: #D4AC0D; stroke-width: 1.5;" width="1119" x="31" y="362"/><rect fill="#FFFFFF" height="410.2969" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="1113" x="34" y="412.7031"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="31" x2="1150" y1="409.7031" y2="409.7031"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="31" x2="1150" y1="389.6094" y2="389.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="457" y="380.5332">Card observation</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="570" y="380.5332">activated</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="267" x="36" y="404.5664">number of observer &gt; 0  &amp;&amp;  PollingMode defined</text><ellipse cx="115" cy="70" fill="#000000" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" height="52.7031" rx="12.5" ry="12.5" style="stroke: #D4AC0D; stroke-width: 1.5;" width="154" x="38" y="141"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="38" x2="192" y1="168.6094" y2="168.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="60.5" y="160.5332">WaitForObserver</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="134" x="43" y="186.0664">number of observer == 0</text><rect fill="#FEFECE" height="52.7031" rx="12.5" ry="12.5" style="stroke: #D4AC0D; stroke-width: 1.5;" width="160" x="421" y="141"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="421" x2="581" y1="168.6094" y2="168.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="431" y="160.5332">WaitForStartDetection</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="127" x="426" y="186.0664">number of observer &gt; 0</text><rect fill="#FEFECE" height="40" rx="12.5" ry="12.5" style="stroke: #D4AC0D; stroke-width: 1.5;" width="145" x="457.5" y="426"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="462.5" y="451.7285">WaitForCardInsertion</text><rect fill="#FEFECE" height="40" rx="12.5" ry="12.5" style="stroke: #D4AC0D; stroke-width: 1.5;" width="161" x="449.5" y="762"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="454.5" y="787.7285">WaitForCardProcessing</text><rect fill="#FEFECE" height="40" rx="12.5" ry="12.5" style="stroke: #D4AC0D; stroke-width: 1.5;" width="146" x="862" y="762"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="867" y="787.7285">WaitForCardRemoval</text><!--MD5=[251642f9527861ea62369ff8744e4a70]
link *start*Card_ObservationDisabled to WaitForObserver--><path d="M115,80.157 C115,92.788 115,116.181 115,135.435 " fill="none" id="*start*Card_ObservationDisabled-&gt;WaitForObserver" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="115,140.743,119,131.743,115,135.743,111,131.743,115,140.743" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[136a2b1d08fde5b6a9585a9cd3ff408d]
link WaitForObserver to WaitForStartDetection--><path d="M179.025,194.008 C192.195,198.364 206.128,202.203 219.5,204.5 C257.608,211.047 355.363,210.879 393.5,204.5 C405.616,202.473 418.195,199.245 430.295,195.519 " fill="none" id="WaitForObserver-&gt;WaitForStartDetection" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="435.086,194.011,425.3003,192.8977,430.3167,195.5122,427.7022,200.5286,435.086,194.011" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="308.5" y="184.9951"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="220.5" y="201.3467">addObserver(ReaderObserver)</text><!--MD5=[e9e30b41fcb02c2ebe81f14a1b3c6b24]
reverse link WaitForObserver to WaitForStartDetection--><path d="M197.293,167.5 C263.339,167.5 355.519,167.5 420.961,167.5 " fill="none" id="WaitForObserver&lt;-WaitForStartDetection" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="192.185,167.5,201.185,171.5,197.185,167.5,201.185,163.5,192.185,167.5" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="210.5" y="144.9951">removeObserver(ReaderObserver)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="243" y="161.3467">&amp;&amp; (nb observer == 0)</text><!--MD5=[72d9897ee434831df1bd0380d840bb20]
link WaitForCardInsertion to WaitForCardProcessing--><path d="M526.132,466.107 C518.39,499.21 497.744,567.028 453,602 C404.232,640.118 355.769,583.747 317,632 C289.163,666.647 289.319,697.228 317,732 C333.112,752.2393 392.486,764.8194 444.467,772.1577 " fill="none" id="WaitForCardInsertion-&gt;WaitForCardProcessing" style="stroke: #FF0000; stroke-width: 1.0;"/><polygon fill="#FF0000" points="449.472,772.8515,441.1056,767.655,444.5192,772.1658,440.0085,775.5794,449.472,772.8515" style="stroke: #FF0000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="337" y="646.4951">notifies 'Card matched'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6" x="397" y="662.8467">||</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="350.5" y="679.1982">'Card inserted' &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="318" y="695.5498">(NotificationMode == always)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="404" y="711.9014"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="404" y="728.2529"/><!--MD5=[ec20ecb91c2c7b942d83ce11be446b02]
reverse link WaitForCardInsertion to WaitForCardProcessing--><path d="M529.078,471.118 C527.348,520.228 524.045,635.367 527,732 C527.302,741.882 527.947,752.8691 528.561,761.931 " fill="none" id="WaitForCardInsertion&lt;-WaitForCardProcessing" style="stroke: #FF0000; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#FF0000" points="529.26,466.017,524.9411,474.8684,529.0814,471.0138,532.9359,475.1541,529.26,466.017" style="stroke: #FF0000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="528" y="654.9951">notifies 'Card removed' &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="546.5" y="671.3467">(Observable Reader</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="551" y="687.6982">with the capability</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="542.5" y="704.0498">to detect the removal</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="568.5" y="720.4014">at any time)</text><!--MD5=[8a15fc4152604b3ab4b941e4673595f8]
link WaitForCardInsertion to WaitForCardRemoval--><path d="M549.705,466.083 C581.571,497.873 644.699,564.839 683,632 C706.4,673.033 683.617,700.705 719,732 C739.439,750.0774 803.601,763.1709 856.726,771.2505 " fill="none" id="WaitForCardInsertion-&gt;WaitForCardRemoval" style="stroke: #FF0000; stroke-width: 1.0;"/><polygon fill="#FF0000" points="861.831,772.0168,853.5252,766.7241,856.8865,771.274,852.3366,774.6353,861.831,772.0168" style="stroke: #FF0000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="734.5" y="670.9951">'Card inserted' not notified &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="720" y="687.3467">((NotificationMode == match_only)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="763.5" y="703.6982">&amp;&amp; selection failed)</text><!--MD5=[cd704dfb895b79468f1536ce51b7bd41]
reverse link WaitForCardInsertion to WaitForCardRemoval--><path d="M607.73,459.539 C700.095,478.934 850.873,525.74 924,632 C951.057,671.316 944.902,731.089 939.3,761.6012 " fill="none" id="WaitForCardInsertion&lt;-WaitForCardRemoval" style="stroke: #FF0000; stroke-width: 1.0;"/><polygon fill="#FF0000" points="602.828,458.524,610.8313,464.264,607.7244,459.5367,612.4516,456.4298,602.828,458.524" style="stroke: #FF0000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="950.5" y="679.4951">notifies 'Card removed' &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="945" y="695.8467">(PollingMode == Repeating)</text><!--MD5=[c922a1dab0bb901a2bd0a63ec4241006]
link WaitForCardProcessing to WaitForCardRemoval--><path d="M610.984,782 C682.558,782 786.271,782 856.948,782 " fill="none" id="WaitForCardProcessing-&gt;WaitForCardRemoval" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="861.979,782,852.979,778,856.979,782,852.979,786,861.979,782" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="666.25" y="742.4951">finalizeCardProcessing()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6" x="731.25" y="758.8467">||</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="642.75" y="775.1982">'Card channel release requested'</text><!--MD5=[aa0ddcd38f31791635bd0749845c00f3]
link WaitForStartDetection to WaitForCardInsertion--><path d="M503.676,194.017 C509.248,247.14 522.026,368.975 527.47,420.874 " fill="none" id="WaitForStartDetection-&gt;WaitForCardInsertion" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="528.004,425.968,531.041,416.5991,527.4812,420.9954,523.0848,417.4356,528.004,425.968" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="512" y="248.4951">startCardDetection(PollingMode)</text><!--MD5=[d14760a25c7bf860bac7cf82bf22f065]
reverse link WaitForObserver to Card_ObservationActivated--><path d="M106.635,198.933 C96.9172,234.288 80.3896,294.4183 66.1054,346.3864 C65.2126,349.6344 64.3286,352.8505 63.4556,356.0267 C63.0191,357.6148 62.5853,359.1929 62.1546,360.7601 C62.0469,361.1518 61.9394,361.5429 61.8321,361.9333 " fill="none" id="WaitForObserver&lt;-Card_ObservationActivated" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="107.986,194.017,101.7432,201.6346,106.6605,198.8381,109.457,203.7554,107.986,194.017" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="100" y="240.4951">removeObserver(ReaderObserver)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="132.5" y="256.8467">&amp;&amp; (nb observer == 0)</text><!--MD5=[df0a4659600a89e6e75f539eac73013e]
reverse link WaitForStartDetection to Card_ObservationActivated--><path d="M442.139,196.351 C423.146,205.559 402.075,216.009 383,226 C331.528,252.96 318.467,259.516 269,290 C243.1745,305.915 216.1307,323.3839 190.0323,340.6781 C183.5077,345.0017 177.0421,349.3143 170.6695,353.589 C167.4832,355.7264 164.3201,357.8542 161.1845,359.9692 C160.4006,360.498 159.6184,361.0259 158.8379,361.553 " fill="none" id="WaitForStartDetection&lt;-Card_ObservationActivated" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="446.921,194.038,437.0773,194.3557,442.4198,196.215,440.5605,201.5576,446.921,194.038" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="384" y="248.4951">stopCardDetection()</text><!--MD5=[f6daff5f25125e3d1d3a03cdc3843216]
reverse link Card_ObservationActivated to Card_ObservationActivated--><path d="M1156,445.411 C1167.8318,395.501 1191.2213,395.697 1191.2213,446 C1191.2213,496.303 1167.8318,496.499 1156,446.589 " fill="none" id="Card_ObservationActivated&lt;-Card_ObservationActivated" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="1156,445.411,1161.9682,437.5764,1157.1533,440.5458,1154.1839,435.731,1156,445.411" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="1197.2213" y="443.4951">removeObserver(ReaderObserver)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="1233.7213" y="459.8467">&amp;&amp; (nb observer &gt; 0)</text><!--MD5=[b24a11d88e3143c63fed438c0348fc0e]
reverse link WaitForStartDetection to WaitForCardRemoval--><path d="M586.643,181.998 C625.526,190.648 670.989,204.436 708,226 C928.763,354.626 1017.08,396.008 1115,632 C1132.03,673.051 1141.99,696.686 1115,732 C1101.68,749.435 1052.03,762.1406 1008.24,770.2393 " fill="none" id="WaitForStartDetection&lt;-WaitForCardRemoval" style="stroke: #FF0000; stroke-width: 1.0;"/><polygon fill="#FF0000" points="581.447,180.864,589.3874,186.6906,586.3321,181.9299,591.0928,178.8745,581.447,180.864" style="stroke: #FF0000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="1110" y="304.4951">notifies 'Card removed' &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="1102" y="320.8467">(PollingMode == SingleShot)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="337.1982"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="353.5498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="369.9014"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="386.2529"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="402.6045"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="418.9561"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="435.3076"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="451.6592"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="468.0107"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="484.3623"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="500.7139"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="517.0654"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="533.417"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="549.7686"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="566.1201"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="582.4717"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="598.8232"/><!--MD5=[2c7d153755bf95e2077152ec1f6996a3]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype
hide empty description

state "Card observation <b>disabled</b>" as Card_ObservationDisabled {
  [*] - -[#Black]> WaitForObserver
  WaitForObserver -right[#Blue]-> WaitForStartDetection : \naddObserver(ReaderObserver)
  WaitForObserver : number of observer == 0
  WaitForStartDetection -left[#Blue]-> WaitForObserver : removeObserver(ReaderObserver)\n&& (nb observer == 0)
  WaitForStartDetection : number of observer > 0
}

state "Card observation <b>activated</b>" as Card_ObservationActivated {
  Card_ObservationActivated : number of observer > 0  &&  PollingMode defined
  WaitForCardInsertion -down[#Red]-> WaitForCardProcessing : notifies 'Card matched'\n|| \n'Card inserted' &&\n(NotificationMode == always)\n\n
  WaitForCardInsertion -down[#Red]-> WaitForCardRemoval : 'Card inserted' not notified &&\n((NotificationMode == match_only)\n&& selection failed)
  WaitForCardRemoval -up[#Red]-> WaitForCardInsertion : notifies 'Card removed' &&\n(PollingMode == Repeating)
  WaitForCardProcessing -up[#Red,dashed]-> WaitForCardInsertion : notifies 'Card removed' &&\n(Observable Reader\nwith the capability\nto detect the removal\nat any time)

  WaitForCardProcessing -right[#Blue]-> WaitForCardRemoval : finalizeCardProcessing()\n|| \n'Card channel release requested'
}

WaitForStartDetection -down[#Blue]-> WaitForCardInsertion : startCardDetection(PollingMode)
Card_ObservationActivated -up[#Blue]-> WaitForObserver : removeObserver(ReaderObserver)\n&& (nb observer == 0)
Card_ObservationActivated -up[#Blue]-> WaitForStartDetection : stopCardDetection()

Card_ObservationActivated -up[#Blue]-> Card_ObservationActivated : removeObserver(ReaderObserver)\n&& (nb observer > 0)

WaitForCardRemoval -left[#Red]-> WaitForStartDetection : notifies 'Card removed' &&\n(PollingMode == SingleShot)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>