<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2076px" preserveAspectRatio="none" style="width:1804px;height:2076px;" version="1.1" viewBox="0 0 1804 2076" width="1804px" zoomAndPan="magnify"><defs/><g><!--MD5=[f70fa97960bc6b4e8dc736e90c677b35]
cluster specific.terminal_application--><polygon fill="#85C1E9" points="712,49,1126,49,1140,96.2188,1146,96.2188,1146,289,712,289,712,49" style="stroke: #000000; stroke-width: 3.0;"/><line style="stroke: #000000; stroke-width: 3.0;" x1="712" x2="1140" y1="96.2188" y2="96.2188"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="402" x="720" y="82.0664">specific.terminal_application</text><!--MD5=[6ca25df3990780266188050f5b5d0b1a]
cluster org.eclipse.keyple.core.service--><polygon fill="#FFFFFF" points="56,389,512,389,526,436.2188,1672,436.2188,1672,1518,56,1518,56,389" style="stroke: #000000; stroke-width: 3.0;"/><line style="stroke: #000000; stroke-width: 3.0;" x1="56" x2="526" y1="436.2188" y2="436.2188"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="444" x="64" y="422.0664">org.eclipse.keyple.core.service</text><!--MD5=[3e81cc6ee7da4fa8b6adc12b329096f6]
cluster util--><polygon fill="#FFFFFF" points="104,477,160,477,174,524.2188,628,524.2188,628,975,104,975,104,477" style="stroke: #000000; stroke-width: 3.0;"/><line style="stroke: #000000; stroke-width: 3.0;" x1="104" x2="174" y1="524.2188" y2="524.2188"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="112" y="510.0664">util</text><!--MD5=[150fc06e5233369d850ce0440eb89b50]
cluster specific.plugin--><polygon fill="#D7BDE2" points="44,1684,262,1684,276,1731.2188,1760,1731.2188,1760,2052,44,2052,44,1684" style="stroke: #000000; stroke-width: 3.0;"/><line style="stroke: #000000; stroke-width: 3.0;" x1="44" x2="276" y1="1731.2188" y2="1731.2188"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206" x="52" y="1717.0664">specific.plugin</text><!--MD5=[36749fbd9f1718a5265922a19e14c350]
class SpecificTerminal--><rect fill="#FEFECE" height="96" id="SpecificTerminal" style="stroke: #D4AC0D; stroke-width: 3.0;" width="248" x="804" y="161"/><ellipse cx="834" cy="193" fill="#ADD1B2" rx="22" ry="22" style="stroke: #ADD1B2; stroke-width: 2.0;"/><path d="M838,186 Q838.4063,185 838.875,184.5 Q839.3438,184 839.875,184 Q840.8125,184 841.4063,184.5625 Q842,185.125 842,186.4375 L842,189.5625 Q842,190.875 841.4375,191.4375 Q840.875,192 840,192 Q839.2188,192 838.7188,191.6563 Q838.2188,191.3125 838,190.4063 Q837.9063,189.7813 837.5625,189.4375 Q836.9375,188.7813 835.8125,188.4063 Q834.6875,188 833.5625,188 Q832.1563,188 830.9688,188.5625 Q829.8125,189.125 828.9063,190.375 Q828,191.625 828,193.3438 L828,195.1875 Q828,197.25 829.6875,198.625 Q831.375,200 834.375,200 Q836.1563,200 837.4063,199.5938 Q838.125,199.375 838.9375,198.6563 Q839.4688,198.25 839.75,198.125 Q840.0313,198 840.375,198 Q841.0313,198 841.5,198.5313 Q842,199.0313 842,199.75 Q842,200.4375 841.3125,201.25 Q840.3125,202.4375 838.7188,203.0938 Q836.625,204 834.0625,204 Q831.0625,204 828.6563,202.8125 Q826.7188,201.875 825.3438,199.8438 Q824,197.8125 824,195.4063 L824,193.2188 Q824,190.7188 825.1875,188.5313 Q826.4063,186.3438 828.5,185.1875 Q830.625,184 833,184 Q834.4375,184 835.6875,184.5 Q836.9375,185 838,186 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="184" x="862" y="202.8203">SpecificTerminal</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="806" x2="1050" y1="225" y2="225"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="806" x2="1050" y1="241" y2="241"/><!--MD5=[bc3f57c567736ad71a70f1388d085699]
class SmartCardService--><rect fill="#FEFECE" height="416.7656" id="SmartCardService" style="stroke: #D4AC0D; stroke-width: 3.0;" width="526" x="665" y="558"/><ellipse cx="781.5" cy="598.1875" fill="#ADD1B2" rx="22" ry="22" style="stroke: #ADD1B2; stroke-width: 2.0;"/><path d="M785.5,591.1875 Q785.9063,590.1875 786.375,589.6875 Q786.8438,589.1875 787.375,589.1875 Q788.3125,589.1875 788.9063,589.75 Q789.5,590.3125 789.5,591.625 L789.5,594.75 Q789.5,596.0625 788.9375,596.625 Q788.375,597.1875 787.5,597.1875 Q786.7188,597.1875 786.2188,596.8438 Q785.7188,596.5 785.5,595.5938 Q785.4063,594.9688 785.0625,594.625 Q784.4375,593.9688 783.3125,593.5938 Q782.1875,593.1875 781.0625,593.1875 Q779.6563,593.1875 778.4688,593.75 Q777.3125,594.3125 776.4063,595.5625 Q775.5,596.8125 775.5,598.5313 L775.5,600.375 Q775.5,602.4375 777.1875,603.8125 Q778.875,605.1875 781.875,605.1875 Q783.6563,605.1875 784.9063,604.7813 Q785.625,604.5625 786.4375,603.8438 Q786.9688,603.4375 787.25,603.3125 Q787.5313,603.1875 787.875,603.1875 Q788.5313,603.1875 789,603.7188 Q789.5,604.2188 789.5,604.9375 Q789.5,605.625 788.8125,606.4375 Q787.8125,607.625 786.2188,608.2813 Q784.125,609.1875 781.5625,609.1875 Q778.5625,609.1875 776.1563,608 Q774.2188,607.0625 772.8438,605.0313 Q771.5,603 771.5,600.5938 L771.5,598.4063 Q771.5,595.9063 772.6875,593.7188 Q773.9063,591.5313 776,590.375 Q778.125,589.1875 780.5,589.1875 Q781.9375,589.1875 783.1875,589.6875 Q784.4375,590.1875 785.5,591.1875 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="132" x="894.5" y="592.9141">«Singleton»</text><ellipse cx="832.5" cy="612.2813" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="844.5" y="623.1016">final</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="200" x="898.5" y="623.1016">SmartCardService</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="667" x2="1189" y1="638.375" y2="638.375"/><rect fill="none" height="12" style="stroke: #C82930; stroke-width: 2.0;" width="12" x="681" y="654.375"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="46" x="705" y="669.2129">final</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="328" x="757" y="669.2129">SmartCardService uniqueInstance</text><rect fill="none" height="12" style="stroke: #C82930; stroke-width: 2.0;" width="12" x="681" y="682.0469"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="705" y="696.8848">final</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="370" x="757" y="696.8848">ConcurrentMap&lt;String, Plugin&gt; plugins</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="667" x2="1189" y1="709.7188" y2="709.7188"/><ellipse cx="687" cy="731.7188" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="310" x="705" y="740.5566">SmartCardService getInstance()</text><ellipse cx="687" cy="759.3906" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="184" x="705" y="768.2285">String getVersion()</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="711" y="795.9004"/><ellipse cx="687" cy="814.7344" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="474" x="705" y="823.5723">Plugin registerPlugin(PluginFactory pluginFactory)</text><ellipse cx="687" cy="842.4063" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="390" x="705" y="851.2441">boolean isRegistered(String pluginName)</text><ellipse cx="687" cy="870.0781" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="424" x="705" y="878.916">boolean unregisterPlugin(String pluginName)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="711" y="906.5879"/><ellipse cx="687" cy="925.4219" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="278" x="705" y="934.2598">Plugin getPlugin(String name)</text><ellipse cx="687" cy="953.0938" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="308" x="705" y="961.9316">Map&lt;String, Plugin&gt; getPlugins()</text><!--MD5=[b628511dd50102041730ee0512f882c8]
class Plugin--><rect fill="#FEFECE" height="234.3594" id="Plugin" style="stroke: #D4AC0D; stroke-width: 3.0;" width="388" x="968" y="1224"/><ellipse cx="1107.5" cy="1256" fill="#B4A7E5" rx="22" ry="22" style="stroke: #B4A7E5; stroke-width: 2.0;"/><path d="M1109.5,1250 L1109.5,1262 L1113.5,1262 L1114.4688,1262 L1115.5,1263.25 L1115.5,1264 L1115.5,1264.75 L1114.4688,1266 L1113.5,1266 L1101.5,1266 L1100.5313,1266 L1099.5,1264.75 L1099.5,1264 L1099.5,1263.25 L1100.5313,1262 L1101.5,1262 L1105.5,1262 L1105.5,1250 L1101.5,1250 L1100.5313,1250 L1099.5,1248.75 L1099.5,1248 L1099.5,1247.25 L1100.5313,1246 L1101.5,1246 L1113.5,1246 L1114.4688,1246 L1115.5,1247.25 L1115.5,1248 L1115.5,1248.75 L1114.4688,1250 L1113.5,1250 L1109.5,1250 Z "/><ellipse cx="1158.5" cy="1255" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="70" x="1170.5" y="1265.8203">Plugin</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="970" x2="1354" y1="1288" y2="1288"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="970" x2="1354" y1="1304" y2="1304"/><ellipse cx="990" cy="1326" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="162" x="1008" y="1334.8379">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="1014" y="1362.5098"/><ellipse cx="990" cy="1381.3438" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="336" x="1008" y="1390.1816">Map&lt;String, Reader&gt; getReaders()</text><ellipse cx="990" cy="1409.0156" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="300" x="1008" y="1417.8535">Set&lt;String&gt; getReaderNames()</text><ellipse cx="990" cy="1436.6875" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="306" x="1008" y="1445.5254">Reader getReader(String name)</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect fill="#FEFECE" height="289.7031" id="Reader" style="stroke: #D4AC0D; stroke-width: 3.0;" width="720" x="88" y="1196"/><ellipse cx="387.5" cy="1228" fill="#B4A7E5" rx="22" ry="22" style="stroke: #B4A7E5; stroke-width: 2.0;"/><path d="M389.5,1222 L389.5,1234 L393.5,1234 L394.4688,1234 L395.5,1235.25 L395.5,1236 L395.5,1236.75 L394.4688,1238 L393.5,1238 L381.5,1238 L380.5313,1238 L379.5,1236.75 L379.5,1236 L379.5,1235.25 L380.5313,1234 L381.5,1234 L385.5,1234 L385.5,1222 L381.5,1222 L380.5313,1222 L379.5,1220.75 L379.5,1220 L379.5,1219.25 L380.5313,1218 L381.5,1218 L393.5,1218 L394.4688,1218 L395.5,1219.25 L395.5,1220 L395.5,1220.75 L394.4688,1222 L393.5,1222 L389.5,1222 Z "/><ellipse cx="438.5" cy="1227" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="82" x="450.5" y="1237.8203">Reader</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="90" x2="806" y1="1260" y2="1260"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="90" x2="806" y1="1276" y2="1276"/><ellipse cx="110" cy="1298" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="162" x="128" y="1306.8379">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="134" y="1334.5098"/><ellipse cx="110" cy="1353.3438" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="234" x="128" y="1362.1816">boolean isCardPresent()</text><ellipse cx="110" cy="1381.0156" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="228" x="128" y="1389.8535">boolean isContactless()</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="134" y="1417.5254"/><ellipse cx="110" cy="1436.3594" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="668" x="128" y="1445.1973">activateProtocol(String applicationReference, String pluginReference)</text><ellipse cx="110" cy="1464.0313" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="460" x="128" y="1472.8691">deactivateProtocol(String applicationReference)</text><!--MD5=[5c68026ea752d2e8f1e184b2d7c89ced]
class PluginFactory--><rect fill="#FEFECE" height="151.3438" id="PluginFactory" style="stroke: #D4AC0D; stroke-width: 3.0;" width="298" x="1341" y="690"/><ellipse cx="1398.9" cy="722" fill="#B4A7E5" rx="22" ry="22" style="stroke: #B4A7E5; stroke-width: 2.0;"/><path d="M1400.9,716 L1400.9,728 L1404.9,728 L1405.8688,728 L1406.9,729.25 L1406.9,730 L1406.9,730.75 L1405.8688,732 L1404.9,732 L1392.9,732 L1391.9313,732 L1390.9,730.75 L1390.9,730 L1390.9,729.25 L1391.9313,728 L1392.9,728 L1396.9,728 L1396.9,716 L1392.9,716 L1391.9313,716 L1390.9,714.75 L1390.9,714 L1390.9,713.25 L1391.9313,712 L1392.9,712 L1404.9,712 L1405.8688,712 L1406.9,713.25 L1406.9,714 L1406.9,714.75 L1405.8688,716 L1404.9,716 L1400.9,716 Z "/><ellipse cx="1443.1" cy="721" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="150" x="1455.1" y="731.8203">PluginFactory</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1343" x2="1637" y1="754" y2="754"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1343" x2="1637" y1="770" y2="770"/><ellipse cx="1363" cy="792" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="218" x="1381" y="800.8379">String getPluginName()</text><ellipse cx="1363" cy="819.6719" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="246" x="1381" y="828.5098">Plugin getPluginInstance()</text><!--MD5=[47ce9033b06c4ed5e96c5ff2e598f366]
class ContactlessCardCommonProtocols--><rect fill="#FEFECE" height="353.0469" id="ContactlessCardCommonProtocols" style="stroke: #D4AC0D; stroke-width: 3.0;" width="458" x="137" y="589"/><ellipse cx="167" cy="621" fill="#EB937F" rx="22" ry="22" style="stroke: #EB93DF; stroke-width: 2.0;"/><path d="M164,623 L164,627 L172,627 L172,625 L172,624.0313 L173.25,623 L174,623 L174.75,623 L176,624.0313 L176,625 L176,631 L160,631 L159.0313,631 L158,629.75 L158,629 L158,628.25 L159.0313,627 L160,627 L160,627 L160,615 L160,615 L159.0313,615 L158,613.75 L158,613 L158,612.25 L159.0313,611 L160,611 L176,611 L176,617 L176,617.9688 L174.75,619 L174,619 L173.25,619 L172,617.9688 L172,617 L172,615 L164,615 L164,619 L166,619 L166,618.0313 L166,618.0313 L167.25,617 L168,617 L168.75,617 L170,618.0313 L170,619 L170,623 L170,623.9688 L168.75,625 L168.75,625 L168,625 L167.25,625 L166,623.9688 L166,623.9688 L166,623 L164,623 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="394" x="195" y="630.8203">ContactlessCardCommonProtocols</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="139" x2="593" y1="653" y2="653"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="130" x="149" y="719.5098">ISO_14443_4</text><line style="stroke: #D4AC0D; stroke-width: 2.0; stroke-dasharray: 1.0,2.0;" x1="139" x2="323" y1="682.8359" y2="682.8359"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="86" x="323" y="690.8379">standard</text><line style="stroke: #D4AC0D; stroke-width: 2.0; stroke-dasharray: 1.0,2.0;" x1="409" x2="593" y1="682.8359" y2="682.8359"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="226" x="149" y="782.8535">NFC_A_ISO_14443_3A</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="222" x="149" y="810.5254">NFC_B_ISO_14443_3B</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="188" x="149" y="838.1973">NFC_F_JIS_6319_4</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="186" x="149" y="865.8691">NFC_V_ISO_15693</text><line style="stroke: #D4AC0D; stroke-width: 2.0; stroke-dasharray: 1.0,2.0;" x1="139" x2="298" y1="746.1797" y2="746.1797"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="136" x="298" y="754.1816">NFC compliant</text><line style="stroke: #D4AC0D; stroke-width: 2.0; stroke-dasharray: 1.0,2.0;" x1="434" x2="593" y1="746.1797" y2="746.1797"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="149" y="929.2129">CALYPSO_OLD_CARD_PRIME</text><line style="stroke: #D4AC0D; stroke-width: 2.0; stroke-dasharray: 1.0,2.0;" x1="139" x2="313" y1="892.5391" y2="892.5391"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="106" x="313" y="900.541">proprietary</text><line style="stroke: #D4AC0D; stroke-width: 2.0; stroke-dasharray: 1.0,2.0;" x1="419" x2="593" y1="892.5391" y2="892.5391"/><!--MD5=[11dcb8d43defc8d2a601a7912d180905]
class SpecificSupportedProtocols--><rect fill="#FEFECE" height="151.3438" id="SpecificSupportedProtocols" style="stroke: #D4AC0D; stroke-width: 3.0;" width="390" x="413" y="1832"/><ellipse cx="443" cy="1864" fill="#EB937F" rx="22" ry="22" style="stroke: #EB93DF; stroke-width: 2.0;"/><path d="M440,1866 L440,1870 L448,1870 L448,1868 L448,1867.0313 L449.25,1866 L450,1866 L450.75,1866 L452,1867.0313 L452,1868 L452,1874 L436,1874 L435.0313,1874 L434,1872.75 L434,1872 L434,1871.25 L435.0313,1870 L436,1870 L436,1870 L436,1858 L436,1858 L435.0313,1858 L434,1856.75 L434,1856 L434,1855.25 L435.0313,1854 L436,1854 L452,1854 L452,1860 L452,1860.9688 L450.75,1862 L450,1862 L449.25,1862 L448,1860.9688 L448,1860 L448,1858 L440,1858 L440,1862 L442,1862 L442,1861.0313 L442,1861.0313 L443.25,1860 L444,1860 L444.75,1860 L446,1861.0313 L446,1862 L446,1866 L446,1866.9688 L444.75,1868 L444.75,1868 L444,1868 L443.25,1868 L442,1866.9688 L442,1866.9688 L442,1866 L440,1866 Z "/><ellipse cx="481" cy="1863" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="304" x="493" y="1873.8203">SpecificSupportedProtocols</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="415" x2="801" y1="1896" y2="1896"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="130" x="425" y="1926.8379">ISO_14443_4</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="425" y="1954.5098">CALYPSO_OLD_CARD_PRIME</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="415" x2="801" y1="1967.3438" y2="1967.3438"/><!--MD5=[273228bd21fa37477fe0813cbe95870a]
class SpecificPluginFactory--><rect fill="#FEFECE" height="151.3438" id="SpecificPluginFactory" style="stroke: #D4AC0D; stroke-width: 3.0;" width="374" x="1353" y="1832"/><ellipse cx="1383" cy="1864" fill="#ADD1B2" rx="22" ry="22" style="stroke: #ADD1B2; stroke-width: 2.0;"/><path d="M1387,1857 Q1387.4063,1856 1387.875,1855.5 Q1388.3438,1855 1388.875,1855 Q1389.8125,1855 1390.4063,1855.5625 Q1391,1856.125 1391,1857.4375 L1391,1860.5625 Q1391,1861.875 1390.4375,1862.4375 Q1389.875,1863 1389,1863 Q1388.2188,1863 1387.7188,1862.6563 Q1387.2188,1862.3125 1387,1861.4063 Q1386.9063,1860.7813 1386.5625,1860.4375 Q1385.9375,1859.7813 1384.8125,1859.4063 Q1383.6875,1859 1382.5625,1859 Q1381.1563,1859 1379.9688,1859.5625 Q1378.8125,1860.125 1377.9063,1861.375 Q1377,1862.625 1377,1864.3438 L1377,1866.1875 Q1377,1868.25 1378.6875,1869.625 Q1380.375,1871 1383.375,1871 Q1385.1563,1871 1386.4063,1870.5938 Q1387.125,1870.375 1387.9375,1869.6563 Q1388.4688,1869.25 1388.75,1869.125 Q1389.0313,1869 1389.375,1869 Q1390.0313,1869 1390.5,1869.5313 Q1391,1870.0313 1391,1870.75 Q1391,1871.4375 1390.3125,1872.25 Q1389.3125,1873.4375 1387.7188,1874.0938 Q1385.625,1875 1383.0625,1875 Q1380.0625,1875 1377.6563,1873.8125 Q1375.7188,1872.875 1374.3438,1870.8438 Q1373,1868.8125 1373,1866.4063 L1373,1864.2188 Q1373,1861.7188 1374.1875,1859.5313 Q1375.4063,1857.3438 1377.5,1856.1875 Q1379.625,1855 1382,1855 Q1383.4375,1855 1384.6875,1855.5 Q1385.9375,1856 1387,1857 Z "/><ellipse cx="1421" cy="1863" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="1433" y="1873.8203">final</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="234" x="1487" y="1873.8203">SpecificPluginFactory</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1355" x2="1725" y1="1896" y2="1896"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1355" x2="1725" y1="1912" y2="1912"/><ellipse cx="1375" cy="1934" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="218" x="1393" y="1942.8379">String getPluginName()</text><ellipse cx="1375" cy="1961.6719" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="246" x="1393" y="1970.5098">Plugin getPluginInstance()</text><!--MD5=[0f8b8cab079f94c46492aeaa0dde1551]
class SpecificPlugin--><rect fill="#FEFECE" height="223.0625" id="SpecificPlugin" style="stroke: #D4AC0D; stroke-width: 3.0;" width="320" x="874" y="1796"/><ellipse cx="939.1" cy="1836.1875" fill="#ADD1B2" rx="22" ry="22" style="stroke: #ADD1B2; stroke-width: 2.0;"/><path d="M943.1,1829.1875 Q943.5063,1828.1875 943.975,1827.6875 Q944.4438,1827.1875 944.975,1827.1875 Q945.9125,1827.1875 946.5063,1827.75 Q947.1,1828.3125 947.1,1829.625 L947.1,1832.75 Q947.1,1834.0625 946.5375,1834.625 Q945.975,1835.1875 945.1,1835.1875 Q944.3188,1835.1875 943.8188,1834.8438 Q943.3188,1834.5 943.1,1833.5938 Q943.0063,1832.9688 942.6625,1832.625 Q942.0375,1831.9688 940.9125,1831.5938 Q939.7875,1831.1875 938.6625,1831.1875 Q937.2563,1831.1875 936.0688,1831.75 Q934.9125,1832.3125 934.0063,1833.5625 Q933.1,1834.8125 933.1,1836.5313 L933.1,1838.375 Q933.1,1840.4375 934.7875,1841.8125 Q936.475,1843.1875 939.475,1843.1875 Q941.2563,1843.1875 942.5063,1842.7813 Q943.225,1842.5625 944.0375,1841.8438 Q944.5688,1841.4375 944.85,1841.3125 Q945.1313,1841.1875 945.475,1841.1875 Q946.1313,1841.1875 946.6,1841.7188 Q947.1,1842.2188 947.1,1842.9375 Q947.1,1843.625 946.4125,1844.4375 Q945.4125,1845.625 943.8188,1846.2813 Q941.725,1847.1875 939.1625,1847.1875 Q936.1625,1847.1875 933.7563,1846 Q931.8188,1845.0625 930.4438,1843.0313 Q929.1,1841 929.1,1838.5938 L929.1,1836.4063 Q929.1,1833.9063 930.2875,1831.7188 Q931.5063,1829.5313 933.6,1828.375 Q935.725,1827.1875 938.1,1827.1875 Q939.5375,1827.1875 940.7875,1827.6875 Q942.0375,1828.1875 943.1,1829.1875 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="132" x="997.9" y="1830.9141">«Singleton»</text><polygon fill="#4177AF" points="984.9,1842.2813,976.9,1854.2813,992.9,1854.2813" style="stroke: #1963A0; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="156" x="996.9" y="1861.1016">SpecificPlugin</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="876" x2="1192" y1="1876.375" y2="1876.375"/><rect fill="none" height="12" style="stroke: #C82930; stroke-width: 2.0;" width="12" x="890" y="1892.375"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="114" x="914" y="1907.2129">String name</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="876" x2="1192" y1="1920.0469" y2="1920.0469"/><rect fill="#F24D5C" height="12" style="stroke: #C82930; stroke-width: 2.0;" width="12" x="890" y="1936.0469"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="150" x="914" y="1950.8848">SpecificPlugin()</text><ellipse cx="896" cy="1969.7188" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="268" x="914" y="1978.5566">SpecificPlugin getInstance()</text><ellipse cx="896" cy="1997.3906" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="914" y="2006.2285">final</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="162" x="966" y="2006.2285">String getName()</text><!--MD5=[4ab0a37e4eea002adccb7015b38062eb]
class SpecificReader--><rect fill="#FEFECE" height="179.0156" id="SpecificReader" style="stroke: #D4AC0D; stroke-width: 3.0;" width="266" x="77" y="1818"/><ellipse cx="112.4" cy="1850" fill="#ADD1B2" rx="22" ry="22" style="stroke: #ADD1B2; stroke-width: 2.0;"/><path d="M116.4,1843 Q116.8063,1842 117.275,1841.5 Q117.7438,1841 118.275,1841 Q119.2125,1841 119.8063,1841.5625 Q120.4,1842.125 120.4,1843.4375 L120.4,1846.5625 Q120.4,1847.875 119.8375,1848.4375 Q119.275,1849 118.4,1849 Q117.6188,1849 117.1188,1848.6563 Q116.6188,1848.3125 116.4,1847.4063 Q116.3063,1846.7813 115.9625,1846.4375 Q115.3375,1845.7813 114.2125,1845.4063 Q113.0875,1845 111.9625,1845 Q110.5563,1845 109.3688,1845.5625 Q108.2125,1846.125 107.3063,1847.375 Q106.4,1848.625 106.4,1850.3438 L106.4,1852.1875 Q106.4,1854.25 108.0875,1855.625 Q109.775,1857 112.775,1857 Q114.5563,1857 115.8063,1856.5938 Q116.525,1856.375 117.3375,1855.6563 Q117.8688,1855.25 118.15,1855.125 Q118.4313,1855 118.775,1855 Q119.4313,1855 119.9,1855.5313 Q120.4,1856.0313 120.4,1856.75 Q120.4,1857.4375 119.7125,1858.25 Q118.7125,1859.4375 117.1188,1860.0938 Q115.025,1861 112.4625,1861 Q109.4625,1861 107.0563,1859.8125 Q105.1188,1858.875 103.7438,1856.8438 Q102.4,1854.8125 102.4,1852.4063 L102.4,1850.2188 Q102.4,1847.7188 103.5875,1845.5313 Q104.8063,1843.3438 106.9,1842.1875 Q109.025,1841 111.4,1841 Q112.8375,1841 114.0875,1841.5 Q115.3375,1842 116.4,1843 Z "/><polygon fill="#4177AF" points="151.6,1841,143.6,1853,159.6,1853" style="stroke: #1963A0; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="168" x="163.6" y="1859.8203">SpecificReader</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="79" x2="341" y1="1882" y2="1882"/><rect fill="none" height="12" style="stroke: #C82930; stroke-width: 2.0;" width="12" x="93" y="1898"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="114" x="117" y="1912.8379">String name</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="79" x2="341" y1="1925.6719" y2="1925.6719"/><polygon fill="#FFFF44" points="99,1937.6719,107,1945.6719,99,1953.6719,91,1945.6719" style="stroke: #B38D22; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="164" x="117" y="1956.5098">SpecificReader()</text><ellipse cx="99" cy="1975.3438" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="117" y="1984.1816">final</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="162" x="169" y="1984.1816">String getName()</text><!--MD5=[230717490673261be3b1e9de94e2929c]
link SmartCardService to Plugin--><path d="M1019.2795,996.8421 C1019.2795,996.8421 1057.734,1091.758 1076,1136 C1084.452,1156.47 1093.476,1178.056 1102.382,1199.21 " fill="none" id="SmartCardService-Plugin" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1112.742,1223.748,1113.1115,1204.0537,1108.8527,1214.5353,1098.3712,1210.2766,1112.742,1223.748" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1108.8527" x2="1102.629" y1="1214.5353" y2="1199.795"/><polygon fill="#A80036" points="1010.308,974.582,1007.3737,988.7026,1019.2795,996.8421,1022.2138,982.7215,1010.308,974.582" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="82" x="1078" y="1095.9902">plugins</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="1001.8384" y="1018.0627">1</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="10" x="1096.1293" y="1202.5191">*</text><!--MD5=[93552c6d1c6bbacc03afdb78ec3f6a5f]
link Reader to Plugin--><path d="M834.586,1341 C871.172,1341 943.904,1341 943.904,1341 " fill="none" id="Reader-Plugin" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="967.904,1341,955.904,1333,943.904,1341,955.904,1349,967.904,1341" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="808.138,1341,826.138,1349,818.138,1341,826.138,1333,808.138,1341" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="818.138" x2="834.138" y1="1341" y2="1341"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="86" x="845" y="1327.9902">readers</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="10" x="823.5423" y="1335.3363">*</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="937.8792" y="1334.7289">1</text><!--MD5=[7b09d406d26667b87d9d6fa628a7875c]
link ContactlessCardCommonProtocols to SmartCardService--><!--MD5=[532b2d0e5a0cf1a10972e0f178d26fe4]
link ContactlessCardCommonProtocols to Reader--><path d="M391.16,943.2 C402.788,1024.172 416.426,1119.134 427.428,1195.744 " fill="none" id="ContactlessCardCommonProtocols-Reader" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="124" x="420" y="1062.9902">application</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="92" x="436" y="1095.6934">protocol</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="106" x="429" y="1128.3965">reference</text><polygon fill="#000000" points="473,1146.1094,479,1158.1094,485,1146.1094,473,1146.1094" style="stroke: #000000; stroke-width: 2.0;"/><!--MD5=[d842569d2f438607af8ed0fb4cdffa11]
link PluginFactory to SmartCardService--><path d="M1340.384,766 C1297.624,766 1249.626,766 1201.9,766 " fill="none" id="PluginFactory-&gt;SmartCardService" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1191.722,766,1209.722,774,1201.722,766,1209.722,758,1191.722,766" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#000000" points="1242,739.3516,1230,745.3516,1242,751.3516,1242,739.3516" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="50" x="1254" y="752.9902">sets</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="10" x="1315.164" y="759.4821">*</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="1207.3731" y="760.0634">1</text><!--MD5=[a4001258c8db405fbf0ed58a92e714fd]
link PluginFactory to Plugin--><path d="M1447.456,842.062 C1393.228,936.466 1298.692,1101.04 1233.352,1214.784 " fill="none" id="PluginFactory-&gt;Plugin" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1228.308,1223.57,1244.2125,1211.949,1233.2903,1214.8995,1230.3398,1203.9774,1228.308,1223.57" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="86" x="1336" y="1095.9902">creates</text><polygon fill="#000000" points="1370,1113.7031,1376,1125.7031,1382,1113.7031,1370,1113.7031" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="1425.2503" y="884.4126">1</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="1221.5362" y="1202.3194">1</text><!--MD5=[606af266cb1c3ee5489afec7c4e81055]
link SpecificPluginFactory to SpecificPlugin--><path d="M1352.662,1908 C1304.026,1908 1251.912,1908 1204.21,1908 " fill="none" id="SpecificPluginFactory-&gt;SpecificPlugin" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1194.102,1908,1212.102,1916,1204.102,1908,1212.102,1900,1194.102,1908" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="86" x="1230.5" y="1894.9902">creates</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="1323.1757" y="1901.7694">1</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="1210.0289" y="1901.5434">1</text><!--MD5=[c0f848f1ce686e4cacbc8a0551faf0fe]
link SpecificPlugin to SpecificReader--><path d="M967.167,1775.3933 C967.167,1775.3933 889.69,1674.074 835,1647 C652.782,1556.792 555.588,1568.988 378,1668 C327.226,1696.308 288.302,1747.18 260.768,1794.824 " fill="none" id="SpecificPlugin-SpecificReader" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="248.164,1817.84,263.8258,1805.894,252.9667,1809.0688,249.7919,1798.2097,248.164,1817.84" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="252.9667" x2="260.651" y1="1809.0688" y2="1795.036"/><polygon fill="#A80036" points="979.94,1795.712,980.3264,1781.295,967.167,1775.3933,966.7806,1789.8103,979.94,1795.712" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="86" x="747" y="1611.9902">readers</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="958.1167" y="1774.3704">1</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="10" x="243.4495" y="1796.0455">*</text><!--MD5=[6a122d5edee81846362aed7aa46205e6]
link SpecificReader to SpecificSupportedProtocols--><!--MD5=[4c2db7e77e4167a5f3a0737590b2dd9f]
link SpecificTerminal to SmartCardService--><path d="M928,257.198 C928,321.072 928,440.606 928,547.548 " fill="none" id="SpecificTerminal-&gt;SmartCardService" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="928,557.856,936,539.856,928,547.856,920,539.856,928,557.856" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="56" x="930" y="349.9902">uses</text><polygon fill="#000000" points="949,367.7031,955,379.7031,961,367.7031,949,367.7031" style="stroke: #000000; stroke-width: 2.0;"/><!--MD5=[af065bc95178f4f6ad311d69d30c7e30]
reverse link Plugin to SpecificPlugin--><path d="M1126.81,1497.784 C1105.34,1592.22 1078.402,1710.698 1059.088,1795.654 " fill="none" id="Plugin&lt;-SpecificPlugin" style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1113.268,1494.19,1135.788,1458.29,1140.572,1500.398,1113.268,1494.19" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="134" x="1114" y="1611.9902">implements</text><!--MD5=[66ced2f75dc1a13cd3c394fa75e05507]
reverse link Reader to SpecificReader--><path d="M367.432,1523.444 C363.544,1532.414 359.714,1541.304 356,1550 C317.162,1640.918 274.434,1745.698 245.294,1817.924 " fill="none" id="Reader&lt;-SpecificReader" style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="354.768,1517.46,383.616,1486.414,380.426,1528.672,354.768,1517.46" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="134" x="358" y="1611.9902">implements</text><!--MD5=[136abeb6498542290e7ac248186897f6]
reverse link PluginFactory to SpecificPluginFactory--><path d="M1495.068,883.348 C1505.312,1116.518 1528.232,1638.176 1536.74,1831.8 " fill="none" id="PluginFactory&lt;-SpecificPluginFactory" style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1481.05,883.244,1493.28,842.668,1509.024,882.014,1481.05,883.244" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="134" x="1524" y="1351.9902">implements</text><!--MD5=[5d113f9f00ffa0abe3b5115086b97c88]
link Reader to SpecificSupportedProtocols--><path d="M488.788,1486.526 C520.082,1596.642 562.012,1744.18 586.896,1831.742 " fill="none" id="Reader-SpecificSupportedProtocols" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#000000" points="580,1572,586,1560,592,1572,580,1572" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="68" x="555" y="1604.9902">plugin</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="92" x="543" y="1637.6934">protocol</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="106" x="536" y="1670.3965">reference</text><!--MD5=[608a8032a3a1a76404a1f1b1cbd561f5]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package specific.terminal_application #85C1E9 {
  class SpecificTerminal
}

package org.eclipse.keyple.core.service #FFFFFF {
+class "<b>final</b> SmartCardService" as SmartCardService << Singleton >> {
  -<b>final</b> {static}SmartCardService uniqueInstance
  -<b>final</b> ConcurrentMap<String, Plugin> plugins
  +{static}SmartCardService getInstance()
  +String getVersion()

  +Plugin registerPlugin(PluginFactory pluginFactory)
  +boolean isRegistered(String pluginName)
  +boolean unregisterPlugin(String pluginName)

  +Plugin getPlugin(String name)
  +Map<String, Plugin> getPlugins()
}
+interface Plugin {
  +String getName()

  +Map<String, Reader> getReaders()
  +Set<String> getReaderNames()
  +Reader getReader(String name)
}
+interface Reader {
  +String getName()

  +boolean isCardPresent()
  +boolean isContactless()

  +activateProtocol(String applicationReference, String pluginReference)
  +deactivateProtocol(String applicationReference)
}
+interface PluginFactory {
  +String getPluginName()
  +Plugin getPluginInstance()
}

    package util #FFFFFF {
enum ContactlessCardCommonProtocols {
.. standard ..
  ISO_14443_4
.. NFC compliant ..
  NFC_A_ISO_14443_3A
  NFC_B_ISO_14443_3B
  NFC_F_JIS_6319_4
  NFC_V_ISO_15693
.. proprietary ..
  CALYPSO_OLD_CARD_PRIME
}
    }

    SmartCardService "1" *-down-> "*" Plugin : plugins
    Plugin "1" *-left-> "*" Reader : readers
    ContactlessCardCommonProtocols -right[hidden]- SmartCardService
    ContactlessCardCommonProtocols -down- Reader : application\nprotocol\nreference >

  SmartCardService "1" <-right- "*" PluginFactory : sets <
  PluginFactory "1" - -> "1" Plugin : creates >
}

package specific.plugin #D7BDE2 {
  +enum SpecificSupportedProtocols {
    ISO_14443_4
    CALYPSO_OLD_CARD_PRIME
  }


  +class "<b>final</b> SpecificPluginFactory" as SpecificPluginFactory {
    +String getPluginName()
    +Plugin getPluginInstance()
  }

  ~class SpecificPlugin << Singleton >> {
    -String name
    -SpecificPlugin()
    +{static} SpecificPlugin getInstance()
    +<b>final</b> String getName()
  }

  ~class SpecificReader {
    -String name
    #SpecificReader()
    +<b>final</b> String getName()
  }

  SpecificPluginFactory "1" -right-> "1" SpecificPlugin : creates
  SpecificPlugin "1" *-right-> "*" SpecificReader : readers
  SpecificSupportedProtocols -left[hidden]- SpecificReader
}
SpecificTerminal -down-> SmartCardService : uses >

Plugin <|.down. SpecificPlugin : implements
Reader <|.down. SpecificReader : implements
PluginFactory <|.down. SpecificPluginFactory : implements
Reader - - SpecificSupportedProtocols : plugin\nprotocol\nreference <
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>