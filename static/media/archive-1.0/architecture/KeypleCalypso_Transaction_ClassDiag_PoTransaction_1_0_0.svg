<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2005px" preserveAspectRatio="none" style="width:1216px;height:2005px;" version="1.1" viewBox="0 0 1216 2005" width="1216px" zoomAndPan="magnify"><defs/><g><!--MD5=[a0ee729f83dda31870600cae83338b00]
cluster org.keyple.calypso--><polygon fill="#FFFFFF" points="22,24,159,24,166,47.6094,1194,47.6094,1194,1993,22,1993,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="166" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="131" x="26" y="40.5332">org.keyple.calypso</text><!--MD5=[f9c58d90839a0c7c212d8c6553ac9eb7]
cluster transaction--><polygon fill="#FFFFFF" points="46,68,131,68,138,91.6094,1170,91.6094,1170,1840,46,1840,46,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="138" y1="91.6094" y2="91.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="50" y="84.5332">transaction</text><!--MD5=[858307e347215d8034d295bce1f15f07]
class SelectFileControl--><rect fill="#FEFECE" height="89.5078" id="SelectFileControl" style="stroke: #D4AC0D; stroke-width: 1.5;" width="137" x="889.5" y="1887"/><ellipse cx="904.5" cy="1903" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M903,1904 L903,1906 L907,1906 L907,1905 L907,1904.5156 L907.625,1904 L908,1904 L908.375,1904 L909,1904.5156 L909,1905 L909,1908 L901,1908 L900.5156,1908 L900,1907.375 L900,1907 L900,1906.625 L900.5156,1906 L901,1906 L901,1906 L901,1900 L901,1900 L900.5156,1900 L900,1899.375 L900,1899 L900,1898.625 L900.5156,1898 L901,1898 L909,1898 L909,1901 L909,1901.4844 L908.375,1902 L908,1902 L907.625,1902 L907,1901.4844 L907,1901 L907,1900 L903,1900 L903,1902 L904,1902 L904,1901.5156 L904,1901.5156 L904.625,1901 L905,1901 L905.375,1901 L906,1901.5156 L906,1902 L906,1904 L906,1904.4844 L905.375,1905 L905.375,1905 L905,1905 L904.625,1905 L904,1904.4844 L904,1904.4844 L904,1904 L903,1904 Z "/><ellipse cx="923.5" cy="1902.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="929.5" y="1907.9102">SelectFileControl</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="890.5" x2="1025.5" y1="1919" y2="1919"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="895.5" y="1934.4189">FIRST_EF,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="895.5" y="1948.2549">NEXT_EF,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="895.5" y="1962.0908">CURRENT_DF</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="890.5" x2="1025.5" y1="1968.5078" y2="1968.5078"/><!--MD5=[4ea882bf7bd4263b7e27aeb216026ca4]
class PoSecuritySettingBuilder--><rect fill="#FEFECE" height="200.1953" id="PoSecuritySettingBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="486" x="199" y="104"/><ellipse cx="335.25" cy="120" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M337.25,116.5 Q337.4531,116 337.6875,115.75 Q337.9219,115.5 338.1875,115.5 Q338.6563,115.5 338.9531,115.7813 Q339.25,116.0625 339.25,116.7188 L339.25,118.2813 Q339.25,118.9375 338.9688,119.2188 Q338.6875,119.5 338.25,119.5 Q337.8594,119.5 337.6094,119.3281 Q337.3594,119.1563 337.25,118.7031 Q337.2031,118.3906 337.0313,118.2188 Q336.7188,117.8906 336.1563,117.7031 Q335.5938,117.5 335.0313,117.5 Q334.3281,117.5 333.7344,117.7813 Q333.1563,118.0625 332.7031,118.6875 Q332.25,119.3125 332.25,120.1719 L332.25,121.0938 Q332.25,122.125 333.0938,122.8125 Q333.9375,123.5 335.4375,123.5 Q336.3281,123.5 336.9531,123.2969 Q337.3125,123.1875 337.7188,122.8281 Q337.9844,122.625 338.125,122.5625 Q338.2656,122.5 338.4375,122.5 Q338.7656,122.5 339,122.7656 Q339.25,123.0156 339.25,123.375 Q339.25,123.7188 338.9063,124.125 Q338.4063,124.7188 337.6094,125.0469 Q336.5625,125.5 335.2813,125.5 Q333.7813,125.5 332.5781,124.9063 Q331.6094,124.4375 330.9219,123.4219 Q330.25,122.4063 330.25,121.2031 L330.25,120.1094 Q330.25,118.8594 330.8438,117.7656 Q331.4531,116.6719 332.5,116.0938 Q333.5625,115.5 334.75,115.5 Q335.4688,115.5 336.0938,115.75 Q336.7188,116 337.25,116.5 Z "/><ellipse cx="360.75" cy="119.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="29" x="366.75" y="124.9102">static</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="398.75" y="124.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="135" x="425.75" y="124.9102">PoSecuritySettingBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="200" x2="684" y1="136" y2="136"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="200" x2="684" y1="144" y2="144"/><ellipse cx="210" cy="155" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="338" x="219" y="159.4189">PoSecuritySettingBuilder(CardResource&lt;CalypsoSam&gt; samResource)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="222" y="173.2549"/><ellipse cx="210" cy="182.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="457" x="219" y="187.0908">PoSecuritySettingBuilder sessionModificationMode(ModificationMode sessionModificationMode)</text><ellipse cx="210" cy="196.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="363" x="219" y="200.9268">PoSecuritySettingBuilder ratificationMode(RatificationMode ratificationMode)</text><ellipse cx="210" cy="210.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="424" x="219" y="214.7627">PoSecuritySettingBuilder sessionDefaultKif(AccessLevel sessionAccessLevel, byte kif)</text><ellipse cx="210" cy="224.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="436" x="219" y="228.5986">PoSecuritySettingBuilder sessionDefaultKvc(AccessLevel sessionAccessLevel, byte kvc)</text><ellipse cx="210" cy="238.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="460" x="219" y="242.4346">PoSecuritySettingBuilder sessionDefaultKeyRecordNumber(AccessLevel sessionAccessLevel,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="219" y="256.2705">byte keyRecordNumber)</text><ellipse cx="210" cy="265.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="397" x="219" y="270.1064">PoSecuritySettingBuilder sessionAuthorizedKvcList(List&lt;Byte&gt; authorizedKvcList)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="222" y="283.9424"/><ellipse cx="210" cy="293.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="219" y="297.7783">PoSecuritySetting build()</text><!--MD5=[e4d4ea7db949ad9d239210033b878e09]
class PoSecuritySetting--><rect fill="#FEFECE" height="338.5547" id="PoSecuritySetting" style="stroke: #D4AC0D; stroke-width: 1.5;" width="329" x="288.5" y="382"/><ellipse cx="381.75" cy="398" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M383.75,394.5 Q383.9531,394 384.1875,393.75 Q384.4219,393.5 384.6875,393.5 Q385.1563,393.5 385.4531,393.7813 Q385.75,394.0625 385.75,394.7188 L385.75,396.2813 Q385.75,396.9375 385.4688,397.2188 Q385.1875,397.5 384.75,397.5 Q384.3594,397.5 384.1094,397.3281 Q383.8594,397.1563 383.75,396.7031 Q383.7031,396.3906 383.5313,396.2188 Q383.2188,395.8906 382.6563,395.7031 Q382.0938,395.5 381.5313,395.5 Q380.8281,395.5 380.2344,395.7813 Q379.6563,396.0625 379.2031,396.6875 Q378.75,397.3125 378.75,398.1719 L378.75,399.0938 Q378.75,400.125 379.5938,400.8125 Q380.4375,401.5 381.9375,401.5 Q382.8281,401.5 383.4531,401.2969 Q383.8125,401.1875 384.2188,400.8281 Q384.4844,400.625 384.625,400.5625 Q384.7656,400.5 384.9375,400.5 Q385.2656,400.5 385.5,400.7656 Q385.75,401.0156 385.75,401.375 Q385.75,401.7188 385.4063,402.125 Q384.9063,402.7188 384.1094,403.0469 Q383.0625,403.5 381.7813,403.5 Q380.2813,403.5 379.0781,402.9063 Q378.1094,402.4375 377.4219,401.4219 Q376.75,400.4063 376.75,399.2031 L376.75,398.1094 Q376.75,396.8594 377.3438,395.7656 Q377.9531,394.6719 379,394.0938 Q380.0625,393.5 381.25,393.5 Q381.9688,393.5 382.5938,393.75 Q383.2188,394 383.75,394.5 Z "/><ellipse cx="407.25" cy="397.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="413.25" y="402.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="440.25" y="402.9102">PoSecuritySetting</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="289.5" x2="616.5" y1="414" y2="414"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="296.5" y="422"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="235" x="308.5" y="429.4189">final CardResource&lt;CalypsoSam&gt; samResource</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="296.5" y="435.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="308.5" y="443.2549">List&lt;Byte&gt; authorizedKvcList</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="296.5" y="449.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="308.5" y="457.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="199" x="334.5" y="457.0908">EnumMap&lt;AccessLevel, Byte&gt; defaultKif</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="296.5" y="463.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="308.5" y="470.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="205" x="334.5" y="470.9268">EnumMap&lt;AccessLevel, Byte&gt; defaultKvc</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="296.5" y="477.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="308.5" y="484.7627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="277" x="334.5" y="484.7627">EnumMap&lt;AccessLevel, Byte&gt; defaultKeyRecordNumber</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="296.5" y="491.1797"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="308.5" y="498.5986">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="334.5" y="498.5986">ModificationMode sessionModificationMode = ATOMIC</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="296.5" y="505.0156"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="308.5" y="512.4346">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="254" x="334.5" y="512.4346">RatificationMode ratificationMode = CLOSE_RATIFIED</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="296.5" y="518.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="308.5" y="526.2705">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="255" x="334.5" y="526.2705">PinTransmissionMode ratificationMode = ENCRYPTED</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="289.5" x2="616.5" y1="532.6875" y2="532.6875"/><ellipse cx="299.5" cy="543.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="249" x="308.5" y="548.1064">PoSecuritySetting(PoSecuritySettingBuilder builder);</text><polygon fill="#FFFF44" points="299.5,552.5234,303.5,556.5234,299.5,560.5234,295.5,556.5234" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="308.5" y="561.9424">ModificationMode getSessionModificationMode()</text><polygon fill="#FFFF44" points="299.5,566.3594,303.5,570.3594,299.5,574.3594,295.5,570.3594" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="223" x="308.5" y="575.7783">RatificationMode getSessionRatificationMode()</text><polygon fill="#FFFF44" points="299.5,580.1953,303.5,584.1953,299.5,588.1953,295.5,584.1953" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="223" x="308.5" y="589.6143">Byte getSessionDefaultKif(AccessLevel level)</text><polygon fill="#FFFF44" points="299.5,594.0313,303.5,598.0313,299.5,602.0313,295.5,598.0313" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="308.5" y="603.4502">Byte getSessionDefaultKvc(AccessLevel level)</text><polygon fill="#FFFF44" points="299.5,607.8672,303.5,611.8672,299.5,615.8672,295.5,611.8672" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="301" x="308.5" y="617.2861">Byte getSessionDefaultKeyRecordNumber(AccessLevel level)</text><polygon fill="#FFFF44" points="299.5,621.7031,303.5,625.7031,299.5,629.7031,295.5,625.7031" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="308.5" y="631.1221">Boolean isSessionKvcAuthorized(byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="311.5" y="644.958"/><polygon fill="#FFFF44" points="299.5,649.375,303.5,653.375,299.5,657.375,295.5,653.375" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="308.5" y="658.7939">PinTransmissionMode getPinTransmissionMode()</text><polygon fill="#4177AF" points="299.5,664.2109,295.5,670.2109,303.5,670.2109" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="308.5" y="672.6299">KeyReference getDefaultPinCipheringKey()</text><polygon fill="#4177AF" points="299.5,678.0469,295.5,684.0469,303.5,684.0469" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="308.5" y="686.4658">LogRead getSvGetLogReadMode()</text><polygon fill="#4177AF" points="299.5,691.8828,295.5,697.8828,303.5,697.8828" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="308.5" y="700.3018">NegativeBalance getSvNegativeBalance()</text><polygon fill="#4177AF" points="299.5,705.7188,295.5,711.7188,303.5,711.7188" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="205" x="308.5" y="714.1377">Boolean isSvKvcAuthorized(byte kvc) ???</text><path d="M720.5,150 L720.5,200 L685.149,204 L720.5,208 L720.5,258.1094 A0,0 0 0 0 720.5,258.1094 L1153.5,258.1094 A0,0 0 0 0 1153.5,258.1094 L1153.5,160 L1143.5,150 L720.5,150 A0,0 0 0 0 720.5,150 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1143.5,150 L1143.5,160 L1153.5,160 L1143.5,150 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="726.5" y="168.4951">Default values in PoTransaction if PoSecuritySetting doesn't specify it:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="734.5" y="184.8467">- session ModificationMode as ATOMIC</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="283" x="734.5" y="201.1982">- session RatificationMode as CLOSE_RATIFIED</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="360" x="734.5" y="217.5498">- PinTransmissionMode as ENCRYPTED if PoSecurity defined</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="734.5" y="233.9014">- any KIF/KVC values are authorized</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="404" x="734.5" y="250.2529">- no verification is done for: HCE token expiration, revoked PO or SAM</text><!--MD5=[e8e21ba3995782366e9aa9ad2c6b2d5f]
class PoResource--><rect fill="#FEFECE" height="75.6719" id="PoResource" style="stroke: #D4AC0D; stroke-width: 1.5;" width="191" x="62.5" y="513.5"/><ellipse cx="84.25" cy="529.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M86.25,526 Q86.4531,525.5 86.6875,525.25 Q86.9219,525 87.1875,525 Q87.6563,525 87.9531,525.2813 Q88.25,525.5625 88.25,526.2188 L88.25,527.7813 Q88.25,528.4375 87.9688,528.7188 Q87.6875,529 87.25,529 Q86.8594,529 86.6094,528.8281 Q86.3594,528.6563 86.25,528.2031 Q86.2031,527.8906 86.0313,527.7188 Q85.7188,527.3906 85.1563,527.2031 Q84.5938,527 84.0313,527 Q83.3281,527 82.7344,527.2813 Q82.1563,527.5625 81.7031,528.1875 Q81.25,528.8125 81.25,529.6719 L81.25,530.5938 Q81.25,531.625 82.0938,532.3125 Q82.9375,533 84.4375,533 Q85.3281,533 85.9531,532.7969 Q86.3125,532.6875 86.7188,532.3281 Q86.9844,532.125 87.125,532.0625 Q87.2656,532 87.4375,532 Q87.7656,532 88,532.2656 Q88.25,532.5156 88.25,532.875 Q88.25,533.2188 87.9063,533.625 Q87.4063,534.2188 86.6094,534.5469 Q85.5625,535 84.2813,535 Q82.7813,535 81.5781,534.4063 Q80.6094,533.9375 79.9219,532.9219 Q79.25,531.9063 79.25,530.7031 L79.25,529.6094 Q79.25,528.3594 79.8438,527.2656 Q80.4531,526.1719 81.5,525.5938 Q82.5625,525 83.75,525 Q84.4688,525 85.0938,525.25 Q85.7188,525.5 86.25,526 Z "/><ellipse cx="104.75" cy="529" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="110.75" y="534.4102">SeResource</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="62" x="194.5" y="510.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="195.5" y="523.957">CalypsoPo</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63.5" x2="252.5" y1="545.5" y2="545.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63.5" x2="252.5" y1="553.5" y2="553.5"/><ellipse cx="73.5" cy="564.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="82.5" y="568.9189">SeResource(</text><text fill="#FF0000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="146.5" y="568.9189">SeReader seReader</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="3" x="244.5" y="568.9189">,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="82.5" y="582.7549">CalypsoPo po);</text><!--MD5=[8eb5cec01ad571a9feeff1db4f73a667]
class PoTransaction--><rect fill="#FEFECE" height="601.4375" id="PoTransaction" style="stroke: #D4AC0D; stroke-width: 1.5;" width="611" x="216.5" y="782"/><ellipse cx="472.25" cy="798" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M474.25,794.5 Q474.4531,794 474.6875,793.75 Q474.9219,793.5 475.1875,793.5 Q475.6563,793.5 475.9531,793.7813 Q476.25,794.0625 476.25,794.7188 L476.25,796.2813 Q476.25,796.9375 475.9688,797.2188 Q475.6875,797.5 475.25,797.5 Q474.8594,797.5 474.6094,797.3281 Q474.3594,797.1563 474.25,796.7031 Q474.2031,796.3906 474.0313,796.2188 Q473.7188,795.8906 473.1563,795.7031 Q472.5938,795.5 472.0313,795.5 Q471.3281,795.5 470.7344,795.7813 Q470.1563,796.0625 469.7031,796.6875 Q469.25,797.3125 469.25,798.1719 L469.25,799.0938 Q469.25,800.125 470.0938,800.8125 Q470.9375,801.5 472.4375,801.5 Q473.3281,801.5 473.9531,801.2969 Q474.3125,801.1875 474.7188,800.8281 Q474.9844,800.625 475.125,800.5625 Q475.2656,800.5 475.4375,800.5 Q475.7656,800.5 476,800.7656 Q476.25,801.0156 476.25,801.375 Q476.25,801.7188 475.9063,802.125 Q475.4063,802.7188 474.6094,803.0469 Q473.5625,803.5 472.2813,803.5 Q470.7813,803.5 469.5781,802.9063 Q468.6094,802.4375 467.9219,801.4219 Q467.25,800.4063 467.25,799.2031 L467.25,798.1094 Q467.25,796.8594 467.8438,795.7656 Q468.4531,794.6719 469.5,794.0938 Q470.5625,793.5 471.75,793.5 Q472.4688,793.5 473.0938,793.75 Q473.7188,794 474.25,794.5 Z "/><ellipse cx="497.75" cy="797.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="503.75" y="802.9102">PoTransaction</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="217.5" x2="826.5" y1="814" y2="814"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="217.5" x2="826.5" y1="822" y2="822"/><ellipse cx="227.5" cy="833" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="388" x="236.5" y="837.4189">PoTransaction(PoResource poResource, PoSecuritySetting[0..1] securitySetting)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="239.5" y="851.2549"/><ellipse cx="227.5" cy="860.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="865.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="262.5" y="865.0908">prepareReleaseChannel()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="239.5" y="878.9268"/><ellipse cx="227.5" cy="888.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="892.7627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="262.5" y="892.7627">processPoCommands()</text><ellipse cx="227.5" cy="902.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="906.5986">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="262.5" y="906.5986">processOpening(AccessLevel level)</text><ellipse cx="227.5" cy="916.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="920.4346">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="262.5" y="920.4346">processClosing()</text><ellipse cx="227.5" cy="929.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="934.2705">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="262.5" y="934.2705">processCancel()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="239.5" y="948.1064"/><ellipse cx="227.5" cy="957.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="961.9424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="262.5" y="961.9424">prepareCheckPinStatus()</text><ellipse cx="227.5" cy="971.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="975.7783">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="262.5" y="975.7783">processVerifyPin(String pin)</text><ellipse cx="227.5" cy="985.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="989.6143">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="262.5" y="989.6143">processVerifyPin(byte[] pin)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="239.5" y="1003.4502"/><ellipse cx="227.5" cy="1012.8672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1017.2861">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="338" x="262.5" y="1017.2861">prepareSvGet(SvSetting.Operation operation, SvSetting.Action action)</text><ellipse cx="227.5" cy="1026.7031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1031.1221">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="262.5" y="1031.1221">prepareSvReload(int amount, int date, int time, String free)</text><ellipse cx="227.5" cy="1040.5391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1044.958">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="309" x="262.5" y="1044.958">prepareSvReload(int amount, byte[] date, byte[] time, byte[] free)</text><ellipse cx="227.5" cy="1054.375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1058.7939">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="262.5" y="1058.7939">prepareSvReload(int amount)</text><ellipse cx="227.5" cy="1068.2109" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1072.6299">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="262.5" y="1072.6299">prepareSvDebit(int amount, int date, int time)</text><ellipse cx="227.5" cy="1082.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1086.4658">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="262.5" y="1086.4658">prepareSvDebit(int amount, byte[] date, byte[] time)</text><ellipse cx="227.5" cy="1095.8828" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1100.3018">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="262.5" y="1100.3018">prepareSvDebit(int amount)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="239.5" y="1114.1377"/><ellipse cx="227.5" cy="1123.5547" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1127.9736">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="262.5" y="1127.9736">prepareSelectFile(short lid)</text><ellipse cx="227.5" cy="1137.3906" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1141.8096">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="262.5" y="1141.8096">prepareSelectFile(byte[] lid)</text><ellipse cx="227.5" cy="1151.2266" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1155.6455">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="262.5" y="1155.6455">prepareSelectFile(SelectFileControl control)</text><ellipse cx="227.5" cy="1165.0625" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1169.4814">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="262.5" y="1169.4814">prepareReadRecordFile(byte sfi, int recordNumber)</text><ellipse cx="227.5" cy="1178.8984" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1183.3174">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="455" x="262.5" y="1183.3174">prepareReadRecordFile(byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize))</text><ellipse cx="227.5" cy="1192.7344" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1197.1533">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="559" x="262.5" y="1197.1533">prepareReadSubRecordFile(byte sfi, int firstRecordNumber, int numberOfRecord, int recordOffset, int recordLength)</text><ellipse cx="227.5" cy="1206.5703" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1210.9893">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="324" x="262.5" y="1210.9893">prepareReadBinaryFile(byte sfi, int dataLength, int[0..1] dataOffset)</text><ellipse cx="227.5" cy="1220.4063" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1224.8252">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="261" x="262.5" y="1224.8252">prepareReadCounterFile(byte sfi, int countersNumber)</text><ellipse cx="227.5" cy="1234.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1238.6611">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="245" x="262.5" y="1238.6611">prepareAppendRecord(byte sfi, byte[] recordData)</text><ellipse cx="227.5" cy="1248.0781" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1252.4971">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="330" x="262.5" y="1252.4971">prepareUpdateRecord(byte sfi, int recordNumber, byte[] recordData)</text><ellipse cx="227.5" cy="1261.9141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1266.333">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="321" x="262.5" y="1266.333">prepareWriteRecord(byte sfi, int recordNumber, byte[] recordData)</text><ellipse cx="227.5" cy="1275.75" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1280.1689">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="331" x="262.5" y="1280.1689">prepareUpdateBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)</text><ellipse cx="227.5" cy="1289.5859" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1294.0049">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="322" x="262.5" y="1294.0049">prepareWriteBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)</text><ellipse cx="227.5" cy="1303.4219" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1307.8408">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="318" x="262.5" y="1307.8408">prepareIncreaseCounter(byte sfi, int counterNumber, int incValue)</text><ellipse cx="227.5" cy="1317.2578" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1321.6768">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="327" x="262.5" y="1321.6768">prepareDecreaseCounter(byte sfi, int counterNumber, int decValue)</text><ellipse cx="227.5" cy="1331.0938" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1335.5127">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="300" x="262.5" y="1335.5127">prepareSetCounter(byte sfi, int counterNumber, int newValue)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="239.5" y="1349.3486"/><ellipse cx="227.5" cy="1358.7656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1363.1846">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="262.5" y="1363.1846">prepareInvalidate()</text><ellipse cx="227.5" cy="1372.6016" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="236.5" y="1377.0205">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="262.5" y="1377.0205">prepareRehabilitate()</text><!--MD5=[2242c43c330acc437358859ea7f59776]
class SessionState--><rect fill="#FEFECE" height="89.5078" id="SessionState" style="stroke: #D4AC0D; stroke-width: 1.5;" width="125" x="459.5" y="1444"/><ellipse cx="478.1" cy="1460" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M476.6,1461 L476.6,1463 L480.6,1463 L480.6,1462 L480.6,1461.5156 L481.225,1461 L481.6,1461 L481.975,1461 L482.6,1461.5156 L482.6,1462 L482.6,1465 L474.6,1465 L474.1156,1465 L473.6,1464.375 L473.6,1464 L473.6,1463.625 L474.1156,1463 L474.6,1463 L474.6,1463 L474.6,1457 L474.6,1457 L474.1156,1457 L473.6,1456.375 L473.6,1456 L473.6,1455.625 L474.1156,1455 L474.6,1455 L482.6,1455 L482.6,1458 L482.6,1458.4844 L481.975,1459 L481.6,1459 L481.225,1459 L480.6,1458.4844 L480.6,1458 L480.6,1457 L476.6,1457 L476.6,1459 L477.6,1459 L477.6,1458.5156 L477.6,1458.5156 L478.225,1458 L478.6,1458 L478.975,1458 L479.6,1458.5156 L479.6,1459 L479.6,1461 L479.6,1461.4844 L478.975,1462 L478.975,1462 L478.6,1462 L478.225,1462 L477.6,1461.4844 L477.6,1461.4844 L477.6,1461 L476.6,1461 Z "/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="494.9" y="1456.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="503.9" y="1464.9102">SessionState</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="460.5" x2="583.5" y1="1476" y2="1476"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="465.5" y="1491.4189">SESSION_UNITIALIZED,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="465.5" y="1505.2549">SESSION_OPEN,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="465.5" y="1519.0908">SESSION_CLOSED</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="460.5" x2="583.5" y1="1525.5078" y2="1525.5078"/><!--MD5=[bf7a0c1c8b34ad25b46528e084cfcf9f]
class SessionSetting--><rect fill="#FEFECE" height="48" id="SessionSetting" style="stroke: #D4AC0D; stroke-width: 1.5;" width="154" x="620" y="1465"/><ellipse cx="635" cy="1481" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M637,1477.5 Q637.2031,1477 637.4375,1476.75 Q637.6719,1476.5 637.9375,1476.5 Q638.4063,1476.5 638.7031,1476.7813 Q639,1477.0625 639,1477.7188 L639,1479.2813 Q639,1479.9375 638.7188,1480.2188 Q638.4375,1480.5 638,1480.5 Q637.6094,1480.5 637.3594,1480.3281 Q637.1094,1480.1563 637,1479.7031 Q636.9531,1479.3906 636.7813,1479.2188 Q636.4688,1478.8906 635.9063,1478.7031 Q635.3438,1478.5 634.7813,1478.5 Q634.0781,1478.5 633.4844,1478.7813 Q632.9063,1479.0625 632.4531,1479.6875 Q632,1480.3125 632,1481.1719 L632,1482.0938 Q632,1483.125 632.8438,1483.8125 Q633.6875,1484.5 635.1875,1484.5 Q636.0781,1484.5 636.7031,1484.2969 Q637.0625,1484.1875 637.4688,1483.8281 Q637.7344,1483.625 637.875,1483.5625 Q638.0156,1483.5 638.1875,1483.5 Q638.5156,1483.5 638.75,1483.7656 Q639,1484.0156 639,1484.375 Q639,1484.7188 638.6563,1485.125 Q638.1563,1485.7188 637.3594,1486.0469 Q636.3125,1486.5 635.0313,1486.5 Q633.5313,1486.5 632.3281,1485.9063 Q631.3594,1485.4375 630.6719,1484.4219 Q630,1483.4063 630,1482.2031 L630,1481.1094 Q630,1479.8594 630.5938,1478.7656 Q631.2031,1477.6719 632.25,1477.0938 Q633.3125,1476.5 634.5,1476.5 Q635.2188,1476.5 635.8438,1476.75 Q636.4688,1477 637,1477.5 Z "/><ellipse cx="654" cy="1480.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="660" y="1485.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="687" y="1485.9102">SessionSetting</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="621" x2="773" y1="1497" y2="1497"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="621" x2="773" y1="1505" y2="1505"/><!--MD5=[45c40070d26b32101cf9b7ab72916b9e]
class AccessLevel--><rect fill="#FEFECE" height="89.5078" id="AccessLevel" style="stroke: #D4AC0D; stroke-width: 1.5;" width="223" x="791.5" y="1734"/><ellipse cx="858.75" cy="1750" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M857.25,1751 L857.25,1753 L861.25,1753 L861.25,1752 L861.25,1751.5156 L861.875,1751 L862.25,1751 L862.625,1751 L863.25,1751.5156 L863.25,1752 L863.25,1755 L855.25,1755 L854.7656,1755 L854.25,1754.375 L854.25,1754 L854.25,1753.625 L854.7656,1753 L855.25,1753 L855.25,1753 L855.25,1747 L855.25,1747 L854.7656,1747 L854.25,1746.375 L854.25,1746 L854.25,1745.625 L854.7656,1745 L855.25,1745 L863.25,1745 L863.25,1748 L863.25,1748.4844 L862.625,1749 L862.25,1749 L861.875,1749 L861.25,1748.4844 L861.25,1748 L861.25,1747 L857.25,1747 L857.25,1749 L858.25,1749 L858.25,1748.5156 L858.25,1748.5156 L858.875,1748 L859.25,1748 L859.625,1748 L860.25,1748.5156 L860.25,1749 L860.25,1751 L860.25,1751.4844 L859.625,1752 L859.625,1752 L859.25,1752 L858.875,1752 L858.25,1751.4844 L858.25,1751.4844 L858.25,1751 L857.25,1751 Z "/><ellipse cx="884.25" cy="1749.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="890.25" y="1754.9102">AccessLevel</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="792.5" x2="1013.5" y1="1766" y2="1766"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="792.5" x2="1013.5" y1="1774" y2="1774"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="211" x="797.5" y="1789.4189">SESSION_LVL_PERSO("perso", byte 0x01),</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="797.5" y="1803.2549">SESSION_LVL_LOAD("load", byte 0x02),</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="797.5" y="1817.0908">SESSION_LVL_DEBIT("debit", byte 0x03)</text><!--MD5=[e19a48d2c11a8f9a6a11f4ef9a7d8d18]
class ModificationMode--><rect fill="#FEFECE" height="75.6719" id="ModificationMode" style="stroke: #D4AC0D; stroke-width: 1.5;" width="138" x="665" y="1595"/><ellipse cx="680" cy="1611" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M678.5,1612 L678.5,1614 L682.5,1614 L682.5,1613 L682.5,1612.5156 L683.125,1612 L683.5,1612 L683.875,1612 L684.5,1612.5156 L684.5,1613 L684.5,1616 L676.5,1616 L676.0156,1616 L675.5,1615.375 L675.5,1615 L675.5,1614.625 L676.0156,1614 L676.5,1614 L676.5,1614 L676.5,1608 L676.5,1608 L676.0156,1608 L675.5,1607.375 L675.5,1607 L675.5,1606.625 L676.0156,1606 L676.5,1606 L684.5,1606 L684.5,1609 L684.5,1609.4844 L683.875,1610 L683.5,1610 L683.125,1610 L682.5,1609.4844 L682.5,1609 L682.5,1608 L678.5,1608 L678.5,1610 L679.5,1610 L679.5,1609.5156 L679.5,1609.5156 L680.125,1609 L680.5,1609 L680.875,1609 L681.5,1609.5156 L681.5,1610 L681.5,1612 L681.5,1612.4844 L680.875,1613 L680.875,1613 L680.5,1613 L680.125,1613 L679.5,1612.4844 L679.5,1612.4844 L679.5,1612 L678.5,1612 Z "/><ellipse cx="699" cy="1610.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="705" y="1615.9102">ModificationMode</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="666" x2="802" y1="1627" y2="1627"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="42" x="671" y="1642.4189">ATOMIC,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="671" y="1656.2549">MULTIPLE</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="666" x2="802" y1="1662.6719" y2="1662.6719"/><!--MD5=[139c679d0f2db6318e7e57d2f6dd7d7b]
class RatificationMode--><rect fill="#FEFECE" height="75.6719" id="RatificationMode" style="stroke: #D4AC0D; stroke-width: 1.5;" width="134" x="496" y="1595"/><ellipse cx="511" cy="1611" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M509.5,1612 L509.5,1614 L513.5,1614 L513.5,1613 L513.5,1612.5156 L514.125,1612 L514.5,1612 L514.875,1612 L515.5,1612.5156 L515.5,1613 L515.5,1616 L507.5,1616 L507.0156,1616 L506.5,1615.375 L506.5,1615 L506.5,1614.625 L507.0156,1614 L507.5,1614 L507.5,1614 L507.5,1608 L507.5,1608 L507.0156,1608 L506.5,1607.375 L506.5,1607 L506.5,1606.625 L507.0156,1606 L507.5,1606 L515.5,1606 L515.5,1609 L515.5,1609.4844 L514.875,1610 L514.5,1610 L514.125,1610 L513.5,1609.4844 L513.5,1609 L513.5,1608 L509.5,1608 L509.5,1610 L510.5,1610 L510.5,1609.5156 L510.5,1609.5156 L511.125,1609 L511.5,1609 L511.875,1609 L512.5,1609.5156 L512.5,1610 L512.5,1612 L512.5,1612.4844 L511.875,1613 L511.875,1613 L511.5,1613 L511.125,1613 L510.5,1612.4844 L510.5,1612.4844 L510.5,1612 L509.5,1612 Z "/><ellipse cx="530" cy="1610.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="536" y="1615.9102">RatificationMode</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="497" x2="629" y1="1627" y2="1627"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="502" y="1642.4189">CLOSE_RATIFIED,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="502" y="1656.2549">CLOSE_NOT_RATIFIED</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="497" x2="629" y1="1662.6719" y2="1662.6719"/><!--MD5=[ce8182edd4590e04a2102797ac389b3e]
class EncryptionMode--><rect fill="#FEFECE" height="75.6719" id="EncryptionMode" style="stroke: #D4AC0D; stroke-width: 1.5;" width="130" x="838" y="1595"/><ellipse cx="853" cy="1611" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M851.5,1612 L851.5,1614 L855.5,1614 L855.5,1613 L855.5,1612.5156 L856.125,1612 L856.5,1612 L856.875,1612 L857.5,1612.5156 L857.5,1613 L857.5,1616 L849.5,1616 L849.0156,1616 L848.5,1615.375 L848.5,1615 L848.5,1614.625 L849.0156,1614 L849.5,1614 L849.5,1614 L849.5,1608 L849.5,1608 L849.0156,1608 L848.5,1607.375 L848.5,1607 L848.5,1606.625 L849.0156,1606 L849.5,1606 L857.5,1606 L857.5,1609 L857.5,1609.4844 L856.875,1610 L856.5,1610 L856.125,1610 L855.5,1609.4844 L855.5,1609 L855.5,1608 L851.5,1608 L851.5,1610 L852.5,1610 L852.5,1609.5156 L852.5,1609.5156 L853.125,1609 L853.5,1609 L853.875,1609 L854.5,1609.5156 L854.5,1610 L854.5,1612 L854.5,1612.4844 L853.875,1613 L853.875,1613 L853.5,1613 L853.125,1613 L852.5,1612.4844 L852.5,1612.4844 L852.5,1612 L851.5,1612 Z "/><ellipse cx="872" cy="1610.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="878" y="1615.9102">EncryptionMode</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="839" x2="967" y1="1627" y2="1627"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="54" x="844" y="1642.4189">ACTIVATE,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="844" y="1656.2549">DEACTIVATE</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="839" x2="967" y1="1662.6719" y2="1662.6719"/><!--MD5=[587c29523c7e651cb28d7191d1daa746]
class AuthenticationMode--><rect fill="#FEFECE" height="75.6719" id="AuthenticationMode" style="stroke: #D4AC0D; stroke-width: 1.5;" width="150" x="606" y="1741"/><ellipse cx="621" cy="1757" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M619.5,1758 L619.5,1760 L623.5,1760 L623.5,1759 L623.5,1758.5156 L624.125,1758 L624.5,1758 L624.875,1758 L625.5,1758.5156 L625.5,1759 L625.5,1762 L617.5,1762 L617.0156,1762 L616.5,1761.375 L616.5,1761 L616.5,1760.625 L617.0156,1760 L617.5,1760 L617.5,1760 L617.5,1754 L617.5,1754 L617.0156,1754 L616.5,1753.375 L616.5,1753 L616.5,1752.625 L617.0156,1752 L617.5,1752 L625.5,1752 L625.5,1755 L625.5,1755.4844 L624.875,1756 L624.5,1756 L624.125,1756 L623.5,1755.4844 L623.5,1755 L623.5,1754 L619.5,1754 L619.5,1756 L620.5,1756 L620.5,1755.5156 L620.5,1755.5156 L621.125,1755 L621.5,1755 L621.875,1755 L622.5,1755.5156 L622.5,1756 L622.5,1758 L622.5,1758.4844 L621.875,1759 L621.875,1759 L621.5,1759 L621.125,1759 L620.5,1758.4844 L620.5,1758.4844 L620.5,1758 L619.5,1758 Z "/><ellipse cx="640" cy="1756.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="646" y="1761.9102">AuthenticationMode</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="607" x2="755" y1="1773" y2="1773"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="612" y="1788.4189">REQUESTED,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="612" y="1802.2549">NOT_REQUESTED</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="607" x2="755" y1="1808.6719" y2="1808.6719"/><!--MD5=[69e7de8796175c80a787a8fe6d04a077]
class PinTransmissionMode--><rect fill="#FEFECE" height="75.6719" id="PinTransmissionMode" style="stroke: #D4AC0D; stroke-width: 1.5;" width="168" x="809" y="1451"/><ellipse cx="824" cy="1467" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M822.5,1468 L822.5,1470 L826.5,1470 L826.5,1469 L826.5,1468.5156 L827.125,1468 L827.5,1468 L827.875,1468 L828.5,1468.5156 L828.5,1469 L828.5,1472 L820.5,1472 L820.0156,1472 L819.5,1471.375 L819.5,1471 L819.5,1470.625 L820.0156,1470 L820.5,1470 L820.5,1470 L820.5,1464 L820.5,1464 L820.0156,1464 L819.5,1463.375 L819.5,1463 L819.5,1462.625 L820.0156,1462 L820.5,1462 L828.5,1462 L828.5,1465 L828.5,1465.4844 L827.875,1466 L827.5,1466 L827.125,1466 L826.5,1465.4844 L826.5,1465 L826.5,1464 L822.5,1464 L822.5,1466 L823.5,1466 L823.5,1465.5156 L823.5,1465.5156 L824.125,1465 L824.5,1465 L824.875,1465 L825.5,1465.5156 L825.5,1466 L825.5,1468 L825.5,1468.4844 L824.875,1469 L824.875,1469 L824.5,1469 L824.125,1469 L823.5,1468.4844 L823.5,1468.4844 L823.5,1468 L822.5,1468 Z "/><ellipse cx="843" cy="1466.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="849" y="1471.9102">PinTransmissionMode</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="810" x2="976" y1="1483" y2="1483"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="815" y="1498.4189">PLAIN,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="815" y="1512.2549">ENCRYPTED</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="810" x2="976" y1="1518.6719" y2="1518.6719"/><!--MD5=[43918d86839edc1befb88ea50efcfbfb]
class SamResource--><rect fill="#FEFECE" height="75.6719" id="SamResource" style="stroke: #D4AC0D; stroke-width: 1.5;" width="191" x="652.5" y="513.5"/><ellipse cx="669.3" cy="529.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M671.3,526 Q671.5031,525.5 671.7375,525.25 Q671.9719,525 672.2375,525 Q672.7063,525 673.0031,525.2813 Q673.3,525.5625 673.3,526.2188 L673.3,527.7813 Q673.3,528.4375 673.0188,528.7188 Q672.7375,529 672.3,529 Q671.9094,529 671.6594,528.8281 Q671.4094,528.6563 671.3,528.2031 Q671.2531,527.8906 671.0813,527.7188 Q670.7688,527.3906 670.2063,527.2031 Q669.6438,527 669.0813,527 Q668.3781,527 667.7844,527.2813 Q667.2063,527.5625 666.7531,528.1875 Q666.3,528.8125 666.3,529.6719 L666.3,530.5938 Q666.3,531.625 667.1438,532.3125 Q667.9875,533 669.4875,533 Q670.3781,533 671.0031,532.7969 Q671.3625,532.6875 671.7688,532.3281 Q672.0344,532.125 672.175,532.0625 Q672.3156,532 672.4875,532 Q672.8156,532 673.05,532.2656 Q673.3,532.5156 673.3,532.875 Q673.3,533.2188 672.9563,533.625 Q672.4563,534.2188 671.6594,534.5469 Q670.6125,535 669.3313,535 Q667.8313,535 666.6281,534.4063 Q665.6594,533.9375 664.9719,532.9219 Q664.3,531.9063 664.3,530.7031 L664.3,529.6094 Q664.3,528.3594 664.8938,527.2656 Q665.5031,526.1719 666.55,525.5938 Q667.6125,525 668.8,525 Q669.5188,525 670.1438,525.25 Q670.7688,525.5 671.3,526 Z "/><ellipse cx="688.7" cy="529" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="694.7" y="534.4102">SeResource</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="73" x="773.5" y="510.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="774.5" y="523.957">CalypsoSam</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="653.5" x2="842.5" y1="545.5" y2="545.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="653.5" x2="842.5" y1="553.5" y2="553.5"/><ellipse cx="663.5" cy="564.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="672.5" y="568.9189">SeResource(</text><text fill="#FF0000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="736.5" y="568.9189">SeReader seReader</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="3" x="834.5" y="568.9189">,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="672.5" y="582.7549">CalypsoSam sam);</text><!--MD5=[f25ff1fa8fa59bbc0543eaadeb7d653a]
class CalypsoSam--><rect fill="#FEFECE" height="158.6875" id="CalypsoSam" style="stroke: #D4AC0D; stroke-width: 1.5;" width="251" x="878.5" y="472"/><ellipse cx="945.25" cy="488" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M947.25,484.5 Q947.4531,484 947.6875,483.75 Q947.9219,483.5 948.1875,483.5 Q948.6563,483.5 948.9531,483.7813 Q949.25,484.0625 949.25,484.7188 L949.25,486.2813 Q949.25,486.9375 948.9688,487.2188 Q948.6875,487.5 948.25,487.5 Q947.8594,487.5 947.6094,487.3281 Q947.3594,487.1563 947.25,486.7031 Q947.2031,486.3906 947.0313,486.2188 Q946.7188,485.8906 946.1563,485.7031 Q945.5938,485.5 945.0313,485.5 Q944.3281,485.5 943.7344,485.7813 Q943.1563,486.0625 942.7031,486.6875 Q942.25,487.3125 942.25,488.1719 L942.25,489.0938 Q942.25,490.125 943.0938,490.8125 Q943.9375,491.5 945.4375,491.5 Q946.3281,491.5 946.9531,491.2969 Q947.3125,491.1875 947.7188,490.8281 Q947.9844,490.625 948.125,490.5625 Q948.2656,490.5 948.4375,490.5 Q948.7656,490.5 949,490.7656 Q949.25,491.0156 949.25,491.375 Q949.25,491.7188 948.9063,492.125 Q948.4063,492.7188 947.6094,493.0469 Q946.5625,493.5 945.2813,493.5 Q943.7813,493.5 942.5781,492.9063 Q941.6094,492.4375 940.9219,491.4219 Q940.25,490.4063 940.25,489.2031 L940.25,488.1094 Q940.25,486.8594 940.8438,485.7656 Q941.4531,484.6719 942.5,484.0938 Q943.5625,483.5 944.75,483.5 Q945.4688,483.5 946.0938,483.75 Q946.7188,484 947.25,484.5 Z "/><ellipse cx="970.75" cy="487.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="976.75" y="492.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="1003.75" y="492.9102">CalypsoSam</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="879.5" x2="1128.5" y1="504" y2="504"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="879.5" x2="1128.5" y1="512" y2="512"/><polygon fill="#4177AF" points="889.5,519,885.5,525,893.5,525" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="898.5" y="527.4189">CalypsoSam(</text><text fill="#FF0000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="157" x="962.5" y="527.4189">SeResponse selectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="4" x="1119.5" y="527.4189">)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="901.5" y="541.2549"/><ellipse cx="889.5" cy="550.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="898.5" y="555.0908">SamRevision getSamRevision()</text><ellipse cx="889.5" cy="564.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="898.5" y="568.9268">byte[] getSerialNumber()</text><ellipse cx="889.5" cy="578.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="898.5" y="582.7627">byte getPlatform()</text><ellipse cx="889.5" cy="592.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="898.5" y="596.5986">byte getApplicationType()</text><ellipse cx="889.5" cy="606.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="898.5" y="610.4346">byte getApplicationSubType()</text><ellipse cx="889.5" cy="619.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="898.5" y="624.2705">byte getSoftwareIssuer()</text><!--MD5=[7d16591ce1ac0fb103d5c2b0f24533d6]
class SvSetting--><rect fill="#FEFECE" height="48" id="SvSetting" style="stroke: #D4AC0D; stroke-width: 1.5;" width="121" x="131.5" y="1465"/><ellipse cx="146.5" cy="1481" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M148.5,1477.5 Q148.7031,1477 148.9375,1476.75 Q149.1719,1476.5 149.4375,1476.5 Q149.9063,1476.5 150.2031,1476.7813 Q150.5,1477.0625 150.5,1477.7188 L150.5,1479.2813 Q150.5,1479.9375 150.2188,1480.2188 Q149.9375,1480.5 149.5,1480.5 Q149.1094,1480.5 148.8594,1480.3281 Q148.6094,1480.1563 148.5,1479.7031 Q148.4531,1479.3906 148.2813,1479.2188 Q147.9688,1478.8906 147.4063,1478.7031 Q146.8438,1478.5 146.2813,1478.5 Q145.5781,1478.5 144.9844,1478.7813 Q144.4063,1479.0625 143.9531,1479.6875 Q143.5,1480.3125 143.5,1481.1719 L143.5,1482.0938 Q143.5,1483.125 144.3438,1483.8125 Q145.1875,1484.5 146.6875,1484.5 Q147.5781,1484.5 148.2031,1484.2969 Q148.5625,1484.1875 148.9688,1483.8281 Q149.2344,1483.625 149.375,1483.5625 Q149.5156,1483.5 149.6875,1483.5 Q150.0156,1483.5 150.25,1483.7656 Q150.5,1484.0156 150.5,1484.375 Q150.5,1484.7188 150.1563,1485.125 Q149.6563,1485.7188 148.8594,1486.0469 Q147.8125,1486.5 146.5313,1486.5 Q145.0313,1486.5 143.8281,1485.9063 Q142.8594,1485.4375 142.1719,1484.4219 Q141.5,1483.4063 141.5,1482.2031 L141.5,1481.1094 Q141.5,1479.8594 142.0938,1478.7656 Q142.7031,1477.6719 143.75,1477.0938 Q144.8125,1476.5 146,1476.5 Q146.7188,1476.5 147.3438,1476.75 Q147.9688,1477 148.5,1477.5 Z "/><ellipse cx="165.5" cy="1480.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="171.5" y="1485.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="198.5" y="1485.9102">SvSetting</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="132.5" x2="251.5" y1="1497" y2="1497"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="132.5" x2="251.5" y1="1505" y2="1505"/><!--MD5=[cca5d97aaf46870920fae66c9bd85cdd]
class Operation--><rect fill="#FEFECE" height="75.6719" id="Operation" style="stroke: #D4AC0D; stroke-width: 1.5;" width="97" x="86.5" y="1595"/><ellipse cx="101.5" cy="1611" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M100,1612 L100,1614 L104,1614 L104,1613 L104,1612.5156 L104.625,1612 L105,1612 L105.375,1612 L106,1612.5156 L106,1613 L106,1616 L98,1616 L97.5156,1616 L97,1615.375 L97,1615 L97,1614.625 L97.5156,1614 L98,1614 L98,1614 L98,1608 L98,1608 L97.5156,1608 L97,1607.375 L97,1607 L97,1606.625 L97.5156,1606 L98,1606 L106,1606 L106,1609 L106,1609.4844 L105.375,1610 L105,1610 L104.625,1610 L104,1609.4844 L104,1609 L104,1608 L100,1608 L100,1610 L101,1610 L101,1609.5156 L101,1609.5156 L101.625,1609 L102,1609 L102.375,1609 L103,1609.5156 L103,1610 L103,1612 L103,1612.4844 L102.375,1613 L102.375,1613 L102,1613 L101.625,1613 L101,1612.4844 L101,1612.4844 L101,1612 L100,1612 Z "/><ellipse cx="120.5" cy="1610.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="126.5" y="1615.9102">Operation</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="87.5" x2="182.5" y1="1627" y2="1627"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="92.5" y="1642.4189">RELOAD,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="92.5" y="1656.2549">DEBIT</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="87.5" x2="182.5" y1="1662.6719" y2="1662.6719"/><!--MD5=[f8e7078f77c005d15b486c0c98deb1e6]
class Action--><rect fill="#FEFECE" height="75.6719" id="Action" style="stroke: #D4AC0D; stroke-width: 1.5;" width="76" x="219" y="1595"/><ellipse cx="234" cy="1611" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M232.5,1612 L232.5,1614 L236.5,1614 L236.5,1613 L236.5,1612.5156 L237.125,1612 L237.5,1612 L237.875,1612 L238.5,1612.5156 L238.5,1613 L238.5,1616 L230.5,1616 L230.0156,1616 L229.5,1615.375 L229.5,1615 L229.5,1614.625 L230.0156,1614 L230.5,1614 L230.5,1614 L230.5,1608 L230.5,1608 L230.0156,1608 L229.5,1607.375 L229.5,1607 L229.5,1606.625 L230.0156,1606 L230.5,1606 L238.5,1606 L238.5,1609 L238.5,1609.4844 L237.875,1610 L237.5,1610 L237.125,1610 L236.5,1609.4844 L236.5,1609 L236.5,1608 L232.5,1608 L232.5,1610 L233.5,1610 L233.5,1609.5156 L233.5,1609.5156 L234.125,1609 L234.5,1609 L234.875,1609 L235.5,1609.5156 L235.5,1610 L235.5,1612 L235.5,1612.4844 L234.875,1613 L234.875,1613 L234.5,1613 L234.125,1613 L233.5,1612.4844 L233.5,1612.4844 L233.5,1612 L232.5,1612 Z "/><ellipse cx="253" cy="1610.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="33" x="259" y="1615.9102">Action</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="220" x2="294" y1="1627" y2="1627"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="225" y="1642.4189">DO,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="225" y="1656.2549">UNDO</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="220" x2="294" y1="1662.6719" y2="1662.6719"/><!--MD5=[67d91b3e56e3fb89140abbb352fa8438]
class LogRead--><rect fill="#FEFECE" height="75.6719" id="LogRead" style="stroke: #D4AC0D; stroke-width: 1.5;" width="94" x="330" y="1595"/><ellipse cx="345" cy="1611" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M343.5,1612 L343.5,1614 L347.5,1614 L347.5,1613 L347.5,1612.5156 L348.125,1612 L348.5,1612 L348.875,1612 L349.5,1612.5156 L349.5,1613 L349.5,1616 L341.5,1616 L341.0156,1616 L340.5,1615.375 L340.5,1615 L340.5,1614.625 L341.0156,1614 L341.5,1614 L341.5,1614 L341.5,1608 L341.5,1608 L341.0156,1608 L340.5,1607.375 L340.5,1607 L340.5,1606.625 L341.0156,1606 L341.5,1606 L349.5,1606 L349.5,1609 L349.5,1609.4844 L348.875,1610 L348.5,1610 L348.125,1610 L347.5,1609.4844 L347.5,1609 L347.5,1608 L343.5,1608 L343.5,1610 L344.5,1610 L344.5,1609.5156 L344.5,1609.5156 L345.125,1609 L345.5,1609 L345.875,1609 L346.5,1609.5156 L346.5,1610 L346.5,1612 L346.5,1612.4844 L345.875,1613 L345.875,1613 L345.5,1613 L345.125,1613 L344.5,1612.4844 L344.5,1612.4844 L344.5,1612 L343.5,1612 Z "/><ellipse cx="364" cy="1610.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="370" y="1615.9102">LogRead</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="331" x2="423" y1="1627" y2="1627"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="336" y="1642.4189">SINGLE,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="336" y="1656.2549">ALL</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="331" x2="423" y1="1662.6719" y2="1662.6719"/><!--MD5=[50d6b8eba543a732d1dd3c761d982397]
class NegativeBalance--><rect fill="#FEFECE" height="75.6719" id="NegativeBalance" style="stroke: #D4AC0D; stroke-width: 1.5;" width="136" x="288" y="1451"/><ellipse cx="303" cy="1467" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M301.5,1468 L301.5,1470 L305.5,1470 L305.5,1469 L305.5,1468.5156 L306.125,1468 L306.5,1468 L306.875,1468 L307.5,1468.5156 L307.5,1469 L307.5,1472 L299.5,1472 L299.0156,1472 L298.5,1471.375 L298.5,1471 L298.5,1470.625 L299.0156,1470 L299.5,1470 L299.5,1470 L299.5,1464 L299.5,1464 L299.0156,1464 L298.5,1463.375 L298.5,1463 L298.5,1462.625 L299.0156,1462 L299.5,1462 L307.5,1462 L307.5,1465 L307.5,1465.4844 L306.875,1466 L306.5,1466 L306.125,1466 L305.5,1465.4844 L305.5,1465 L305.5,1464 L301.5,1464 L301.5,1466 L302.5,1466 L302.5,1465.5156 L302.5,1465.5156 L303.125,1465 L303.5,1465 L303.875,1465 L304.5,1465.5156 L304.5,1466 L304.5,1468 L304.5,1468.4844 L303.875,1469 L303.875,1469 L303.5,1469 L303.125,1469 L302.5,1468.4844 L302.5,1468.4844 L302.5,1468 L301.5,1468 Z "/><ellipse cx="322" cy="1466.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="328" y="1471.9102">NegativeBalance</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="289" x2="423" y1="1483" y2="1483"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="294" y="1498.4189">FORBIDDEN,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="294" y="1512.2549">AUTHORIZED</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="289" x2="423" y1="1518.6719" y2="1518.6719"/><!--MD5=[b5831fe2f38c217483a231289f3a8748]
link PoSecuritySettingBuilder to PoSecuritySetting--><path d="M445.152,304.01 C445.93,328.43 446.785,355.28 447.635,382 " fill="none" id="PoSecuritySettingBuilder-PoSecuritySetting" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="448" y="348.4951">build</text><polygon fill="#000000" points="457,357.3516,460,363.3516,463,357.3516,457,357.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[a40139effe78355afd96e1fe38f816a4]
reverse link PoSecuritySetting to SamResource--><path d="M631.026,551.5 C638.142,551.5 645.258,551.5 652.373,551.5 " fill="none" id="PoSecuritySetting&lt;-SamResource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="617.785,551.5,623.785,555.5,629.785,551.5,623.785,547.5,617.785,551.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="625.501" y="548.6507">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="622.3957" y="565.6076">0..1</text><!--MD5=[f5f07a045c16f9b5b991b6ad223e4b75]
reverse link SamResource to CalypsoSam--><path d="M857.159,551.5 C864.231,551.5 871.303,551.5 878.375,551.5 " fill="none" id="SamResource&lt;-CalypsoSam" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="844,551.5,850,555.5,856,551.5,850,547.5,844,551.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="851.618" y="548.4086">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="863.5064" y="548.5279">1</text><!--MD5=[49b2cd243b315032ac87ae560f8bd7c4]
reverse link SvSetting to Operation--><path d="M177.048,1527.25 C168.694,1548.061 158.316,1573.915 149.961,1594.73 " fill="none" id="SvSetting&lt;-Operation" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="179.7344" cy="1520.555" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="176.7538" x2="182.715" y1="1527.979" y2="1513.131"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="172.3104" x2="187.1584" y1="1517.5744" y2="1523.5356"/><!--MD5=[ad0f2bead1761192d1c3cbd4a713f69a]
reverse link SvSetting to Action--><path d="M208.912,1526.947 C218.462,1547.81 230.365,1573.814 239.94,1594.73 " fill="none" id="SvSetting&lt;-Action" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="205.9176" cy="1520.4052" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="209.2473" x2="202.588" y1="1527.6793" y2="1513.131"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="198.6435" x2="213.1918" y1="1523.7348" y2="1517.0755"/><!--MD5=[40b37511570e7b53b6592a746222781a]
reverse link SvSetting to LogRead--><path d="M234.136,1522.342 C262.655,1544.232 300.362,1573.175 329.876,1595.829 " fill="none" id="SvSetting&lt;-LogRead" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="228.481" cy="1518.0021" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="234.8271" x2="222.135" y1="1522.8733" y2="1513.131"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="223.6099" x2="233.3522" y1="1524.3482" y2="1511.6561"/><!--MD5=[8d1c764bcc19989851e984ffe55e2961]
reverse link SvSetting to NegativeBalance--><path d="M267.647,1489 C274.331,1489 281.015,1489 287.7,1489 " fill="none" id="SvSetting&lt;-NegativeBalance" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="260.539" cy="1489" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="268.539" x2="252.539" y1="1489" y2="1489"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="260.539" x2="260.539" y1="1497" y2="1481"/><!--MD5=[e4e6b0c197a4fe408c8d4c7214bc9356]
link PoResource to PoTransaction--><path d="M182.725,589.77 C205.495,624 240.296,676.07 271,721 C282.118,737.27 293.549,753.93 305.117,770.73 " fill="none" id="PoResource-&gt;PoTransaction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="312.736,781.79,312.6213,774.5798,305.9217,771.9125,306.0363,779.1227,312.736,781.79" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="179.1077" y="610.6936">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="300.0845" y="771.0839">1</text><!--MD5=[127e9a2466ec7ea86d71a4cf335a990c]
link PoResource to PoSecuritySetting--><!--MD5=[7ef23bb65cbd7f21990abf12f0f9fb41]
link PoSecuritySetting to PoTransaction--><path d="M475.022,721.33 C477.029,736.72 479.101,752.61 481.206,768.75 " fill="none" id="PoSecuritySetting-&gt;PoTransaction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="482.9,781.74,486.0953,775.2755,481.3571,769.8396,478.1617,776.3041,482.9,781.74" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="453.4525" y="741.7872">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="474.7684" y="771.0325">1</text><!--MD5=[4e36a4e3a201b7955d2f14bdee0043a9]
reverse link PoTransaction to SessionState--><path d="M522,1398.106 C522,1415.209 522,1430.742 522,1443.902 " fill="none" id="PoTransaction&lt;-SessionState" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="522" cy="1391.042" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="522" x2="522" y1="1399.042" y2="1383.042"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="514" x2="530" y1="1391.042" y2="1391.042"/><!--MD5=[ce3c63ddc54d4d675759c68b3655a59d]
reverse link PoTransaction to SessionSetting--><path d="M657.62,1396.977 C669.627,1424.73 679.879,1448.427 686.911,1464.68 " fill="none" id="PoTransaction&lt;-SessionSetting" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="654.7683" cy="1390.3844" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="657.9447" x2="651.592" y1="1397.7268" y2="1383.042"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="647.4259" x2="662.1107" y1="1393.5607" y2="1387.2081"/><!--MD5=[01907a979ee07ab82f1dc532a4541c2c]
reverse link SessionSetting to EncryptionMode--><path d="M743.301,1521.916 C774.619,1543.505 816.097,1572.096 848.932,1594.73 " fill="none" id="SessionSetting&lt;-EncryptionMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="737.1427" cy="1517.6714" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="743.7294" x2="730.556" y1="1522.2119" y2="1513.131"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="732.6022" x2="741.6831" y1="1524.2581" y2="1511.0848"/><!--MD5=[19a5bab6cb0e733f5b38e95cd959a25a]
reverse link SessionSetting to ModificationMode--><path d="M706.864,1527.857 C712.259,1548.563 718.918,1574.117 724.289,1594.73 " fill="none" id="SessionSetting&lt;-ModificationMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="705.0445" cy="1520.8724" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="707.0619" x2="703.027" y1="1528.6139" y2="1513.131"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="697.303" x2="712.7859" y1="1522.8899" y2="1518.855"/><!--MD5=[0e9a2e2ec4d6aea28d869b2d373dbe85]
reverse link SessionSetting to RatificationMode--><path d="M664.674,1524.256 C644.59,1545.539 618.766,1572.904 598.171,1594.73 " fill="none" id="SessionSetting&lt;-RatificationMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="669.6817" cy="1518.9497" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="664.1914" x2="675.172" y1="1524.7683" y2="1513.131"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="663.8631" x2="675.5004" y1="1513.4594" y2="1524.4399"/><!--MD5=[d0f8f68742f1a8058f4f2e5a0ad06650]
reverse link SessionSetting to AccessLevel--><path d="M757.776,1519.559 C769.045,1524.635 780.796,1529.665 792,1534 C876.294,1566.616 932.526,1522.131 986,1595 C1012.29,1630.832 1003.008,1653.939 986,1695 C980.073,1709.309 970.35,1722.437 959.607,1733.824 " fill="none" id="SessionSetting&lt;-AccessLevel" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="751.1069" cy="1516.4931" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="758.3758" x2="743.838" y1="1519.8342" y2="1513.152"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="747.7658" x2="754.448" y1="1523.762" y2="1509.2242"/><!--MD5=[37e957bec1fd56bfe0d2d70b2ed06b69]
link EncryptionMode to AccessLevel--><!--MD5=[aad50e08903197c6896398c3f9217d50]
reverse link SessionSetting to AuthenticationMode--><path d="M633.203,1519.596 C569.378,1549.352 480.301,1591.346 478,1595 C454.322,1632.612 453.224,1658.102 478,1695 C506.389,1737.278 560.526,1758.035 605.757,1768.218 " fill="none" id="SessionSetting&lt;-AuthenticationMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="639.95" cy="1516.4546" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.698" x2="647.202" y1="1519.8322" y2="1513.077"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="636.5724" x2="643.3276" y1="1509.2026" y2="1523.7066"/><!--MD5=[6952bc2877cf5d205c9a3c02c8dd195c]
link ModificationMode to AuthenticationMode--><!--MD5=[079f273270ef1dd73893779fe3d467bc]
reverse link PoTransaction to PinTransmissionMode--><path d="M737.907,1393.355 C745.787,1400.54 753.821,1407.443 762,1414 C773.337,1423.09 779.085,1420.34 792,1427 C806.11,1434.276 820.933,1442.738 834.745,1450.999 " fill="none" id="PoTransaction&lt;-PinTransmissionMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="732.7085" cy="1388.4843" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="738.546" x2="726.871" y1="1393.9545" y2="1383.014"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="727.2382" x2="738.1787" y1="1394.3217" y2="1382.6468"/><!--MD5=[746f3c5b2505d7b38384202071141ba9]
reverse link PoTransaction to SvSetting--><path d="M268.118,1394.697 C244.676,1423.432 224.646,1447.984 211.025,1464.68 " fill="none" id="PoTransaction&lt;-SvSetting" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="272.5701" cy="1389.241" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="267.5132" x2="277.627" y1="1395.44" y2="1383.042"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="266.3711" x2="278.7691" y1="1384.1841" y2="1394.2979"/><!--MD5=[28e38a2b5aeddf77f446bb48690e6362]
link SessionState to SessionSetting--><!--MD5=[bc4e75526f74fbb68a5aed8e4c56686a]
link SessionSetting to PinTransmissionMode--><!--MD5=[15b34b46d09c17d92f3246bd8d6b690e]
link PinTransmissionMode to SvSetting--><!--MD5=[3429ec821e60fb1fffd23386c89f33c5]
link PoTransaction to SelectFileControl--><path d="M827.806,1196.088 C944.944,1260.536 1051,1355.479 1051,1488 C1051,1488 1051,1488 1051,1780 C1051,1811.38 1047.05,1820.466 1032,1848 C1024.5,1861.721 1014.34,1875.068 1003.947,1886.905 " fill="none" id="PoTransaction-SelectFileControl" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[75cf09f748786ce5d6dd001ad977eb2a]
link AuthenticationMode to SelectFileControl--><!--MD5=[304309016ad1d2f9ba380994ac1c051d]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package org.keyple.calypso #FFFFFF {
  package transaction #FFFFFF {
+class "static <b>final</b> PoSecuritySettingBuilder" as PoSecuritySettingBuilder {
  +PoSecuritySettingBuilder(CardResource<CalypsoSam> samResource)

  +PoSecuritySettingBuilder sessionModificationMode(ModificationMode sessionModificationMode)
  +PoSecuritySettingBuilder ratificationMode(RatificationMode ratificationMode)
  +PoSecuritySettingBuilder sessionDefaultKif(AccessLevel sessionAccessLevel, byte kif)
  +PoSecuritySettingBuilder sessionDefaultKvc(AccessLevel sessionAccessLevel, byte kvc)
  +PoSecuritySettingBuilder sessionDefaultKeyRecordNumber(AccessLevel sessionAccessLevel,
    byte keyRecordNumber)
  +PoSecuritySettingBuilder sessionAuthorizedKvcList(List<Byte> authorizedKvcList)

  +PoSecuritySetting build()
}

+class "<b>final</b> PoSecuritySetting" as PoSecuritySetting {
  -final CardResource<CalypsoSam> samResource
  -List<Byte> authorizedKvcList
  -<b>final</b> EnumMap<AccessLevel, Byte> defaultKif
  -<b>final</b> EnumMap<AccessLevel, Byte> defaultKvc
  -<b>final</b> EnumMap<AccessLevel, Byte> defaultKeyRecordNumber
  -<b>final</b> ModificationMode sessionModificationMode = ATOMIC
  -<b>final</b> RatificationMode ratificationMode = CLOSE_RATIFIED
  -<b>final</b> PinTransmissionMode ratificationMode = ENCRYPTED

  +PoSecuritySetting(PoSecuritySettingBuilder builder);


  #ModificationMode getSessionModificationMode()
  #RatificationMode getSessionRatificationMode()
  #Byte getSessionDefaultKif(AccessLevel level)
  #Byte getSessionDefaultKvc(AccessLevel level)
  #Byte getSessionDefaultKeyRecordNumber(AccessLevel level)
  #Boolean isSessionKvcAuthorized(byte kvc)

  #PinTransmissionMode getPinTransmissionMode()
  ~KeyReference getDefaultPinCipheringKey()


  ~LogRead getSvGetLogReadMode()
  ~NegativeBalance getSvNegativeBalance()
  ~Boolean isSvKvcAuthorized(byte kvc) ???
}

note as N1
Default values in PoTransaction if PoSecuritySetting doesn't specify it:
  - session ModificationMode as ATOMIC
  - session RatificationMode as CLOSE_RATIFIED
  - PinTransmissionMode as ENCRYPTED if PoSecurity defined
  - any KIF/KVC values are authorized
  - no verification is done for: HCE token expiration, revoked PO or SAM
end note

    PoSecuritySettingBuilder .right. N1
    PoSecuritySettingBuilder -down- PoSecuritySetting : build >

    together {
      +class "SeResource<CalypsoSam>" as SamResource {
        +SeResource(<color:red>SeReader seReader</color>,
          CalypsoSam sam);
      }

      +class "<b>final</b> CalypsoSam" as CalypsoSam {
        ~CalypsoSam(<color:red>SeResponse selectionResponse</color>)

        +SamRevision getSamRevision()
        +byte[] getSerialNumber()
        +byte getPlatform()
        +byte getApplicationType()
        +byte getApplicationSubType()
        +byte getSoftwareIssuer()
      }
    }

    PoSecuritySetting "1 " o-right- " 0..1" SamResource
    SamResource "1" o- "1" CalypsoSam

    +class "SeResource<CalypsoPo>" as PoResource {
      +SeResource(<color:red>SeReader seReader</color>,
        CalypsoPo po);
    }

+class PoTransaction {
  +PoTransaction(PoResource poResource, PoSecuritySetting[0..1] securitySetting)

  +<b>final</b> prepareReleaseChannel()

  +<b>final</b> processPoCommands()
  +<b>final</b> processOpening(AccessLevel level)
  +<b>final</b> processClosing()
  +<b>final</b> processCancel()

  +<b>final</b> prepareCheckPinStatus()
  +<b>final</b> processVerifyPin(String pin)
  +<b>final</b> processVerifyPin(byte[] pin)

  +<b>final</b> prepareSvGet(SvSetting.Operation operation, SvSetting.Action action)
  +<b>final</b> prepareSvReload(int amount, int date, int time, String free)
  +<b>final</b> prepareSvReload(int amount, byte[] date, byte[] time, byte[] free)
  +<b>final</b> prepareSvReload(int amount)
  +<b>final</b> prepareSvDebit(int amount, int date, int time)
  +<b>final</b> prepareSvDebit(int amount, byte[] date, byte[] time)
  +<b>final</b> prepareSvDebit(int amount)

  +<b>final</b> prepareSelectFile(short lid)
  +<b>final</b> prepareSelectFile(byte[] lid)
  +<b>final</b> prepareSelectFile(SelectFileControl control)
  +<b>final</b> prepareReadRecordFile(byte sfi, int recordNumber)
  +<b>final</b> prepareReadRecordFile(byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize))
  +<b>final</b> prepareReadSubRecordFile(byte sfi, int firstRecordNumber, int numberOfRecord, int recordOffset, int recordLength)
  +<b>final</b> prepareReadBinaryFile(byte sfi, int dataLength, int[0..1] dataOffset)
  +<b>final</b> prepareReadCounterFile(byte sfi, int countersNumber)
  +<b>final</b> prepareAppendRecord(byte sfi, byte[] recordData)
  +<b>final</b> prepareUpdateRecord(byte sfi, int recordNumber, byte[] recordData)
  +<b>final</b> prepareWriteRecord(byte sfi, int recordNumber, byte[] recordData)
  +<b>final</b> prepareUpdateBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)
  +<b>final</b> prepareWriteBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)
  +<b>final</b> prepareIncreaseCounter(byte sfi, int counterNumber, int incValue)
  +<b>final</b> prepareDecreaseCounter(byte sfi, int counterNumber, int decValue)
  +<b>final</b> prepareSetCounter(byte sfi, int counterNumber, int newValue)

  +<b>final</b> prepareInvalidate()
  +<b>final</b> prepareRehabilitate()

}
-enum SessionState {
  SESSION_UNITIALIZED,
  SESSION_OPEN,
  SESSION_CLOSED
}

+class "<b>final</b> SessionSetting" as SessionSetting {
}

+enum AccessLevel {
  SESSION_LVL_PERSO("perso", byte 0x01),
  SESSION_LVL_LOAD("load", byte 0x02),
  SESSION_LVL_DEBIT("debit", byte 0x03)
}

+enum ModificationMode {
  ATOMIC,
  MULTIPLE
}

+enum RatificationMode {
  CLOSE_RATIFIED,
  CLOSE_NOT_RATIFIED
}

+enum EncryptionMode {
  ACTIVATE,
  DEACTIVATE
}

+enum AuthenticationMode {
  REQUESTED,
  NOT_REQUESTED
}

+enum PinTransmissionMode {
  PLAIN,
  ENCRYPTED
}

together {
  +class "<b>final</b> SvSetting" as SvSetting {
  }

  +enum Operation {
    RELOAD,
    DEBIT
  }

  +enum Action {
    DO,
    UNDO
  }

  +enum LogRead {
    SINGLE,
    ALL
  }

  +enum NegativeBalance {
    FORBIDDEN,
    AUTHORIZED
  }
}

    SvSetting +-down- Operation
    SvSetting +-down- Action
    SvSetting +-down- LogRead
    SvSetting +-right- NegativeBalance

    PoResource "1" - -o "1" PoTransaction
    PoResource -right[hidden]- PoSecuritySetting
    PoTransaction "1" o-up- "0..1" PoSecuritySetting

    PoTransaction +-down- SessionState

    PoTransaction +-down- SessionSetting
    SessionSetting +-down- EncryptionMode
    SessionSetting +-down- ModificationMode
    SessionSetting +-down- RatificationMode
    SessionSetting +- - AccessLevel
    EncryptionMode -down[hidden]- AccessLevel
    SessionSetting +- - AuthenticationMode
    ModificationMode -down[hidden]- AuthenticationMode

    PoTransaction +-down- PinTransmissionMode
    PoTransaction +-down- SvSetting

    SessionState -right[hidden]- SessionSetting
    SessionSetting -right[hidden]- PinTransmissionMode
    PinTransmissionMode -right[hidden]- SvSetting
  }

+enum SelectFileControl {
  FIRST_EF,
  NEXT_EF,
  CURRENT_DF
}

  PoTransaction - - SelectFileControl
  AuthenticationMode -down[hidden]- SelectFileControl
}
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>