<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1235px" preserveAspectRatio="none" style="width:2082px;height:1235px;" version="1.1" viewBox="0 0 2082 1235" width="2082px" zoomAndPan="magnify"><defs/><g><!--MD5=[d08f533e0a97815ebcffa7318f61e649]
cluster calypso--><polygon fill="#FFFFFF" points="22,24,81,24,88,47.6094,2060,47.6094,2060,1073,22,1073,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="88" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="26" y="40.5332">calypso</text><!--MD5=[f9c58d90839a0c7c212d8c6553ac9eb7]
cluster transaction--><polygon fill="#FFFFFF" points="1740,375,1825,375,1832,398.6094,2036,398.6094,2036,489,1740,489,1740,375" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1740" x2="1832" y1="398.6094" y2="398.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="1744" y="391.5332">transaction</text><!--MD5=[c6f46ae294d8542f97cd335fe19742c6]
cluster sammanager--><polygon fill="#FFFFFF" points="46,68,141,68,148,91.6094,1716,91.6094,1716,1049,46,1049,46,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="148" y1="91.6094" y2="91.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="50" y="84.5332">sammanager</text><!--MD5=[21b536d0c20dcc708ca45fe0bfe739b4]
cluster seproxy.event--><polygon fill="#FFFFFF" points="821,1123,928,1123,935,1146.6094,1130,1146.6094,1130,1223,821,1223,821,1123" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="821" x2="935" y1="1146.6094" y2="1146.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="825" y="1139.5332">seproxy.event</text><!--MD5=[43918d86839edc1befb88ea50efcfbfb]
class SamResource--><rect fill="#FEFECE" height="61.8359" id="SamResource" style="stroke: #D4AC0D; stroke-width: 1.5;" width="263" x="1756.5" y="411"/><ellipse cx="1800.3" cy="427" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1802.3,423.5 Q1802.5031,423 1802.7375,422.75 Q1802.9719,422.5 1803.2375,422.5 Q1803.7063,422.5 1804.0031,422.7813 Q1804.3,423.0625 1804.3,423.7188 L1804.3,425.2813 Q1804.3,425.9375 1804.0188,426.2188 Q1803.7375,426.5 1803.3,426.5 Q1802.9094,426.5 1802.6594,426.3281 Q1802.4094,426.1563 1802.3,425.7031 Q1802.2531,425.3906 1802.0813,425.2188 Q1801.7688,424.8906 1801.2063,424.7031 Q1800.6438,424.5 1800.0813,424.5 Q1799.3781,424.5 1798.7844,424.7813 Q1798.2063,425.0625 1797.7531,425.6875 Q1797.3,426.3125 1797.3,427.1719 L1797.3,428.0938 Q1797.3,429.125 1798.1438,429.8125 Q1798.9875,430.5 1800.4875,430.5 Q1801.3781,430.5 1802.0031,430.2969 Q1802.3625,430.1875 1802.7688,429.8281 Q1803.0344,429.625 1803.175,429.5625 Q1803.3156,429.5 1803.4875,429.5 Q1803.8156,429.5 1804.05,429.7656 Q1804.3,430.0156 1804.3,430.375 Q1804.3,430.7188 1803.9563,431.125 Q1803.4563,431.7188 1802.6594,432.0469 Q1801.6125,432.5 1800.3313,432.5 Q1798.8313,432.5 1797.6281,431.9063 Q1796.6594,431.4375 1795.9719,430.4219 Q1795.3,429.4063 1795.3,428.2031 L1795.3,427.1094 Q1795.3,425.8594 1795.8938,424.7656 Q1796.5031,423.6719 1797.55,423.0938 Q1798.6125,422.5 1799.8,422.5 Q1800.5188,422.5 1801.1438,422.75 Q1801.7688,423 1802.3,423.5 Z "/><ellipse cx="1825.7" cy="426.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="1831.7" y="431.9102">CardResource</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="73" x="1949.5" y="408"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="1950.5" y="421.457">CalypsoSam</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1757.5" x2="2018.5" y1="443" y2="443"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1757.5" x2="2018.5" y1="451" y2="451"/><ellipse cx="1767.5" cy="462" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="1776.5" y="466.4189">CardResource(</text><text fill="#FF0000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="1850.5" y="466.4189">Reader reader</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="1920.5" y="466.4189">, CalypsoSam sam)</text><!--MD5=[4b6ca99155d57750e0623772a4eeeb7c]
class SamResourceManagerFactory--><rect fill="#FEFECE" height="139.2031" id="SamResourceManagerFactory" style="stroke: #D4AC0D; stroke-width: 1.5;" width="607" x="557.5" y="118"/><ellipse cx="767.75" cy="138.0938" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M769.5,139.5938 L766.2031,139.5938 L765.7656,140.5938 L765.7656,140.5938 L766.2344,140.5938 L766.75,141.2188 L766.75,141.5938 L766.75,141.9688 L766.2344,142.5938 L765.7656,142.5938 L763.875,142.5938 L763.2656,142.5938 L762.75,141.9688 L762.75,141.5938 L762.75,141.2188 L763.2656,140.5938 L763.875,140.5938 L766.1875,134.5938 L765.3125,134.5938 L764.2656,134.5938 L763.75,133.9688 L763.75,133.5938 L763.75,133.2188 L764.2656,132.5938 L765.3125,132.5938 L768.9844,132.5938 L771.6719,140.5938 L772.2344,140.5938 L772.2344,140.5938 L772.75,141.2188 L772.75,141.5938 L772.75,141.9688 L772.2344,142.5938 L771.6719,142.5938 L769.7813,142.5938 L769.2656,142.5938 L768.75,141.9688 L768.75,141.5938 L768.75,141.2188 L769.2656,140.5938 L769.7813,140.5938 L769.7813,140.5938 L769.5,139.5938 Z M768.9531,137.5938 L767.75,134.0156 L766.7188,137.5938 L768.9531,137.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="138" x="808.25" y="135.457">«not prefixed Abstract !!!»</text><ellipse cx="793.25" cy="145.1406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="167" x="799.25" y="150.5508">SamResourceManagerFactory</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="558.5" x2="1163.5" y1="158.1875" y2="158.1875"/><polygon fill="none" points="568.5,165.1875,564.5,171.1875,572.5,171.1875" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="23" x="577.5" y="173.6064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="159" x="603.5" y="173.6064">int MAX_BLOCKING_TIME = 1000</text><polygon fill="none" points="568.5,179.0234,564.5,185.0234,572.5,185.0234" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="23" x="577.5" y="187.4424">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="149" x="603.5" y="187.4424">int DEFAULT_SLEEP_TIME = 10</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="558.5" x2="1163.5" y1="193.8594" y2="193.8594"/><ellipse cx="568.5" cy="204.8594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="581" x="577.5" y="209.2783">SamResourceManager instantiate(ReaderPlugin readerPlugin, String samReaderFilter, int maxBlockingTime, int sleepTime)</text><ellipse cx="568.5" cy="218.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="411" x="577.5" y="223.1143">SamResourceManager instantiate(ReaderPlugin readerPlugin, String samReaderFilter)</text><ellipse cx="568.5" cy="232.5313" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="529" x="577.5" y="236.9502">SamResourceManager instantiate(ReaderPoolPlugin samReaderPoolPlugin, int maxBlockingTime, int sleepTime)</text><ellipse cx="568.5" cy="246.3672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="359" x="577.5" y="250.7861">SamResourceManager instantiate(ReaderPoolPlugin samReaderPoolPlugin)</text><!--MD5=[3f1c31050580033d550dfe14efa3bbe3]
class AllocationMode--><rect fill="#FEFECE" height="75.6719" id="AllocationMode" style="stroke: #D4AC0D; stroke-width: 1.5;" width="126" x="1200" y="149.5"/><ellipse cx="1215" cy="165.5" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M1213.5,166.5 L1213.5,168.5 L1217.5,168.5 L1217.5,167.5 L1217.5,167.0156 L1218.125,166.5 L1218.5,166.5 L1218.875,166.5 L1219.5,167.0156 L1219.5,167.5 L1219.5,170.5 L1211.5,170.5 L1211.0156,170.5 L1210.5,169.875 L1210.5,169.5 L1210.5,169.125 L1211.0156,168.5 L1211.5,168.5 L1211.5,168.5 L1211.5,162.5 L1211.5,162.5 L1211.0156,162.5 L1210.5,161.875 L1210.5,161.5 L1210.5,161.125 L1211.0156,160.5 L1211.5,160.5 L1219.5,160.5 L1219.5,163.5 L1219.5,163.9844 L1218.875,164.5 L1218.5,164.5 L1218.125,164.5 L1217.5,163.9844 L1217.5,163.5 L1217.5,162.5 L1213.5,162.5 L1213.5,164.5 L1214.5,164.5 L1214.5,164.0156 L1214.5,164.0156 L1215.125,163.5 L1215.5,163.5 L1215.875,163.5 L1216.5,164.0156 L1216.5,164.5 L1216.5,166.5 L1216.5,166.9844 L1215.875,167.5 L1215.875,167.5 L1215.5,167.5 L1215.125,167.5 L1214.5,166.9844 L1214.5,166.9844 L1214.5,166.5 L1213.5,166.5 Z "/><ellipse cx="1234" cy="165" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="1240" y="170.4102">AllocationMode</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1201" x2="1325" y1="181.5" y2="181.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="1206" y="196.9189">BLOCKING</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="1206" y="210.7549">NON_BLOCKING</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1201" x2="1325" y1="217.1719" y2="217.1719"/><!--MD5=[7e1520c37f877dcee4dcfe09654b60f7]
class SamResourceManager--><rect fill="#FEFECE" height="107.5313" id="SamResourceManager" style="stroke: #D4AC0D; stroke-width: 1.5;" width="584" x="625" y="388"/><ellipse cx="843.75" cy="408.0938" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M845.5,409.5938 L842.2031,409.5938 L841.7656,410.5938 L841.7656,410.5938 L842.2344,410.5938 L842.75,411.2188 L842.75,411.5938 L842.75,411.9688 L842.2344,412.5938 L841.7656,412.5938 L839.875,412.5938 L839.2656,412.5938 L838.75,411.9688 L838.75,411.5938 L838.75,411.2188 L839.2656,410.5938 L839.875,410.5938 L842.1875,404.5938 L841.3125,404.5938 L840.2656,404.5938 L839.75,403.9688 L839.75,403.5938 L839.75,403.2188 L840.2656,402.5938 L841.3125,402.5938 L844.9844,402.5938 L847.6719,410.5938 L848.2344,410.5938 L848.2344,410.5938 L848.75,411.2188 L848.75,411.5938 L848.75,411.9688 L848.2344,412.5938 L847.6719,412.5938 L845.7813,412.5938 L845.2656,412.5938 L844.75,411.9688 L844.75,411.5938 L844.75,411.2188 L845.2656,410.5938 L845.7813,410.5938 L845.7813,410.5938 L845.5,409.5938 Z M844.9531,407.5938 L843.75,404.0156 L842.7188,407.5938 L844.9531,407.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="138" x="864.25" y="405.457">«not prefixed Abstract !!!»</text><ellipse cx="869.25" cy="415.1406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="127" x="875.25" y="420.5508">SamResourceManager</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="626" x2="1208" y1="428.1875" y2="428.1875"/><polygon fill="#FFFF44" points="636,434.1875,640,438.1875,636,442.1875,632,438.1875" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="462" x="645" y="443.6064">SamResourceManagerDefault.ManagedSamResource createSamResource(Reader samReader)</text><ellipse cx="636" cy="470.8594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="558" x="645" y="475.2783">CardResource&lt;CalypsoSam&gt; allocateSamResource(AllocationMode allocationMode, SamIdentifier samIdentifier)</text><ellipse cx="636" cy="484.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="315" x="645" y="489.1143">freeSamResource(CardResource&lt;CalypsoSam&gt; samResource)</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="626" x2="830.5" y1="456.9414" y2="456.9414"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="830.5" y="460.9424">abstract methods to be implemented</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1003.5" x2="1208" y1="456.9414" y2="456.9414"/><!--MD5=[48fbe8f7864d76e012d85d4001ebcee8]
class SamResourceManagerPool--><rect fill="#FEFECE" height="154.6875" id="SamResourceManagerPool" style="stroke: #D4AC0D; stroke-width: 1.5;" width="563" x="62.5" y="644.5"/><ellipse cx="257.75" cy="660.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M259.75,657 Q259.9531,656.5 260.1875,656.25 Q260.4219,656 260.6875,656 Q261.1563,656 261.4531,656.2813 Q261.75,656.5625 261.75,657.2188 L261.75,658.7813 Q261.75,659.4375 261.4688,659.7188 Q261.1875,660 260.75,660 Q260.3594,660 260.1094,659.8281 Q259.8594,659.6563 259.75,659.2031 Q259.7031,658.8906 259.5313,658.7188 Q259.2188,658.3906 258.6563,658.2031 Q258.0938,658 257.5313,658 Q256.8281,658 256.2344,658.2813 Q255.6563,658.5625 255.2031,659.1875 Q254.75,659.8125 254.75,660.6719 L254.75,661.5938 Q254.75,662.625 255.5938,663.3125 Q256.4375,664 257.9375,664 Q258.8281,664 259.4531,663.7969 Q259.8125,663.6875 260.2188,663.3281 Q260.4844,663.125 260.625,663.0625 Q260.7656,663 260.9375,663 Q261.2656,663 261.5,663.2656 Q261.75,663.5156 261.75,663.875 Q261.75,664.2188 261.4063,664.625 Q260.9063,665.2188 260.1094,665.5469 Q259.0625,666 257.7813,666 Q256.2813,666 255.0781,665.4063 Q254.1094,664.9375 253.4219,663.9219 Q252.75,662.9063 252.75,661.7031 L252.75,660.6094 Q252.75,659.3594 253.3438,658.2656 Q253.9531,657.1719 255,656.5938 Q256.0625,656 257.25,656 Q257.9688,656 258.5938,656.25 Q259.2188,656.5 259.75,657 Z "/><ellipse cx="283.25" cy="660" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="153" x="289.25" y="665.4102">SamResourceManagerPool</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63.5" x2="624.5" y1="676.5" y2="676.5"/><polygon fill="none" points="73.5,682.5,77.5,686.5,73.5,690.5,69.5,686.5" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="82.5" y="691.9189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="108.5" y="691.9189">ReaderPlugin samReaderPlugin</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="70.5" y="698.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="82.5" y="705.7549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="108.5" y="705.7549">int maxBlockingTime</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="70.5" y="712.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="82.5" y="719.5908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="108.5" y="719.5908">int sleepTime</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="85.5" y="733.4268"/><polygon fill="#FFFF44" points="73.5,737.8438,77.5,741.8438,73.5,745.8438,69.5,741.8438" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="497" x="82.5" y="747.2627">SamResourceManagerPool(ReaderPoolPlugin samReaderPoolPlugin, int maxBlockingTime, int sleepTime)</text><ellipse cx="73.5" cy="774.5156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="537" x="82.5" y="778.9346">CardResource&lt;CalypsoSam&gt; allocateSamResource(AllocationMode allocationMode, SamIdentifier samIdentifier)</text><ellipse cx="73.5" cy="788.3516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="308" x="82.5" y="792.7705">freeSamResource(CardResource&lt;CalypsoSam&gt; samResource)</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="63.5" x2="223" y1="760.5977" y2="760.5977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="242" x="223" y="764.5986">Override SamResourceManager abstract methods</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="465" x2="624.5" y1="760.5977" y2="760.5977"/><!--MD5=[08f70cc6f74073a5516af6e647710df3]
class SamResourceManagerDefault--><rect fill="#FEFECE" height="218.0313" id="SamResourceManagerDefault" style="stroke: #D4AC0D; stroke-width: 1.5;" width="589" x="660.5" y="613"/><ellipse cx="861.75" cy="629" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M863.75,625.5 Q863.9531,625 864.1875,624.75 Q864.4219,624.5 864.6875,624.5 Q865.1563,624.5 865.4531,624.7813 Q865.75,625.0625 865.75,625.7188 L865.75,627.2813 Q865.75,627.9375 865.4688,628.2188 Q865.1875,628.5 864.75,628.5 Q864.3594,628.5 864.1094,628.3281 Q863.8594,628.1563 863.75,627.7031 Q863.7031,627.3906 863.5313,627.2188 Q863.2188,626.8906 862.6563,626.7031 Q862.0938,626.5 861.5313,626.5 Q860.8281,626.5 860.2344,626.7813 Q859.6563,627.0625 859.2031,627.6875 Q858.75,628.3125 858.75,629.1719 L858.75,630.0938 Q858.75,631.125 859.5938,631.8125 Q860.4375,632.5 861.9375,632.5 Q862.8281,632.5 863.4531,632.2969 Q863.8125,632.1875 864.2188,631.8281 Q864.4844,631.625 864.625,631.5625 Q864.7656,631.5 864.9375,631.5 Q865.2656,631.5 865.5,631.7656 Q865.75,632.0156 865.75,632.375 Q865.75,632.7188 865.4063,633.125 Q864.9063,633.7188 864.1094,634.0469 Q863.0625,634.5 861.7813,634.5 Q860.2813,634.5 859.0781,633.9063 Q858.1094,633.4375 857.4219,632.4219 Q856.75,631.4063 856.75,630.2031 L856.75,629.1094 Q856.75,627.8594 857.3438,626.7656 Q857.9531,625.6719 859,625.0938 Q860.0625,624.5 861.25,624.5 Q861.9688,624.5 862.5938,624.75 Q863.2188,625 863.75,625.5 Z "/><ellipse cx="887.25" cy="628.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="167" x="893.25" y="633.9102">SamResourceManagerDefault</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="661.5" x2="1248.5" y1="645" y2="645"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="668.5" y="653"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="680.5" y="660.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="375" x="706.5" y="660.4189">ConcurrentMap&lt;String, ManagedSamResource&gt; localManagedSamResources</text><polygon fill="none" points="671.5,665.8359,667.5,671.8359,675.5,671.8359" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="680.5" y="674.2549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="449" x="706.5" y="674.2549">SamResourceManagerDefault.ReaderObserver readerObserver // only used with observable</text><polygon fill="none" points="671.5,678.6719,675.5,682.6719,671.5,686.6719,667.5,682.6719" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="680.5" y="688.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="706.5" y="688.0908">ReaderPlugin samReaderPlugin</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="668.5" y="694.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="680.5" y="701.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="706.5" y="701.9268">int maxBlockingTime</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="668.5" y="708.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="680.5" y="715.7627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="706.5" y="715.7627">int sleepTime</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="661.5" x2="1248.5" y1="722.1797" y2="722.1797"/><polygon fill="#FFFF44" points="671.5,728.1797,675.5,732.1797,671.5,736.1797,667.5,732.1797" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="563" x="680.5" y="737.5986">SamResourceManagerDefault(ReaderPlugin readerPlugin, String samReaderFilter, int maxBlockingTime, int sleepTime)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="668.5" y="744.0156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="338" x="680.5" y="751.4346">initSamReader(Reader samReader, ReaderObserver readerObserver)</text><polygon fill="#FFFF44" points="671.5,755.8516,675.5,759.8516,671.5,763.8516,667.5,759.8516" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="680.5" y="765.2705">removeResource(Reader samReader)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="683.5" y="779.1064"/><ellipse cx="671.5" cy="806.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="537" x="680.5" y="810.7783">CardResource&lt;CalypsoSam&gt; allocateSamResource(AllocationMode allocationMode, SamIdentifier samIdentifier)</text><ellipse cx="671.5" cy="820.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="308" x="680.5" y="824.6143">freeSamResource(CardResource&lt;CalypsoSam&gt; samResource)</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="661.5" x2="834" y1="792.4414" y2="792.4414"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="242" x="834" y="796.4424">Override SamResourceManager abstract methods</text><line style="stroke: #D4AC0D; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1076" x2="1248.5" y1="792.4414" y2="792.4414"/><!--MD5=[2ba81e69bbc08e9a7b0e4f2b7aad7280]
class SamIdentifier--><rect fill="#FEFECE" height="186.3594" id="SamIdentifier" style="stroke: #D4AC0D; stroke-width: 1.5;" width="385" x="166.5" y="349"/><ellipse cx="312.75" cy="365" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M314.75,361.5 Q314.9531,361 315.1875,360.75 Q315.4219,360.5 315.6875,360.5 Q316.1563,360.5 316.4531,360.7813 Q316.75,361.0625 316.75,361.7188 L316.75,363.2813 Q316.75,363.9375 316.4688,364.2188 Q316.1875,364.5 315.75,364.5 Q315.3594,364.5 315.1094,364.3281 Q314.8594,364.1563 314.75,363.7031 Q314.7031,363.3906 314.5313,363.2188 Q314.2188,362.8906 313.6563,362.7031 Q313.0938,362.5 312.5313,362.5 Q311.8281,362.5 311.2344,362.7813 Q310.6563,363.0625 310.2031,363.6875 Q309.75,364.3125 309.75,365.1719 L309.75,366.0938 Q309.75,367.125 310.5938,367.8125 Q311.4375,368.5 312.9375,368.5 Q313.8281,368.5 314.4531,368.2969 Q314.8125,368.1875 315.2188,367.8281 Q315.4844,367.625 315.625,367.5625 Q315.7656,367.5 315.9375,367.5 Q316.2656,367.5 316.5,367.7656 Q316.75,368.0156 316.75,368.375 Q316.75,368.7188 316.4063,369.125 Q315.9063,369.7188 315.1094,370.0469 Q314.0625,370.5 312.7813,370.5 Q311.2813,370.5 310.0781,369.9063 Q309.1094,369.4375 308.4219,368.4219 Q307.75,367.4063 307.75,366.2031 L307.75,365.1094 Q307.75,363.8594 308.3438,362.7656 Q308.9531,361.6719 310,361.0938 Q311.0625,360.5 312.25,360.5 Q312.9688,360.5 313.5938,360.75 Q314.2188,361 314.75,361.5 Z "/><ellipse cx="338.25" cy="364.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="344.25" y="369.9102">SamIdentifier</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="167.5" x2="550.5" y1="381" y2="381"/><polygon fill="none" points="177.5,388,173.5,394,181.5,394" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="186.5" y="396.4189">SamRevision samRevision</text><polygon fill="none" points="177.5,401.8359,173.5,407.8359,181.5,407.8359" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="186.5" y="410.2549">String serialNumber</text><polygon fill="none" points="177.5,415.6719,173.5,421.6719,181.5,421.6719" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="186.5" y="424.0908">String groupReference</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="167.5" x2="550.5" y1="430.5078" y2="430.5078"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="174.5" y="438.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="186.5" y="445.9268">SamIdentifier(SamIdentifierBuilder builder)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="189.5" y="459.7627"/><ellipse cx="177.5" cy="469.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="138" x="186.5" y="473.5986">SamIdentifierBuilder builder()</text><ellipse cx="177.5" cy="483.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="186.5" y="487.4346">SamRevision getSamRevision()</text><ellipse cx="177.5" cy="496.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="186.5" y="501.2705">String getSerialNumber()</text><ellipse cx="177.5" cy="510.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="135" x="186.5" y="515.1064">String getGroupReference()</text><ellipse cx="177.5" cy="524.5234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="359" x="186.5" y="528.9424">boolean matches(SamIdentifier samIdentifier) // renam 'equals' or 'compare'</text><!--MD5=[6b9ff826352c3a1ee042ee0d09778774]
class SamResourceStatus--><rect fill="#FEFECE" height="75.6719" id="SamResourceStatus" style="stroke: #D4AC0D; stroke-width: 1.5;" width="158" x="1447" y="924.5"/><ellipse cx="1462" cy="940.5" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M1460.5,941.5 L1460.5,943.5 L1464.5,943.5 L1464.5,942.5 L1464.5,942.0156 L1465.125,941.5 L1465.5,941.5 L1465.875,941.5 L1466.5,942.0156 L1466.5,942.5 L1466.5,945.5 L1458.5,945.5 L1458.0156,945.5 L1457.5,944.875 L1457.5,944.5 L1457.5,944.125 L1458.0156,943.5 L1458.5,943.5 L1458.5,943.5 L1458.5,937.5 L1458.5,937.5 L1458.0156,937.5 L1457.5,936.875 L1457.5,936.5 L1457.5,936.125 L1458.0156,935.5 L1458.5,935.5 L1466.5,935.5 L1466.5,938.5 L1466.5,938.9844 L1465.875,939.5 L1465.5,939.5 L1465.125,939.5 L1464.5,938.9844 L1464.5,938.5 L1464.5,937.5 L1460.5,937.5 L1460.5,939.5 L1461.5,939.5 L1461.5,939.0156 L1461.5,939.0156 L1462.125,938.5 L1462.5,938.5 L1462.875,938.5 L1463.5,939.0156 L1463.5,939.5 L1463.5,941.5 L1463.5,941.9844 L1462.875,942.5 L1462.875,942.5 L1462.5,942.5 L1462.125,942.5 L1461.5,941.9844 L1461.5,941.9844 L1461.5,941.5 L1460.5,941.5 Z "/><ellipse cx="1481" cy="940" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="115" x="1487" y="945.4102">SamResourceStatus</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1448" x2="1604" y1="956.5" y2="956.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="1453" y="971.9189">FREE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="1453" y="985.7549">BUSY</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1448" x2="1604" y1="992.1719" y2="992.1719"/><!--MD5=[394bef7b68bfbe24e69c70f60f087df9]
class ManagedSamResource--><rect fill="#FEFECE" height="153.0391" id="ManagedSamResource" style="stroke: #D4AC0D; stroke-width: 1.5;" width="348" x="1352" y="645.5"/><ellipse cx="1450.75" cy="665.5938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1452.75,662.0938 Q1452.9531,661.5938 1453.1875,661.3438 Q1453.4219,661.0938 1453.6875,661.0938 Q1454.1563,661.0938 1454.4531,661.375 Q1454.75,661.6563 1454.75,662.3125 L1454.75,663.875 Q1454.75,664.5313 1454.4688,664.8125 Q1454.1875,665.0938 1453.75,665.0938 Q1453.3594,665.0938 1453.1094,664.9219 Q1452.8594,664.75 1452.75,664.2969 Q1452.7031,663.9844 1452.5313,663.8125 Q1452.2188,663.4844 1451.6563,663.2969 Q1451.0938,663.0938 1450.5313,663.0938 Q1449.8281,663.0938 1449.2344,663.375 Q1448.6563,663.6563 1448.2031,664.2813 Q1447.75,664.9063 1447.75,665.7656 L1447.75,666.6875 Q1447.75,667.7188 1448.5938,668.4063 Q1449.4375,669.0938 1450.9375,669.0938 Q1451.8281,669.0938 1452.4531,668.8906 Q1452.8125,668.7813 1453.2188,668.4219 Q1453.4844,668.2188 1453.625,668.1563 Q1453.7656,668.0938 1453.9375,668.0938 Q1454.2656,668.0938 1454.5,668.3594 Q1454.75,668.6094 1454.75,668.9688 Q1454.75,669.3125 1454.4063,669.7188 Q1453.9063,670.3125 1453.1094,670.6406 Q1452.0625,671.0938 1450.7813,671.0938 Q1449.2813,671.0938 1448.0781,670.5 Q1447.1094,670.0313 1446.4219,669.0156 Q1445.75,668 1445.75,666.7969 L1445.75,665.7031 Q1445.75,664.4531 1446.3438,663.3594 Q1446.9531,662.2656 1448,661.6875 Q1449.0625,661.0938 1450.25,661.0938 Q1450.9688,661.0938 1451.5938,661.3438 Q1452.2188,661.5938 1452.75,662.0938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="42" x="1521.25" y="662.957">«static»</text><polygon fill="#4177AF" points="1476.25,668.6406,1472.25,674.6406,1480.25,674.6406" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="131" x="1482.25" y="678.0508">ManagedSamResource</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1353" x2="1699" y1="685.6875" y2="685.6875"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1360" y="693.6875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="1372" y="701.1064">SamResourceStatus samResourceStatus</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1360" y="707.5234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="1372" y="714.9424">SamIdentifier samIdentifier</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1353" x2="1699" y1="721.3594" y2="721.3594"/><ellipse cx="1363" cy="732.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="318" x="1372" y="736.7783">ManagedSamResource(Reader reader, CalypsoSam calypsoSam)</text><ellipse cx="1363" cy="746.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="1372" y="750.6143">boolean isSamResourceFree()</text><ellipse cx="1363" cy="760.0313" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="211" x="1372" y="764.4502">setSamIdentifier(SamIdentifier samIdentifier)</text><ellipse cx="1363" cy="773.8672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="1372" y="778.2861">boolean isSamMatching(SamIdentifier samIdentifier)</text><ellipse cx="1363" cy="787.7031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="322" x="1372" y="792.1221">setSamResourceStatus(SamResourceStatus samResourceStatus)</text><!--MD5=[023c4512c54c7652aea90369e9f7b7d2]
class PluginObserver--><rect fill="#FEFECE" height="140.8516" id="PluginObserver" style="stroke: #D4AC0D; stroke-width: 1.5;" width="385" x="609.5" y="892"/><ellipse cx="749.75" cy="908" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M751.75,904.5 Q751.9531,904 752.1875,903.75 Q752.4219,903.5 752.6875,903.5 Q753.1563,903.5 753.4531,903.7813 Q753.75,904.0625 753.75,904.7188 L753.75,906.2813 Q753.75,906.9375 753.4688,907.2188 Q753.1875,907.5 752.75,907.5 Q752.3594,907.5 752.1094,907.3281 Q751.8594,907.1563 751.75,906.7031 Q751.7031,906.3906 751.5313,906.2188 Q751.2188,905.8906 750.6563,905.7031 Q750.0938,905.5 749.5313,905.5 Q748.8281,905.5 748.2344,905.7813 Q747.6563,906.0625 747.2031,906.6875 Q746.75,907.3125 746.75,908.1719 L746.75,909.0938 Q746.75,910.125 747.5938,910.8125 Q748.4375,911.5 749.9375,911.5 Q750.8281,911.5 751.4531,911.2969 Q751.8125,911.1875 752.2188,910.8281 Q752.4844,910.625 752.625,910.5625 Q752.7656,910.5 752.9375,910.5 Q753.2656,910.5 753.5,910.7656 Q753.75,911.0156 753.75,911.375 Q753.75,911.7188 753.4063,912.125 Q752.9063,912.7188 752.1094,913.0469 Q751.0625,913.5 749.7813,913.5 Q748.2813,913.5 747.0781,912.9063 Q746.1094,912.4375 745.4219,911.4219 Q744.75,910.4063 744.75,909.2031 L744.75,908.1094 Q744.75,906.8594 745.3438,905.7656 Q745.9531,904.6719 747,904.0938 Q748.0625,903.5 749.25,903.5 Q749.9688,903.5 750.5938,903.75 Q751.2188,904 751.75,904.5 Z "/><polygon fill="#4177AF" points="775.25,903.5,771.25,909.5,779.25,909.5" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="781.25" y="912.9102">PluginObserver</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="610.5" x2="993.5" y1="924" y2="924"/><polygon fill="none" points="620.5,931,616.5,937,624.5,937" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="629.5" y="939.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="655.5" y="939.4189">ReaderObserver readerObserver</text><polygon fill="none" points="620.5,944.8359,616.5,950.8359,624.5,950.8359" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="629.5" y="953.2549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="655.5" y="953.2549">String samReaderFilter</text><polygon fill="none" points="620.5,958.6719,616.5,964.6719,624.5,964.6719" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="629.5" y="967.0908">Pattern p</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="632.5" y="980.9268"/><polygon fill="#4177AF" points="620.5,986.3438,616.5,992.3438,624.5,992.3438" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="359" x="629.5" y="994.7627">PluginObserver(ReaderObserver readerObserver, String samReaderFilter)</text><ellipse cx="620.5" cy="1022.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="629.5" y="1026.4346">update(PluginEvent event)</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="610.5" x2="742.5" y1="1008.0977" y2="1008.0977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="742.5" y="1012.0986">Override PluginObserver</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="861.5" x2="993.5" y1="1008.0977" y2="1008.0977"/><!--MD5=[35b709ead7a86e7b2780a25fdb99ded4]
class ReaderObserver--><rect fill="#FEFECE" height="85.5078" id="ReaderObserver" style="stroke: #D4AC0D; stroke-width: 1.5;" width="159" x="1029.5" y="919.5"/><ellipse cx="1055.75" cy="935.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1057.75,932 Q1057.9531,931.5 1058.1875,931.25 Q1058.4219,931 1058.6875,931 Q1059.1563,931 1059.4531,931.2813 Q1059.75,931.5625 1059.75,932.2188 L1059.75,933.7813 Q1059.75,934.4375 1059.4688,934.7188 Q1059.1875,935 1058.75,935 Q1058.3594,935 1058.1094,934.8281 Q1057.8594,934.6563 1057.75,934.2031 Q1057.7031,933.8906 1057.5313,933.7188 Q1057.2188,933.3906 1056.6563,933.2031 Q1056.0938,933 1055.5313,933 Q1054.8281,933 1054.2344,933.2813 Q1053.6563,933.5625 1053.2031,934.1875 Q1052.75,934.8125 1052.75,935.6719 L1052.75,936.5938 Q1052.75,937.625 1053.5938,938.3125 Q1054.4375,939 1055.9375,939 Q1056.8281,939 1057.4531,938.7969 Q1057.8125,938.6875 1058.2188,938.3281 Q1058.4844,938.125 1058.625,938.0625 Q1058.7656,938 1058.9375,938 Q1059.2656,938 1059.5,938.2656 Q1059.75,938.5156 1059.75,938.875 Q1059.75,939.2188 1059.4063,939.625 Q1058.9063,940.2188 1058.1094,940.5469 Q1057.0625,941 1055.7813,941 Q1054.2813,941 1053.0781,940.4063 Q1052.1094,939.9375 1051.4219,938.9219 Q1050.75,937.9063 1050.75,936.7031 L1050.75,935.6094 Q1050.75,934.3594 1051.3438,933.2656 Q1051.9531,932.1719 1053,931.5938 Q1054.0625,931 1055.25,931 Q1055.9688,931 1056.5938,931.25 Q1057.2188,931.5 1057.75,932 Z "/><polygon fill="#4177AF" points="1077.25,931,1073.25,937,1081.25,937" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="1083.25" y="940.4102">ReaderObserver</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1030.5" x2="1187.5" y1="951.5" y2="951.5"/><polygon fill="#4177AF" points="1040.5,958.5,1036.5,964.5,1044.5,964.5" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="1049.5" y="966.9189">ReaderObserver()</text><ellipse cx="1040.5" cy="994.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="1049.5" y="998.5908">update(ReaderEvent event)</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="1030.5" x2="1046" y1="980.2539" y2="980.2539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="1046" y="984.2549">Override ReaderObserver</text><line style="stroke: #D4AC0D; stroke-width: 1.0;" x1="1172" x2="1187.5" y1="980.2539" y2="980.2539"/><!--MD5=[3577f0f1d01b421b4576296e490829fb]
class SamIdentifierBuilder--><rect fill="#FEFECE" height="166.875" id="SamIdentifierBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="321" x="198.5" y="104"/><ellipse cx="293.25" cy="124.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M295.25,120.5938 Q295.4531,120.0938 295.6875,119.8438 Q295.9219,119.5938 296.1875,119.5938 Q296.6563,119.5938 296.9531,119.875 Q297.25,120.1563 297.25,120.8125 L297.25,122.375 Q297.25,123.0313 296.9688,123.3125 Q296.6875,123.5938 296.25,123.5938 Q295.8594,123.5938 295.6094,123.4219 Q295.3594,123.25 295.25,122.7969 Q295.2031,122.4844 295.0313,122.3125 Q294.7188,121.9844 294.1563,121.7969 Q293.5938,121.5938 293.0313,121.5938 Q292.3281,121.5938 291.7344,121.875 Q291.1563,122.1563 290.7031,122.7813 Q290.25,123.4063 290.25,124.2656 L290.25,125.1875 Q290.25,126.2188 291.0938,126.9063 Q291.9375,127.5938 293.4375,127.5938 Q294.3281,127.5938 294.9531,127.3906 Q295.3125,127.2813 295.7188,126.9219 Q295.9844,126.7188 296.125,126.6563 Q296.2656,126.5938 296.4375,126.5938 Q296.7656,126.5938 297,126.8594 Q297.25,127.1094 297.25,127.4688 Q297.25,127.8125 296.9063,128.2188 Q296.4063,128.8125 295.6094,129.1406 Q294.5625,129.5938 293.2813,129.5938 Q291.7813,129.5938 290.5781,129 Q289.6094,128.5313 288.9219,127.5156 Q288.25,126.5 288.25,125.2969 L288.25,124.2031 Q288.25,122.9531 288.8438,121.8594 Q289.4531,120.7656 290.5,120.1875 Q291.5625,119.5938 292.75,119.5938 Q293.4688,119.5938 294.0938,119.8438 Q294.7188,120.0938 295.25,120.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="42" x="354.25" y="121.457">«static»</text><ellipse cx="318.75" cy="131.1406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="112" x="324.75" y="136.5508">SamIdentifierBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="199.5" x2="518.5" y1="144.1875" y2="144.1875"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="206.5" y="152.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="218.5" y="159.6064">SamRevision samRevision</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="206.5" y="166.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="218.5" y="173.4424">String serialNumber</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="206.5" y="179.8594"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="218.5" y="187.2783">String groupReference</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="199.5" x2="518.5" y1="193.6953" y2="193.6953"/><ellipse cx="209.5" cy="204.6953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="293" x="218.5" y="209.1143">SamIdentifierBuilder samRevision(SamRevision samRevision)</text><ellipse cx="209.5" cy="218.5313" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="263" x="218.5" y="222.9502">SamIdentifierBuilder serialNumber(String serialNumber)</text><ellipse cx="209.5" cy="232.3672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="295" x="218.5" y="236.7861">SamIdentifierBuilder groupReference(String groupReference)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="221.5" y="250.6221"/><ellipse cx="209.5" cy="260.0391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="218.5" y="264.458">SamIdentifier build()</text><!--MD5=[45cdeadd5cc193c01f9a7ed8e972ff9c]
class seproxy.event.PluginObserver--><rect fill="#FEFECE" height="48" id="seproxy.event.PluginObserver" style="stroke: #D4AC0D; stroke-width: 1.5;" width="118" x="837" y="1159"/><ellipse cx="852" cy="1175" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M853,1172 L853,1178 L855,1178 L855.4844,1178 L856,1178.625 L856,1179 L856,1179.375 L855.4844,1180 L855,1180 L849,1180 L848.5156,1180 L848,1179.375 L848,1179 L848,1178.625 L848.5156,1178 L849,1178 L851,1178 L851,1172 L849,1172 L848.5156,1172 L848,1171.375 L848,1171 L848,1170.625 L848.5156,1170 L849,1170 L855,1170 L855.4844,1170 L856,1170.625 L856,1171 L856,1171.375 L855.4844,1172 L855,1172 L853,1172 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="86" x="866" y="1179.9102">PluginObserver</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="838" x2="954" y1="1191" y2="1191"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="838" x2="954" y1="1199" y2="1199"/><!--MD5=[a28907e7c75839f98ae6276f2ed93e18]
class seproxy.event.ReaderObserver--><rect fill="#FEFECE" height="48" id="seproxy.event.ReaderObserver" style="stroke: #D4AC0D; stroke-width: 1.5;" width="124" x="990" y="1159"/><ellipse cx="1005" cy="1175" fill="#B4A7E5" rx="11" ry="11" style="stroke: #B4A7E5; stroke-width: 1.0;"/><path d="M1006,1172 L1006,1178 L1008,1178 L1008.4844,1178 L1009,1178.625 L1009,1179 L1009,1179.375 L1008.4844,1180 L1008,1180 L1002,1180 L1001.5156,1180 L1001,1179.375 L1001,1179 L1001,1178.625 L1001.5156,1178 L1002,1178 L1004,1178 L1004,1172 L1002,1172 L1001.5156,1172 L1001,1171.375 L1001,1171 L1001,1170.625 L1001.5156,1170 L1002,1170 L1008,1170 L1008.4844,1170 L1009,1170.625 L1009,1171 L1009,1171.375 L1008.4844,1172 L1008,1172 L1006,1172 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="92" x="1019" y="1179.9102">ReaderObserver</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="991" x2="1113" y1="1191" y2="1191"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="991" x2="1113" y1="1199" y2="1199"/><!--MD5=[283d01a44659bb7889f5042c65d1c900]
link AllocationMode to SamResourceManager--><path d="M1229.95,225.63 C1215.87,240.508 1198.82,257.327 1182,271 C1132.74,311.033 1073.65,349.727 1023.77,380.059 " fill="none" id="AllocationMode-&gt;SamResourceManager" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="1017.4912" cy="383.8545" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1024.3424" x2="1010.64" y1="379.7239" y2="387.985"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1021.6217" x2="1013.3607" y1="390.7057" y2="377.0033"/><!--MD5=[2f664904ce2336d5c543615d4a718ce6]
link SamResourceManagerFactory to SamResourceManager--><path d="M876.228,257.163 C885.362,298.345 896.803,349.931 905.238,387.968 " fill="none" id="SamResourceManagerFactory-SamResourceManager" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="890" y="315.4951">build</text><polygon fill="#000000" points="899,324.3516,902,330.3516,905,324.3516,899,324.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[12ba965045b8f5f211428c3fcfcb72c2]
reverse link SamResourceManager to SamResourceManagerDefault--><path d="M927.02,516.304 C931.061,545.87 935.807,580.587 940.23,612.947 " fill="none" id="SamResourceManager&lt;-SamResourceManagerDefault" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="920.055,517.036,924.282,496.272,933.926,515.14,920.055,517.036" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="937" y="579.4951">extends</text><!--MD5=[6a9994bd2a9ecdec4d37a6b4d1eb2ab7]
reverse link SamResourceManager to SamResourceManagerPool--><path d="M789.305,504.953 C704.4,546.146 592.294,600.536 501.807,644.437 " fill="none" id="SamResourceManager&lt;-SamResourceManagerPool" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="786.487,498.54,807.536,496.108,792.598,511.136,786.487,498.54" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="665" y="579.4951">extends</text><!--MD5=[3f5c422f33229ad2b0d8bb84052de00d]
link SamIdentifier to SamResourceManagerPool--><!--MD5=[8b177f9d36762338aa07be5030c1b2bd]
link ManagedSamResource to SamResourceManagerDefault--><path d="M1351.77,722 C1319.33,722 1284.6,722 1249.7,722 " fill="none" id="ManagedSamResource-SamResourceManagerDefault" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="1267.75" y="715.4951">manages</text><polygon fill="#000000" points="1323.75,708.6758,1329.75,711.6758,1323.75,714.6758,1323.75,708.6758" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[3eab8380b76d5a68b02217497d22befc]
link SamIdentifierBuilder to SamIdentifier--><path d="M359,271.178 C359,291.2 359,312.889 359,333.858 " fill="none" id="SamIdentifierBuilder-&gt;SamIdentifier" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="359" cy="340.965" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="359" x2="359" y1="332.965" y2="348.965"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="367" x2="351" y1="340.965" y2="340.965"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="360" y="315.4951">builds</text><polygon fill="#000000" points="372.5,324.3516,375.5,330.3516,378.5,324.3516,372.5,324.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[c6ed4a93bcfb8397e59b15c3a28696c5]
link SamIdentifier to SamResourceManager--><path d="M551.63,442 C576.012,442 600.393,442 624.775,442 " fill="none" id="SamIdentifier-SamResourceManager" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[15cf82b70813623e87d65b72e03da973]
link SamResourceManager to SamResource--><path d="M1209.32,442 C1391.38,442 1616.74,442 1756.45,442 " fill="none" id="SamResourceManager-SamResource" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="1452.75" y="435.4951">provides</text><polygon fill="#000000" points="1502.75,428.6758,1508.75,431.6758,1502.75,434.6758,1502.75,428.6758" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[dd48ad5c3ab87bb70224773eec6ebccc]
reverse link SamResource to ManagedSamResource--><path d="M1832.82,485.374 C1777.59,527.791 1691.41,593.97 1624.44,645.406 " fill="none" id="SamResource&lt;-ManagedSamResource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1828.79,479.645,1848.92,473.015,1837.32,490.748,1828.79,479.645" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1729" y="579.4951">extends</text><!--MD5=[3d4e5162580cc58cfd160ac6d3ba2523]
reverse link ManagedSamResource to SamResourceStatus--><path d="M1526,813.813 C1526,852.191 1526,894.742 1526,924.274 " fill="none" id="ManagedSamResource&lt;-SamResourceStatus" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="1526" cy="806.791" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1526" x2="1526" y1="814.791" y2="798.791"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1518" x2="1534" y1="806.791" y2="806.791"/><!--MD5=[11b0751a162d6da48e6e7c851ad297b1]
reverse link SamResourceManagerDefault to PluginObserver--><path d="M877.283,844.146 C866.825,860.449 856.397,876.705 846.781,891.694 " fill="none" id="SamResourceManagerDefault&lt;-PluginObserver" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="881.3437" cy="837.8188" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="877.0244" x2="885.663" y1="844.5526" y2="831.085"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="874.6099" x2="888.0775" y1="833.4995" y2="842.1381"/><!--MD5=[507a1fd3d98275cca4ba79b96c5d30b9]
reverse link SamResourceManagerDefault to ReaderObserver--><path d="M1033.1,843.961 C1050.62,871.09 1068.06,898.101 1081.8,919.376 " fill="none" id="SamResourceManagerDefault&lt;-ReaderObserver" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="1029.1301" cy="837.8054" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1033.4701" x2="1024.79" y1="844.5258" y2="831.085"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1022.4097" x2="1035.8505" y1="842.1455" y2="833.4653"/><!--MD5=[f8e6733615f2e5b8fd8413fc1125331d]
link PluginObserver to seproxy.event.PluginObserver--><path d="M832.001,1033.236 C847.178,1068.515 865.089,1110.148 878.097,1140.3855 " fill="none" id="PluginObserver-&gt;seproxy.event.PluginObserver" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="884.569,1137.716,886.043,1158.8542,871.709,1143.2485,884.569,1137.716" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="863" y="1103.4951">implements</text><!--MD5=[cc9bb0cd58ccb9c41e293fc2223c69cb]
link ReaderObserver to seproxy.event.ReaderObserver--><path d="M1098.01,1005.629 C1087.96,1044.134 1073.18,1100.802 1063.1,1139.4416 " fill="none" id="ReaderObserver-&gt;seproxy.event.ReaderObserver" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1069.87,1141.2382,1058.05,1158.8235,1056.32,1137.704,1069.87,1141.2382" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1076" y="1103.4951">implements</text><!--MD5=[b2b068c3ff17e3a0c2428fe6941cbc6d]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package calypso {
package transaction {
+class "CardResource<CalypsoSam>" as SamResource {
  +CardResource(<color:red>Reader reader</color>, CalypsoSam sam)
}
}

package sammanager {

+abstract SamResourceManagerFactory <<not prefixed Abstract !!! >> {
  ~{static}<b>final</b> int MAX_BLOCKING_TIME = 1000
  ~{static}<b>final</b> int DEFAULT_SLEEP_TIME = 10

  +{static}SamResourceManager instantiate(ReaderPlugin readerPlugin, String samReaderFilter, int maxBlockingTime, int sleepTime)
  +{static}SamResourceManager instantiate(ReaderPlugin readerPlugin, String samReaderFilter)
  +{static}SamResourceManager instantiate(ReaderPoolPlugin samReaderPoolPlugin, int maxBlockingTime, int sleepTime)
  +{static}SamResourceManager instantiate(ReaderPoolPlugin samReaderPoolPlugin)
}


+enum AllocationMode {
  BLOCKING
  NON_BLOCKING
}

+abstract SamResourceManager <<not prefixed Abstract !!! >> {
  #SamResourceManagerDefault.ManagedSamResource createSamResource(Reader samReader)
  .. abstract methods to be implemented ..
  +{abstract} CardResource<CalypsoSam> allocateSamResource(AllocationMode allocationMode, SamIdentifier samIdentifier)
  +{abstract} freeSamResource(CardResource<CalypsoSam> samResource)
}

SamResourceManager +-up- AllocationMode
SamResourceManager -up- SamResourceManagerFactory : build <

+class SamResourceManagerPool {
  #<b>final</b> ReaderPlugin samReaderPlugin
  -<b>final</b> int maxBlockingTime
  -<b>final</b> int sleepTime

  #SamResourceManagerPool(ReaderPoolPlugin samReaderPoolPlugin, int maxBlockingTime, int sleepTime)
  .. Override SamResourceManager abstract methods ..
  +CardResource<CalypsoSam> allocateSamResource(AllocationMode allocationMode, SamIdentifier samIdentifier)
  +freeSamResource(CardResource<CalypsoSam> samResource)
}

+class SamResourceManagerDefault {
  -<b>final</b> ConcurrentMap<String, ManagedSamResource> localManagedSamResources
  ~<b>final</b> SamResourceManagerDefault.ReaderObserver readerObserver // only used with observable
  #<b>final</b> ReaderPlugin samReaderPlugin
  -<b>final</b> int maxBlockingTime
  -<b>final</b> int sleepTime
- -
  #SamResourceManagerDefault(ReaderPlugin readerPlugin, String samReaderFilter, int maxBlockingTime, int sleepTime)
  -initSamReader(Reader samReader, ReaderObserver readerObserver)
  #removeResource(Reader samReader)

  .. Override SamResourceManager abstract methods ..
  +CardResource<CalypsoSam> allocateSamResource(AllocationMode allocationMode, SamIdentifier samIdentifier)
  +freeSamResource(CardResource<CalypsoSam> samResource)
}



SamResourceManager <|-down- SamResourceManagerDefault : extends
SamResourceManager <|- - SamResourceManagerPool : extends
SamIdentifier -down[hidden]- SamResourceManagerPool


+enum SamResourceStatus {
  FREE
  BUSY
}

~class ManagedSamResource <<static>> {
  -SamResourceStatus samResourceStatus
  -SamIdentifier samIdentifier

  +ManagedSamResource(Reader reader, CalypsoSam calypsoSam)
  +boolean isSamResourceFree()
  +setSamIdentifier(SamIdentifier samIdentifier)
  +boolean isSamMatching(SamIdentifier samIdentifier)
  +setSamResourceStatus(SamResourceStatus samResourceStatus)
}

ManagedSamResource -right- SamResourceManagerDefault : manages <

~class PluginObserver {
  ~<b>final</b> ReaderObserver readerObserver
  ~<b>final</b> String samReaderFilter
  ~Pattern p

  ~PluginObserver(ReaderObserver readerObserver, String samReaderFilter)
  - - Override PluginObserver - -
  +update(PluginEvent event)
}

~class ReaderObserver {
  ~ReaderObserver()
  - - Override ReaderObserver - -
  +update(ReaderEvent event)
}

+class SamIdentifier {
  ~SamRevision samRevision
  ~String serialNumber
  ~String groupReference

  -SamIdentifier(SamIdentifierBuilder builder)

  +{static} SamIdentifierBuilder builder()
  +SamRevision getSamRevision()
  +String getSerialNumber()
  +String getGroupReference()
  +boolean matches(SamIdentifier samIdentifier) // renam 'equals' or 'compare'
}

+class SamIdentifierBuilder <<static>> {
  -SamRevision samRevision
  -String serialNumber
  -String groupReference

  +SamIdentifierBuilder samRevision(SamRevision samRevision)
  +SamIdentifierBuilder serialNumber(String serialNumber)
  +SamIdentifierBuilder groupReference(String groupReference)

  +SamIdentifier build()
}

SamIdentifier +-up- SamIdentifierBuilder : builds <
SamIdentifier -right- SamResourceManager
}

SamResourceManager -right- SamResource : provides >
SamResource <|- - ManagedSamResource : extends
ManagedSamResource +-down- SamResourceStatus
SamResourceManagerDefault +-down- PluginObserver
SamResourceManagerDefault +-down- ReaderObserver
}

interface seproxy.event.PluginObserver
interface seproxy.event.ReaderObserver
PluginObserver .down.|> seproxy.event.PluginObserver : implements
ReaderObserver .down.|> seproxy.event.ReaderObserver : implements


@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>