<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3494px" preserveAspectRatio="none" style="width:2598px;height:3494px;" version="1.1" viewBox="0 0 2598 3494" width="2598px" zoomAndPan="magnify"><defs/><g><!--MD5=[c3c915b379c717332e210d38dcd6e8a2]
cluster org.eclipse.keyple.core--><polygon fill="#FFFFFF" points="44,48,386,48,400,95.2188,2554,95.2188,2554,3470,44,3470,44,48" style="stroke: #000000; stroke-width: 3.0;"/><line style="stroke: #000000; stroke-width: 3.0;" x1="44" x2="400" y1="95.2188" y2="95.2188"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="330" x="52" y="81.0664">org.eclipse.keyple.core</text><!--MD5=[5a3d2abf109d9ee3e5aa1fa7d87bd15e]
cluster reader_even--><polygon fill="#FFFFFF" points="364,136,482,136,496,183.2188,2276,183.2188,2276,530,364,530,364,136" style="stroke: #000000; stroke-width: 3.0;"/><line style="stroke: #000000; stroke-width: 3.0;" x1="364" x2="496" y1="183.2188" y2="183.2188"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106" x="372" y="169.0664">service</text><!--MD5=[2e31800f208179cab94650aeb782e4d8]
cluster event--><polygon fill="#FFFFFF" points="1154,233,1248,233,1262,280.2188,2228,280.2188,2228,433,1154,433,1154,233" style="stroke: #000000; stroke-width: 3.0;"/><line style="stroke: #000000; stroke-width: 3.0;" x1="1154" x2="1262" y1="280.2188" y2="280.2188"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="1162" y="266.0664">event</text><!--MD5=[97169c8f85b66adbe4af788cf429eaba]
cluster card.selection--><polygon fill="#FFFFFF" points="216,630,428,630,442,677.2188,2506,677.2188,2506,3422,216,3422,216,630" style="stroke: #000000; stroke-width: 3.0;"/><line style="stroke: #000000; stroke-width: 3.0;" x1="216" x2="442" y1="677.2188" y2="677.2188"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="200" x="224" y="663.0664">card.selection</text><!--MD5=[e86a4777f2c0372cf9fb3cd047e1466e]
class Reader--><rect fill="#FEFECE" height="289.7031" id="Reader" style="stroke: #D4AC0D; stroke-width: 3.0;" width="720" x="396" y="208"/><ellipse cx="695.5" cy="240" fill="#B4A7E5" rx="22" ry="22" style="stroke: #B4A7E5; stroke-width: 2.0;"/><path d="M697.5,234 L697.5,246 L701.5,246 L702.4688,246 L703.5,247.25 L703.5,248 L703.5,248.75 L702.4688,250 L701.5,250 L689.5,250 L688.5313,250 L687.5,248.75 L687.5,248 L687.5,247.25 L688.5313,246 L689.5,246 L693.5,246 L693.5,234 L689.5,234 L688.5313,234 L687.5,232.75 L687.5,232 L687.5,231.25 L688.5313,230 L689.5,230 L701.5,230 L702.4688,230 L703.5,231.25 L703.5,232 L703.5,232.75 L702.4688,234 L701.5,234 L697.5,234 Z "/><ellipse cx="746.5" cy="239" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="82" x="758.5" y="249.8203">Reader</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="398" x2="1114" y1="272" y2="272"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="398" x2="1114" y1="288" y2="288"/><ellipse cx="418" cy="310" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="162" x="436" y="318.8379">String getName()</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="442" y="346.5098"/><ellipse cx="418" cy="365.3438" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="234" x="436" y="374.1816">boolean isCardPresent()</text><ellipse cx="418" cy="393.0156" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="228" x="436" y="401.8535">boolean isContactless()</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="442" y="429.5254"/><ellipse cx="418" cy="448.3594" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="668" x="436" y="457.1973">activateProtocol(String applicationReference, String pluginReference)</text><ellipse cx="418" cy="476.0313" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="460" x="436" y="484.8691">deactivateProtocol(String applicationReference)</text><!--MD5=[cfa5e1a9c30861ac5ad043f1201ace69]
class AbstractDefaultSelectionsRequest--><rect fill="#FEFECE" height="96" id="AbstractDefaultSelectionsRequest" style="stroke: #D4AC0D; stroke-width: 3.0;" width="460" x="1736" y="305"/><ellipse cx="1766" cy="337" fill="#A9DCDF" rx="22" ry="22" style="stroke: #A9DCDF; stroke-width: 2.0;"/><path d="M1769.5,340 L1762.9063,340 L1762.0313,342 L1762.0313,342 L1762.9688,342 L1764,343.25 L1764,344 L1764,344.75 L1762.9688,346 L1762.0313,346 L1758.25,346 L1757.0313,346 L1756,344.75 L1756,344 L1756,343.25 L1757.0313,342 L1758.25,342 L1762.875,330 L1761.125,330 L1759.0313,330 L1758,328.75 L1758,328 L1758,327.25 L1759.0313,326 L1761.125,326 L1768.4688,326 L1773.8438,342 L1774.9688,342 L1774.9688,342 L1776,343.25 L1776,344 L1776,344.75 L1774.9688,346 L1773.8438,346 L1770.0625,346 L1769.0313,346 L1768,344.75 L1768,344 L1768,343.25 L1769.0313,342 L1770.0625,342 L1770.0625,342 L1769.5,340 Z M1768.4063,336 L1766,328.8438 L1763.9375,336 L1768.4063,336 Z "/><ellipse cx="1804" cy="336" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="374" x="1816" y="346.8203">AbstractDefaultSelectionsRequest</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1738" x2="2194" y1="369" y2="369"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1738" x2="2194" y1="385" y2="385"/><!--MD5=[8f41c7e8d8e3ce316d782de639711bb6]
class AbstractDefaultSelectionsResponse--><rect fill="#FEFECE" height="96" id="AbstractDefaultSelectionsResponse" style="stroke: #D4AC0D; stroke-width: 3.0;" width="480" x="1186" y="305"/><ellipse cx="1216" cy="337" fill="#A9DCDF" rx="22" ry="22" style="stroke: #A9DCDF; stroke-width: 2.0;"/><path d="M1219.5,340 L1212.9063,340 L1212.0313,342 L1212.0313,342 L1212.9688,342 L1214,343.25 L1214,344 L1214,344.75 L1212.9688,346 L1212.0313,346 L1208.25,346 L1207.0313,346 L1206,344.75 L1206,344 L1206,343.25 L1207.0313,342 L1208.25,342 L1212.875,330 L1211.125,330 L1209.0313,330 L1208,328.75 L1208,328 L1208,327.25 L1209.0313,326 L1211.125,326 L1218.4688,326 L1223.8438,342 L1224.9688,342 L1224.9688,342 L1226,343.25 L1226,344 L1226,344.75 L1224.9688,346 L1223.8438,346 L1220.0625,346 L1219.0313,346 L1218,344.75 L1218,344 L1218,343.25 L1219.0313,342 L1220.0625,342 L1220.0625,342 L1219.5,340 Z M1218.4063,336 L1216,328.8438 L1213.9375,336 L1218.4063,336 Z "/><ellipse cx="1254" cy="336" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="394" x="1266" y="346.8203">AbstractDefaultSelectionsResponse</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1188" x2="1664" y1="369" y2="369"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1188" x2="1664" y1="385" y2="385"/><!--MD5=[fb0847b56e90874d02378ad5165e20f2]
class CardSelectionsService--><rect fill="#FEFECE" height="372.7188" id="CardSelectionsService" style="stroke: #D4AC0D; stroke-width: 3.0;" width="790" x="1185" y="702"/><ellipse cx="1408.5" cy="734" fill="#ADD1B2" rx="22" ry="22" style="stroke: #ADD1B2; stroke-width: 2.0;"/><path d="M1412.5,727 Q1412.9063,726 1413.375,725.5 Q1413.8438,725 1414.375,725 Q1415.3125,725 1415.9063,725.5625 Q1416.5,726.125 1416.5,727.4375 L1416.5,730.5625 Q1416.5,731.875 1415.9375,732.4375 Q1415.375,733 1414.5,733 Q1413.7188,733 1413.2188,732.6563 Q1412.7188,732.3125 1412.5,731.4063 Q1412.4063,730.7813 1412.0625,730.4375 Q1411.4375,729.7813 1410.3125,729.4063 Q1409.1875,729 1408.0625,729 Q1406.6563,729 1405.4688,729.5625 Q1404.3125,730.125 1403.4063,731.375 Q1402.5,732.625 1402.5,734.3438 L1402.5,736.1875 Q1402.5,738.25 1404.1875,739.625 Q1405.875,741 1408.875,741 Q1410.6563,741 1411.9063,740.5938 Q1412.625,740.375 1413.4375,739.6563 Q1413.9688,739.25 1414.25,739.125 Q1414.5313,739 1414.875,739 Q1415.5313,739 1416,739.5313 Q1416.5,740.0313 1416.5,740.75 Q1416.5,741.4375 1415.8125,742.25 Q1414.8125,743.4375 1413.2188,744.0938 Q1411.125,745 1408.5625,745 Q1405.5625,745 1403.1563,743.8125 Q1401.2188,742.875 1399.8438,740.8438 Q1398.5,738.8125 1398.5,736.4063 L1398.5,734.2188 Q1398.5,731.7188 1399.6875,729.5313 Q1400.9063,727.3438 1403,726.1875 Q1405.125,725 1407.5,725 Q1408.9375,725 1410.1875,725.5 Q1411.4375,726 1412.5,727 Z "/><ellipse cx="1459.5" cy="733" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="1471.5" y="743.8203">final</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="250" x="1525.5" y="743.8203">CardSelectionsService</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1187" x2="1973" y1="766" y2="766"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1187" x2="1973" y1="782" y2="782"/><ellipse cx="1207" cy="804" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="738" x="1225" y="812.8379">CardSelectionsService(MultiSelectionProcessing multiMode = FIRST_MATCH)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="1231" y="840.5098"/><ellipse cx="1207" cy="859.3438" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="564" x="1225" y="868.1816">int prepareSelection(AbstractCardSelection cardSelection)</text><ellipse cx="1207" cy="887.0156" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1225" y="895.8535">final</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="1277" y="895.8535">prepareReleaseCardChannel()</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="1231" y="923.5254"/><ellipse cx="1207" cy="942.3594" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="614" x="1225" y="951.1973">CardSelectionsResult processExplicitSelections(Reader reader)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="1231" y="978.8691"/><ellipse cx="1207" cy="997.7031" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="632" x="1225" y="1006.541">AbstractDefaultSelectionsRequest getDefaultSelectionsRequest()</text><ellipse cx="1207" cy="1025.375" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="566" x="1225" y="1034.2129">CardSelectionsResult processDefaultSelectionsResponse(</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="548" x="1225" y="1061.8848">AbstractDefaultSelectionsResponse selectionResponse)</text><!--MD5=[96703f6554e1741f1cdd647299667117]
class MultiSelectionProcessing--><rect fill="#FEFECE" height="151.3438" id="MultiSelectionProcessing" style="stroke: #D4AC0D; stroke-width: 3.0;" width="364" x="2110" y="812"/><ellipse cx="2140" cy="844" fill="#EB937F" rx="22" ry="22" style="stroke: #EB93DF; stroke-width: 2.0;"/><path d="M2137,846 L2137,850 L2145,850 L2145,848 L2145,847.0313 L2146.25,846 L2147,846 L2147.75,846 L2149,847.0313 L2149,848 L2149,854 L2133,854 L2132.0313,854 L2131,852.75 L2131,852 L2131,851.25 L2132.0313,850 L2133,850 L2133,850 L2133,838 L2133,838 L2132.0313,838 L2131,836.75 L2131,836 L2131,835.25 L2132.0313,834 L2133,834 L2149,834 L2149,840 L2149,840.9688 L2147.75,842 L2147,842 L2146.25,842 L2145,840.9688 L2145,840 L2145,838 L2137,838 L2137,842 L2139,842 L2139,841.0313 L2139,841.0313 L2140.25,840 L2141,840 L2141.75,840 L2143,841.0313 L2143,842 L2143,846 L2143,846.9688 L2141.75,848 L2141.75,848 L2141,848 L2140.25,848 L2139,846.9688 L2139,846.9688 L2139,846 L2137,846 Z "/><ellipse cx="2178" cy="843" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="278" x="2190" y="853.8203">MultiSelectionProcessing</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="2112" x2="2472" y1="876" y2="876"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="140" x="2122" y="906.8379">FIRST_MATCH</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="148" x="2122" y="934.5098">PROCESS_ALL</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="2112" x2="2472" y1="947.3438" y2="947.3438"/><!--MD5=[22cdb46c7fe3b6ab653a691199cf9051]
class AbstractCardSelection--><rect fill="#FEFECE" height="289.7031" id="AbstractCardSelection" style="stroke: #D4AC0D; stroke-width: 3.0;" width="664" x="1810" y="1196"/><ellipse cx="1999.5" cy="1228" fill="#A9DCDF" rx="22" ry="22" style="stroke: #A9DCDF; stroke-width: 2.0;"/><path d="M2003,1231 L1996.4063,1231 L1995.5313,1233 L1995.5313,1233 L1996.4688,1233 L1997.5,1234.25 L1997.5,1235 L1997.5,1235.75 L1996.4688,1237 L1995.5313,1237 L1991.75,1237 L1990.5313,1237 L1989.5,1235.75 L1989.5,1235 L1989.5,1234.25 L1990.5313,1233 L1991.75,1233 L1996.375,1221 L1994.625,1221 L1992.5313,1221 L1991.5,1219.75 L1991.5,1219 L1991.5,1218.25 L1992.5313,1217 L1994.625,1217 L2001.9688,1217 L2007.3438,1233 L2008.4688,1233 L2008.4688,1233 L2009.5,1234.25 L2009.5,1235 L2009.5,1235.75 L2008.4688,1237 L2007.3438,1237 L2003.5625,1237 L2002.5313,1237 L2001.5,1235.75 L2001.5,1235 L2001.5,1234.25 L2002.5313,1233 L2003.5625,1233 L2003.5625,1233 L2003,1231 Z M2001.9063,1227 L1999.5,1219.8438 L1997.4375,1227 L2001.9063,1227 Z "/><ellipse cx="2050.5" cy="1227" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="246" x="2062.5" y="1237.8203">AbstractCardSelection</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1812" x2="2472" y1="1260" y2="1260"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1812" x2="2472" y1="1276" y2="1276"/><ellipse cx="1832" cy="1298" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="444" x="1850" y="1306.8379">AbstractCardSelection(CardSelector selector)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="1856" y="1334.5098"/><polygon fill="#FFFF44" points="1832,1343.3438,1840,1351.3438,1832,1359.3438,1824,1351.3438" style="stroke: #B38D22; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1850" y="1362.1816">final</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="450" x="1902" y="1362.1816">addApduRequest(ApduRequest apduRequest)</text><polygon fill="#4177AF" points="1832,1373.0156,1824,1385.0156,1840,1385.0156" style="stroke: #1963A0; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1850" y="1389.8535">final</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="480" x="1902" y="1389.8535">CardSelectionRequest getCardSelectionRequest()</text><polygon fill="#FFFF44" points="1832,1398.6875,1840,1406.6875,1832,1414.6875,1824,1406.6875" style="stroke: #B38D22; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="612" x="1850" y="1417.5254">AbstractSmartCard parse(CardResponse selectionResponse)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="1856" y="1445.1973"/><ellipse cx="1832" cy="1464.0313" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="304" x="1850" y="1472.8691">CardSelector getCardSelector()</text><!--MD5=[76ebe7b74ec75e348fd93ad9fc9a7513]
class AbstractSmartCard--><rect fill="#FEFECE" height="262.0313" id="AbstractSmartCard" style="stroke: #D4AC0D; stroke-width: 3.0;" width="676" x="950" y="1210"/><ellipse cx="1163.5" cy="1242" fill="#A9DCDF" rx="22" ry="22" style="stroke: #A9DCDF; stroke-width: 2.0;"/><path d="M1167,1245 L1160.4063,1245 L1159.5313,1247 L1159.5313,1247 L1160.4688,1247 L1161.5,1248.25 L1161.5,1249 L1161.5,1249.75 L1160.4688,1251 L1159.5313,1251 L1155.75,1251 L1154.5313,1251 L1153.5,1249.75 L1153.5,1249 L1153.5,1248.25 L1154.5313,1247 L1155.75,1247 L1160.375,1235 L1158.625,1235 L1156.5313,1235 L1155.5,1233.75 L1155.5,1233 L1155.5,1232.25 L1156.5313,1231 L1158.625,1231 L1165.9688,1231 L1171.3438,1247 L1172.4688,1247 L1172.4688,1247 L1173.5,1248.25 L1173.5,1249 L1173.5,1249.75 L1172.4688,1251 L1171.3438,1251 L1167.5625,1251 L1166.5313,1251 L1165.5,1249.75 L1165.5,1249 L1165.5,1248.25 L1166.5313,1247 L1167.5625,1247 L1167.5625,1247 L1167,1245 Z M1165.9063,1241 L1163.5,1233.8438 L1161.4375,1241 L1165.9063,1241 Z "/><ellipse cx="1214.5" cy="1241" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="210" x="1226.5" y="1251.8203">AbstractSmartCard</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="952" x2="1624" y1="1274" y2="1274"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="952" x2="1624" y1="1290" y2="1290"/><polygon fill="#FFFF44" points="972,1302,980,1310,972,1318,964,1310" style="stroke: #B38D22; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="624" x="990" y="1320.8379">AbstractSmartCard(CardSelectionResponse selectionResponse)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="996" y="1348.5098"/><ellipse cx="972" cy="1367.3438" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="164" x="990" y="1376.1816">boolean hasAtr()</text><ellipse cx="972" cy="1395.0156" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="192" x="990" y="1403.8535">byte[] getAtrBytes()</text><ellipse cx="972" cy="1422.6875" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="162" x="990" y="1431.5254">boolean hasFci()</text><ellipse cx="972" cy="1450.3594" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="190" x="990" y="1459.1973">byte[] getFciBytes()</text><!--MD5=[429236f5a1d05c7a5d443f29aac38d35]
class CardSelectionsResult--><rect fill="#FEFECE" height="372.7188" id="CardSelectionsResult" style="stroke: #D4AC0D; stroke-width: 3.0;" width="718" x="397" y="702"/><ellipse cx="588.5" cy="734" fill="#ADD1B2" rx="22" ry="22" style="stroke: #ADD1B2; stroke-width: 2.0;"/><path d="M592.5,727 Q592.9063,726 593.375,725.5 Q593.8438,725 594.375,725 Q595.3125,725 595.9063,725.5625 Q596.5,726.125 596.5,727.4375 L596.5,730.5625 Q596.5,731.875 595.9375,732.4375 Q595.375,733 594.5,733 Q593.7188,733 593.2188,732.6563 Q592.7188,732.3125 592.5,731.4063 Q592.4063,730.7813 592.0625,730.4375 Q591.4375,729.7813 590.3125,729.4063 Q589.1875,729 588.0625,729 Q586.6563,729 585.4688,729.5625 Q584.3125,730.125 583.4063,731.375 Q582.5,732.625 582.5,734.3438 L582.5,736.1875 Q582.5,738.25 584.1875,739.625 Q585.875,741 588.875,741 Q590.6563,741 591.9063,740.5938 Q592.625,740.375 593.4375,739.6563 Q593.9688,739.25 594.25,739.125 Q594.5313,739 594.875,739 Q595.5313,739 596,739.5313 Q596.5,740.0313 596.5,740.75 Q596.5,741.4375 595.8125,742.25 Q594.8125,743.4375 593.2188,744.0938 Q591.125,745 588.5625,745 Q585.5625,745 583.1563,743.8125 Q581.2188,742.875 579.8438,740.8438 Q578.5,738.8125 578.5,736.4063 L578.5,734.2188 Q578.5,731.7188 579.6875,729.5313 Q580.9063,727.3438 583,726.1875 Q585.125,725 587.5,725 Q588.9375,725 590.1875,725.5 Q591.4375,726 592.5,727 Z "/><ellipse cx="639.5" cy="733" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="651.5" y="743.8203">final</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="242" x="705.5" y="743.8203">CardSelectionsResult</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="399" x2="1113" y1="766" y2="766"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="399" x2="1113" y1="782" y2="782"/><polygon fill="#4177AF" points="419,796,411,808,427,808" style="stroke: #1963A0; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="222" x="437" y="812.8379">CardSelectionsResult()</text><polygon fill="#4177AF" points="419,823.6719,411,835.6719,427,835.6719" style="stroke: #1963A0; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="666" x="437" y="840.5098">addMatchingCard(int selectionIndex, AbstractSmartCard matchingSe)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="443" y="868.1816"/><ellipse cx="419" cy="887.0156" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="284" x="437" y="895.8535">boolean hasActiveSelection()</text><ellipse cx="419" cy="914.6875" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="402" x="437" y="923.5254">AbstractSmartCard getActiveSmartCard()</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="443" y="951.1973"/><ellipse cx="419" cy="970.0313" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="276" x="437" y="978.8691">int getActiveSelectionIndex()</text><ellipse cx="419" cy="997.7031" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="470" x="437" y="1006.541">boolean hasSelectionMatched(int selectionIndex)</text><ellipse cx="419" cy="1025.375" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="536" x="437" y="1034.2129">AbstractSmartCard getMatchingCard(int selectionIndex)</text><ellipse cx="419" cy="1053.0469" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="566" x="437" y="1061.8848">Map&lt;Integer, AbstractSmartCard&gt; getMatchingSelections()</text><!--MD5=[68d93de5d5ca3fa8853616903ee370e6]
class CardResource_T--><rect fill="#FEFECE" height="179.0156" id="CardResource_T" style="stroke: #D4AC0D; stroke-width: 3.0;" width="632" x="248" y="1251"/><ellipse cx="278" cy="1283" fill="#ADD1B2" rx="22" ry="22" style="stroke: #ADD1B2; stroke-width: 2.0;"/><path d="M282,1276 Q282.4063,1275 282.875,1274.5 Q283.3438,1274 283.875,1274 Q284.8125,1274 285.4063,1274.5625 Q286,1275.125 286,1276.4375 L286,1279.5625 Q286,1280.875 285.4375,1281.4375 Q284.875,1282 284,1282 Q283.2188,1282 282.7188,1281.6563 Q282.2188,1281.3125 282,1280.4063 Q281.9063,1279.7813 281.5625,1279.4375 Q280.9375,1278.7813 279.8125,1278.4063 Q278.6875,1278 277.5625,1278 Q276.1563,1278 274.9688,1278.5625 Q273.8125,1279.125 272.9063,1280.375 Q272,1281.625 272,1283.3438 L272,1285.1875 Q272,1287.25 273.6875,1288.625 Q275.375,1290 278.375,1290 Q280.1563,1290 281.4063,1289.5938 Q282.125,1289.375 282.9375,1288.6563 Q283.4688,1288.25 283.75,1288.125 Q284.0313,1288 284.375,1288 Q285.0313,1288 285.5,1288.5313 Q286,1289.0313 286,1289.75 Q286,1290.4375 285.3125,1291.25 Q284.3125,1292.4375 282.7188,1293.0938 Q280.625,1294 278.0625,1294 Q275.0625,1294 272.6563,1292.8125 Q270.7188,1291.875 269.3438,1289.8438 Q268,1287.8125 268,1285.4063 L268,1283.2188 Q268,1280.7188 269.1875,1278.5313 Q270.4063,1276.3438 272.5,1275.1875 Q274.625,1274 277,1274 Q278.4375,1274 279.6875,1274.5 Q280.9375,1275 282,1276 Z "/><ellipse cx="316" cy="1282" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="328" y="1292.8203">final</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="162" x="382" y="1292.8203">CardResource</text><rect fill="#FFFFFF" height="34.1875" style="stroke: #000000; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" width="326" x="560" y="1245"/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="322" x="562" y="1271.9141">T extends AbstractSmartCard</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="250" x2="878" y1="1315" y2="1315"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="250" x2="878" y1="1331" y2="1331"/><polygon fill="#FFFF44" points="270,1343,278,1351,270,1359,262,1351" style="stroke: #B38D22; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="370" x="288" y="1361.8379">CardResource(Reader reader, T card)</text><ellipse cx="270" cy="1380.6719" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="192" x="288" y="1389.5098">Reader getReader()</text><ellipse cx="270" cy="1408.3438" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="166" x="288" y="1417.1816">T getSmartCard()</text><!--MD5=[d172dfe3fef1c01713438c88abcc6a2c]
class CardSelector--><rect fill="#FEFECE" height="345.0469" id="CardSelector" style="stroke: #D4AC0D; stroke-width: 3.0;" width="456" x="1872" y="1608"/><ellipse cx="2008.5" cy="1640" fill="#ADD1B2" rx="22" ry="22" style="stroke: #ADD1B2; stroke-width: 2.0;"/><path d="M2012.5,1633 Q2012.9063,1632 2013.375,1631.5 Q2013.8438,1631 2014.375,1631 Q2015.3125,1631 2015.9063,1631.5625 Q2016.5,1632.125 2016.5,1633.4375 L2016.5,1636.5625 Q2016.5,1637.875 2015.9375,1638.4375 Q2015.375,1639 2014.5,1639 Q2013.7188,1639 2013.2188,1638.6563 Q2012.7188,1638.3125 2012.5,1637.4063 Q2012.4063,1636.7813 2012.0625,1636.4375 Q2011.4375,1635.7813 2010.3125,1635.4063 Q2009.1875,1635 2008.0625,1635 Q2006.6563,1635 2005.4688,1635.5625 Q2004.3125,1636.125 2003.4063,1637.375 Q2002.5,1638.625 2002.5,1640.3438 L2002.5,1642.1875 Q2002.5,1644.25 2004.1875,1645.625 Q2005.875,1647 2008.875,1647 Q2010.6563,1647 2011.9063,1646.5938 Q2012.625,1646.375 2013.4375,1645.6563 Q2013.9688,1645.25 2014.25,1645.125 Q2014.5313,1645 2014.875,1645 Q2015.5313,1645 2016,1645.5313 Q2016.5,1646.0313 2016.5,1646.75 Q2016.5,1647.4375 2015.8125,1648.25 Q2014.8125,1649.4375 2013.2188,1650.0938 Q2011.125,1651 2008.5625,1651 Q2005.5625,1651 2003.1563,1649.8125 Q2001.2188,1648.875 1999.8438,1646.8438 Q1998.5,1644.8125 1998.5,1642.4063 L1998.5,1640.2188 Q1998.5,1637.7188 1999.6875,1635.5313 Q2000.9063,1633.3438 2003,1632.1875 Q2005.125,1631 2007.5,1631 Q2008.9375,1631 2010.1875,1631.5 Q2011.4375,1632 2012.5,1633 Z "/><ellipse cx="2059.5" cy="1639" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="144" x="2071.5" y="1649.8203">CardSelector</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1874" x2="2326" y1="1672" y2="1672"/><rect fill="none" height="12" style="stroke: #C82930; stroke-width: 2.0;" width="12" x="1888" y="1688"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="232" x="1912" y="1702.8379">String[0..1] cardProtocol</text><rect fill="none" height="12" style="stroke: #C82930; stroke-width: 2.0;" width="12" x="1888" y="1715.6719"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="202" x="1912" y="1730.5098">AtrFilter[0..1] atrFilter</text><rect fill="none" height="12" style="stroke: #C82930; stroke-width: 2.0;" width="12" x="1888" y="1743.3438"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="274" x="1912" y="1758.1816">AidSelector[0..1] aidSelector</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1874" x2="2326" y1="1771.0156" y2="1771.0156"/><polygon fill="#FFFF44" points="1894,1783.0156,1902,1791.0156,1894,1799.0156,1886,1791.0156" style="stroke: #B38D22; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="404" x="1912" y="1801.8535">CardSelector(CardSelectorBuilder builder)</text><ellipse cx="1894" cy="1820.6875" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="278" x="1912" y="1829.5254">CardSelectorBuilder builder()</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="1918" y="1857.1973"/><ellipse cx="1894" cy="1876.0313" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="232" x="1912" y="1884.8691">String getCardProtocol()</text><ellipse cx="1894" cy="1903.7031" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="204" x="1912" y="1912.541">AtrFilter getAtrFilter()</text><ellipse cx="1894" cy="1931.375" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="276" x="1912" y="1940.2129">AidSelector getAidSelector()</text><!--MD5=[9bb74c6f90a85a40b37333ced13e2f4b]
class CardSelectorBuilder--><rect fill="#FEFECE" height="262.0313" id="CardSelectorBuilder" style="stroke: #D4AC0D; stroke-width: 3.0;" width="732" x="1284" y="2110"/><ellipse cx="1519.5" cy="2142" fill="#ADD1B2" rx="22" ry="22" style="stroke: #ADD1B2; stroke-width: 2.0;"/><path d="M1523.5,2135 Q1523.9063,2134 1524.375,2133.5 Q1524.8438,2133 1525.375,2133 Q1526.3125,2133 1526.9063,2133.5625 Q1527.5,2134.125 1527.5,2135.4375 L1527.5,2138.5625 Q1527.5,2139.875 1526.9375,2140.4375 Q1526.375,2141 1525.5,2141 Q1524.7188,2141 1524.2188,2140.6563 Q1523.7188,2140.3125 1523.5,2139.4063 Q1523.4063,2138.7813 1523.0625,2138.4375 Q1522.4375,2137.7813 1521.3125,2137.4063 Q1520.1875,2137 1519.0625,2137 Q1517.6563,2137 1516.4688,2137.5625 Q1515.3125,2138.125 1514.4063,2139.375 Q1513.5,2140.625 1513.5,2142.3438 L1513.5,2144.1875 Q1513.5,2146.25 1515.1875,2147.625 Q1516.875,2149 1519.875,2149 Q1521.6563,2149 1522.9063,2148.5938 Q1523.625,2148.375 1524.4375,2147.6563 Q1524.9688,2147.25 1525.25,2147.125 Q1525.5313,2147 1525.875,2147 Q1526.5313,2147 1527,2147.5313 Q1527.5,2148.0313 1527.5,2148.75 Q1527.5,2149.4375 1526.8125,2150.25 Q1525.8125,2151.4375 1524.2188,2152.0938 Q1522.125,2153 1519.5625,2153 Q1516.5625,2153 1514.1563,2151.8125 Q1512.2188,2150.875 1510.8438,2148.8438 Q1509.5,2146.8125 1509.5,2144.4063 L1509.5,2142.2188 Q1509.5,2139.7188 1510.6875,2137.5313 Q1511.9063,2135.3438 1514,2134.1875 Q1516.125,2133 1518.5,2133 Q1519.9375,2133 1521.1875,2133.5 Q1522.4375,2134 1523.5,2135 Z "/><ellipse cx="1570.5" cy="2141" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="222" x="1582.5" y="2151.8203">CardSelectorBuilder</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1286" x2="2014" y1="2174" y2="2174"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1286" x2="2014" y1="2190" y2="2190"/><polygon fill="#FFFF44" points="1306,2202,1314,2210,1306,2218,1298,2210" style="stroke: #B38D22; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="208" x="1324" y="2220.8379">CardSelectorBuilder()</text><ellipse cx="1306" cy="2239.6719" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="192" x="1324" y="2248.5098">CardSelector build()</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="1330" y="2276.1816"/><ellipse cx="1306" cy="2295.0156" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="500" x="1324" y="2303.8535">CardSelectorBuilder cardProtocol(String seProtocol)</text><ellipse cx="1306" cy="2322.6875" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="572" x="1324" y="2331.5254">CardSelectorBuilder atrFilter(CardSelector.AtrFilter atrFilter)</text><ellipse cx="1306" cy="2350.3594" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="680" x="1324" y="2359.1973">CardSelectorBuilder aidSelector(CardSelector.AidSelector aidSelector)</text><!--MD5=[986279e3cfc2043660398b1cf71c65a2]
class FileOccurrence--><rect fill="#FEFECE" height="206.6875" id="FileOccurrence" style="stroke: #D4AC0D; stroke-width: 3.0;" width="252" x="752" y="3101"/><ellipse cx="782" cy="3133" fill="#EB937F" rx="22" ry="22" style="stroke: #EB93DF; stroke-width: 2.0;"/><path d="M779,3135 L779,3139 L787,3139 L787,3137 L787,3136.0313 L788.25,3135 L789,3135 L789.75,3135 L791,3136.0313 L791,3137 L791,3143 L775,3143 L774.0313,3143 L773,3141.75 L773,3141 L773,3140.25 L774.0313,3139 L775,3139 L775,3139 L775,3127 L775,3127 L774.0313,3127 L773,3125.75 L773,3125 L773,3124.25 L774.0313,3123 L775,3123 L791,3123 L791,3129 L791,3129.9688 L789.75,3131 L789,3131 L788.25,3131 L787,3129.9688 L787,3129 L787,3127 L779,3127 L779,3131 L781,3131 L781,3130.0313 L781,3130.0313 L782.25,3129 L783,3129 L783.75,3129 L785,3130.0313 L785,3131 L785,3135 L785,3135.9688 L783.75,3137 L783.75,3137 L783,3137 L782.25,3137 L781,3135.9688 L781,3135.9688 L781,3135 L779,3135 Z "/><ellipse cx="820" cy="3132" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="166" x="832" y="3142.8203">FileOccurrence</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="754" x2="1002" y1="3165" y2="3165"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="56" x="764" y="3195.8379">FIRST</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="54" x="764" y="3223.5098">LAST</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="52" x="764" y="3251.1816">NEXT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="102" x="764" y="3278.8535">PREVIOUS</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="754" x2="1002" y1="3291.6875" y2="3291.6875"/><!--MD5=[7db03ef0d09735de9c956eac87f10fc3]
class FileControlInformation--><rect fill="#FEFECE" height="206.6875" id="FileControlInformation" style="stroke: #D4AC0D; stroke-width: 3.0;" width="330" x="2143" y="3101"/><ellipse cx="2173" cy="3133" fill="#EB937F" rx="22" ry="22" style="stroke: #EB93DF; stroke-width: 2.0;"/><path d="M2170,3135 L2170,3139 L2178,3139 L2178,3137 L2178,3136.0313 L2179.25,3135 L2180,3135 L2180.75,3135 L2182,3136.0313 L2182,3137 L2182,3143 L2166,3143 L2165.0313,3143 L2164,3141.75 L2164,3141 L2164,3140.25 L2165.0313,3139 L2166,3139 L2166,3139 L2166,3127 L2166,3127 L2165.0313,3127 L2164,3125.75 L2164,3125 L2164,3124.25 L2165.0313,3123 L2166,3123 L2182,3123 L2182,3129 L2182,3129.9688 L2180.75,3131 L2180,3131 L2179.25,3131 L2178,3129.9688 L2178,3129 L2178,3127 L2170,3127 L2170,3131 L2172,3131 L2172,3130.0313 L2172,3130.0313 L2173.25,3129 L2174,3129 L2174.75,3129 L2176,3130.0313 L2176,3131 L2176,3135 L2176,3135.9688 L2174.75,3137 L2174.75,3137 L2174,3137 L2173.25,3137 L2172,3135.9688 L2172,3135.9688 L2172,3135 L2170,3135 Z "/><ellipse cx="2211" cy="3132" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="244" x="2223" y="3142.8203">FileControlInformation</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="2145" x2="2471" y1="3165" y2="3165"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="30" x="2155" y="3195.8379">FCI</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="38" x="2155" y="3223.5098">FCP</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="42" x="2155" y="3251.1816">FMD</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="150" x="2155" y="3278.8535">NO_RESPONSE</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="2145" x2="2471" y1="3291.6875" y2="3291.6875"/><!--MD5=[32bde9a16d1fd80730cde0df05390289]
class AtrFilter--><rect fill="#FEFECE" height="223.0625" id="AtrFilter" style="stroke: #D4AC0D; stroke-width: 3.0;" width="344" x="1458" y="1669"/><ellipse cx="1542.9" cy="1709.1875" fill="#ADD1B2" rx="22" ry="22" style="stroke: #ADD1B2; stroke-width: 2.0;"/><path d="M1546.9,1702.1875 Q1547.3063,1701.1875 1547.775,1700.6875 Q1548.2438,1700.1875 1548.775,1700.1875 Q1549.7125,1700.1875 1550.3063,1700.75 Q1550.9,1701.3125 1550.9,1702.625 L1550.9,1705.75 Q1550.9,1707.0625 1550.3375,1707.625 Q1549.775,1708.1875 1548.9,1708.1875 Q1548.1188,1708.1875 1547.6188,1707.8438 Q1547.1188,1707.5 1546.9,1706.5938 Q1546.8063,1705.9688 1546.4625,1705.625 Q1545.8375,1704.9688 1544.7125,1704.5938 Q1543.5875,1704.1875 1542.4625,1704.1875 Q1541.0563,1704.1875 1539.8688,1704.75 Q1538.7125,1705.3125 1537.8063,1706.5625 Q1536.9,1707.8125 1536.9,1709.5313 L1536.9,1711.375 Q1536.9,1713.4375 1538.5875,1714.8125 Q1540.275,1716.1875 1543.275,1716.1875 Q1545.0563,1716.1875 1546.3063,1715.7813 Q1547.025,1715.5625 1547.8375,1714.8438 Q1548.3688,1714.4375 1548.65,1714.3125 Q1548.9313,1714.1875 1549.275,1714.1875 Q1549.9313,1714.1875 1550.4,1714.7188 Q1550.9,1715.2188 1550.9,1715.9375 Q1550.9,1716.625 1550.2125,1717.4375 Q1549.2125,1718.625 1547.6188,1719.2813 Q1545.525,1720.1875 1542.9625,1720.1875 Q1539.9625,1720.1875 1537.5563,1719 Q1535.6188,1718.0625 1534.2438,1716.0313 Q1532.9,1714 1532.9,1711.5938 L1532.9,1709.4063 Q1532.9,1706.9063 1534.0875,1704.7188 Q1535.3063,1702.5313 1537.4,1701.375 Q1539.525,1700.1875 1541.9,1700.1875 Q1543.3375,1700.1875 1544.5875,1700.6875 Q1545.8375,1701.1875 1546.9,1702.1875 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84" x="1620.1" y="1703.9141">«static»</text><ellipse cx="1593.1" cy="1723.2813" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="1605.1" y="1734.1016">final</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="82" x="1659.1" y="1734.1016">AtrFilter</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1460" x2="1800" y1="1749.375" y2="1749.375"/><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1460" x2="1800" y1="1765.375" y2="1765.375"/><ellipse cx="1480" cy="1787.375" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="242" x="1498" y="1796.2129">AtrFilter(String atrRegex)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="1504" y="1823.8848"/><ellipse cx="1480" cy="1842.7188" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="200" x="1498" y="1851.5566">String getAtrRegex()</text><ellipse cx="1480" cy="1870.3906" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="292" x="1498" y="1879.2285">boolean atrMatches(byte[] atr)</text><!--MD5=[0c38ce21b8fe3613f2a22c03c2bb1923]
class AidSelector--><rect fill="#FEFECE" height="333.75" id="AidSelector" style="stroke: #D4AC0D; stroke-width: 3.0;" width="548" x="1376" y="2528"/><ellipse cx="1541.5" cy="2568.1875" fill="#ADD1B2" rx="22" ry="22" style="stroke: #ADD1B2; stroke-width: 2.0;"/><path d="M1545.5,2561.1875 Q1545.9063,2560.1875 1546.375,2559.6875 Q1546.8438,2559.1875 1547.375,2559.1875 Q1548.3125,2559.1875 1548.9063,2559.75 Q1549.5,2560.3125 1549.5,2561.625 L1549.5,2564.75 Q1549.5,2566.0625 1548.9375,2566.625 Q1548.375,2567.1875 1547.5,2567.1875 Q1546.7188,2567.1875 1546.2188,2566.8438 Q1545.7188,2566.5 1545.5,2565.5938 Q1545.4063,2564.9688 1545.0625,2564.625 Q1544.4375,2563.9688 1543.3125,2563.5938 Q1542.1875,2563.1875 1541.0625,2563.1875 Q1539.6563,2563.1875 1538.4688,2563.75 Q1537.3125,2564.3125 1536.4063,2565.5625 Q1535.5,2566.8125 1535.5,2568.5313 L1535.5,2570.375 Q1535.5,2572.4375 1537.1875,2573.8125 Q1538.875,2575.1875 1541.875,2575.1875 Q1543.6563,2575.1875 1544.9063,2574.7813 Q1545.625,2574.5625 1546.4375,2573.8438 Q1546.9688,2573.4375 1547.25,2573.3125 Q1547.5313,2573.1875 1547.875,2573.1875 Q1548.5313,2573.1875 1549,2573.7188 Q1549.5,2574.2188 1549.5,2574.9375 Q1549.5,2575.625 1548.8125,2576.4375 Q1547.8125,2577.625 1546.2188,2578.2813 Q1544.125,2579.1875 1541.5625,2579.1875 Q1538.5625,2579.1875 1536.1563,2578 Q1534.2188,2577.0625 1532.8438,2575.0313 Q1531.5,2573 1531.5,2570.5938 L1531.5,2568.4063 Q1531.5,2565.9063 1532.6875,2563.7188 Q1533.9063,2561.5313 1536,2560.375 Q1538.125,2559.1875 1540.5,2559.1875 Q1541.9375,2559.1875 1543.1875,2559.6875 Q1544.4375,2560.1875 1545.5,2561.1875 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84" x="1640.5" y="2562.9141">«static»</text><ellipse cx="1592.5" cy="2582.2813" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="1604.5" y="2593.1016">final</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="124" x="1658.5" y="2593.1016">AidSelector</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1378" x2="1922" y1="2608.375" y2="2608.375"/><ellipse cx="1398" cy="2630.375" fill="none" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="282" x="1416" y="2639.2129">final int AID_MIN_LENGTH = 5</text><ellipse cx="1398" cy="2658.0469" fill="none" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="306" x="1416" y="2666.8848">final int AID_MAX_LENGTH = 16</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1378" x2="1922" y1="2679.7188" y2="2679.7188"/><rect fill="#F24D5C" height="12" style="stroke: #C82930; stroke-width: 2.0;" width="12" x="1392" y="2695.7188"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="376" x="1416" y="2710.5566">AidSelector(AidSelectorBuilder builder)</text><ellipse cx="1398" cy="2729.3906" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="264" x="1416" y="2738.2285">AidSelectorBuilder builder()</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="1422" y="2765.9004"/><ellipse cx="1398" cy="2784.7344" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="222" x="1416" y="2793.5723">byte[] getAidToSelect()</text><ellipse cx="1398" cy="2812.4063" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="218" x="1416" y="2821.2441">boolean isSelectNext()</text><ellipse cx="1398" cy="2840.0781" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="496" x="1416" y="2848.916">Set&lt;Integer&gt; getSuccessfulSelectionStatusCodes()</text><!--MD5=[fee81bc52a51049c477ecaaae1e1e62b]
class AidSelectorBuilder--><rect fill="#FEFECE" height="372.7188" id="AidSelectorBuilder" style="stroke: #D4AC0D; stroke-width: 3.0;" width="868" x="1140" y="3018"/><ellipse cx="1453.5" cy="3050" fill="#ADD1B2" rx="22" ry="22" style="stroke: #ADD1B2; stroke-width: 2.0;"/><path d="M1457.5,3043 Q1457.9063,3042 1458.375,3041.5 Q1458.8438,3041 1459.375,3041 Q1460.3125,3041 1460.9063,3041.5625 Q1461.5,3042.125 1461.5,3043.4375 L1461.5,3046.5625 Q1461.5,3047.875 1460.9375,3048.4375 Q1460.375,3049 1459.5,3049 Q1458.7188,3049 1458.2188,3048.6563 Q1457.7188,3048.3125 1457.5,3047.4063 Q1457.4063,3046.7813 1457.0625,3046.4375 Q1456.4375,3045.7813 1455.3125,3045.4063 Q1454.1875,3045 1453.0625,3045 Q1451.6563,3045 1450.4688,3045.5625 Q1449.3125,3046.125 1448.4063,3047.375 Q1447.5,3048.625 1447.5,3050.3438 L1447.5,3052.1875 Q1447.5,3054.25 1449.1875,3055.625 Q1450.875,3057 1453.875,3057 Q1455.6563,3057 1456.9063,3056.5938 Q1457.625,3056.375 1458.4375,3055.6563 Q1458.9688,3055.25 1459.25,3055.125 Q1459.5313,3055 1459.875,3055 Q1460.5313,3055 1461,3055.5313 Q1461.5,3056.0313 1461.5,3056.75 Q1461.5,3057.4375 1460.8125,3058.25 Q1459.8125,3059.4375 1458.2188,3060.0938 Q1456.125,3061 1453.5625,3061 Q1450.5625,3061 1448.1563,3059.8125 Q1446.2188,3058.875 1444.8438,3056.8438 Q1443.5,3054.8125 1443.5,3052.4063 L1443.5,3050.2188 Q1443.5,3047.7188 1444.6875,3045.5313 Q1445.9063,3043.3438 1448,3042.1875 Q1450.125,3041 1452.5,3041 Q1453.9375,3041 1455.1875,3041.5 Q1456.4375,3042 1457.5,3043 Z "/><ellipse cx="1504.5" cy="3049" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="202" x="1516.5" y="3059.8203">AidSelectorBuilder</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1142" x2="2006" y1="3082" y2="3082"/><rect fill="none" height="12" style="stroke: #C82930; stroke-width: 2.0;" width="12" x="1156" y="3098"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="226" x="1180" y="3112.8379">byte[5..16] aidToSelect;</text><rect fill="none" height="12" style="stroke: #C82930; stroke-width: 2.0;" width="12" x="1156" y="3125.6719"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="426" x="1180" y="3140.5098">FileOccurrence[0..1] fileOccurrence = FIRST</text><rect fill="none" height="12" style="stroke: #C82930; stroke-width: 2.0;" width="12" x="1156" y="3153.3438"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="516" x="1180" y="3168.1816">FileControlInformation[0..1] fileControlInformation = FCI</text><line style="stroke: #D4AC0D; stroke-width: 3.0;" x1="1142" x2="2006" y1="3181.0156" y2="3181.0156"/><rect fill="#F24D5C" height="12" style="stroke: #C82930; stroke-width: 2.0;" width="12" x="1156" y="3197.0156"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="194" x="1180" y="3211.8535">AidSelectorBuilder()</text><ellipse cx="1162" cy="3230.6875" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="290" x="1180" y="3239.5254">SeSelector.AidSelector build()</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="1186" y="3267.1973"/><ellipse cx="1162" cy="3286.0313" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="400" x="1180" y="3294.8691">AidSelectorBuilder aidToSelect(byte[] aid)</text><ellipse cx="1162" cy="3313.7031" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="402" x="1180" y="3322.541">AidSelectorBuilder aidToSelect(String aid)</text><ellipse cx="1162" cy="3341.375" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="642" x="1180" y="3350.2129">AidSelectorBuilder fileOccurrence(FileOccurrence fileOccurrence)</text><ellipse cx="1162" cy="3369.0469" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="816" x="1180" y="3377.8848">AidSelectorBuilder fileControlInformation(FileControlInformation fileControlInformation)</text><!--MD5=[4e644cdced7f48592705e83a6b5d3ae8]
reverse link CardResource_T to AbstractSmartCard--><path d="M906.58,1341 C920.842,1341 935.102,1341 949.364,1341 " fill="none" id="CardResource_T&lt;-AbstractSmartCard" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="880.042,1341,892.042,1349,904.042,1341,892.042,1333,880.042,1341" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="895.6893" y="1335.2561">1</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="919.7024" y="1335.2805">1</text><!--MD5=[e0914ec2134167efe2257cbfbee2189b]
reverse link CardSelectionsService to AbstractCardSelection--><path d="M1831.864,1091.22 C1875.928,1126.42 1920.956,1162.4 1962.554,1195.64 " fill="none" id="CardSelectionsService&lt;-AbstractCardSelection" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#FFFFFF" points="1811.02,1074.56,1815.4011,1088.3007,1829.7699,1089.5414,1825.3887,1075.8008,1811.02,1074.56" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="1814.8716" y="1117.6911">1</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="10" x="1933.533" y="1174.0415">*</text><!--MD5=[62b5f1410d68bd0bcb4e06c0376fd479]
link CardSelectionsResult to CardSelectionsService--><path d="M1115.696,888 C1129.874,888 1144.054,888 1158.232,888 " fill="none" id="CardSelectionsResult-&gt;CardSelectionsService" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#FFFFFF" points="1184.616,888,1172.616,880,1160.616,888,1172.616,896,1184.616,888" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="44" x="1130.606" y="882.3649">0..1</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="1154.8979" y="882.3649">1</text><!--MD5=[c489a3833ac733e1debfe6b5411b34cc]
reverse link CardSelectionsResult to AbstractSmartCard--><path d="M995,1091.72 C1042.602,1131.88 1091.37,1173.04 1135.122,1209.98 " fill="none" id="CardSelectionsResult&lt;-AbstractSmartCard" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#FFFFFF" points="974.688,1074.56,978.7046,1088.4116,993.0355,1090.0315,989.0189,1076.1799,974.688,1074.56" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="977.5569" y="1117.6911">1</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="10" x="1106.8674" y="1188.0099">*</text><!--MD5=[3f4a1b89a3846f1db48c513ca82bd23c]
link AbstractSmartCard to AbstractCardSelection--><path d="M1626.136,1341 C1686.478,1341 1749.296,1341 1809.48,1341 " fill="none" id="AbstractSmartCard-AbstractCardSelection" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#000000" points="1677,1314.3516,1665,1320.3516,1677,1326.3516,1677,1314.3516" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="84" x="1689" y="1327.9902">selects</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="44" x="1642.4547" y="1368.7305">1..0</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="1780.0955" y="1335.2879">1</text><!--MD5=[31b11aed7b6d88b43735b7f54d1facfd]
reverse link AidSelector to FileOccurrence--><path d="M1349.41,2863.81 C1268.868,2911.34 1182.856,2964.734 1106,3018 C1069.42,3043.352 1031.208,3072.87 996.756,3100.744 " fill="none" id="AidSelector&lt;-FileOccurrence" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="1361.5497" cy="2856.6884" fill="#FFFFFF" rx="16" ry="16" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1347.7494" x2="1375.35" y1="2864.7848" y2="2848.592"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1353.4533" x2="1369.6461" y1="2842.8881" y2="2870.4887"/><!--MD5=[18a6dd80f65088794a6f07d590dbbf0a]
reverse link AidSelector to FileControlInformation--><path d="M1889.718,2880.978 C1986.188,2955.018 2093.74,3037.56 2175.62,3100.404 " fill="none" id="AidSelector&lt;-FileControlInformation" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="1878.1462" cy="2872.098" fill="#FFFFFF" rx="16" ry="16" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1890.8385" x2="1865.454" y1="2881.8401" y2="2862.356"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1868.4042" x2="1887.8883" y1="2884.7903" y2="2859.4058"/><!--MD5=[88e7d67e8d3c9d0745e36b335e282fe1]
reverse link AidSelector to AidSelectorBuilder--><path d="M1601.164,2892.364 C1599.278,2902.358 1597.538,2912.278 1596,2922 C1591.122,2952.824 1587.306,2985.734 1584.33,3017.764 " fill="none" id="AidSelector&lt;-AidSelectorBuilder" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="1604.058" cy="2877.9756" fill="#FFFFFF" rx="16" ry="16" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1600.9019" x2="1607.214" y1="2893.6613" y2="2862.29"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1588.3723" x2="1619.7436" y1="2874.8196" y2="2881.1317"/><polygon fill="#000000" points="1616,2944,1622,2932,1628,2944,1616,2944" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="1598" y="2976.9902">build</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="30" x="1553.9433" y="2996.0059">1+</text><!--MD5=[506435df0aa778cf9ad7bff313caf67d]
link FileOccurrence to AidSelectorBuilder--><path d="M1004.04,3204 C1036.818,3204 1074.104,3204 1113.548,3204 " fill="none" id="FileOccurrence-&gt;AidSelectorBuilder" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1139.756,3204,1127.756,3196,1115.756,3204,1127.756,3212,1139.756,3204" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="36" x="1041" y="3190.9902">set</text><polygon fill="#000000" points="1083,3177.3516,1095,3183.3516,1083,3189.3516,1083,3177.3516" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="44" x="1020.2319" y="3232.7411">0..1</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="1109.8988" y="3198.415">1</text><!--MD5=[a3984c5dd77c295b5e467e0fa36669ee]
reverse link AidSelectorBuilder to FileControlInformation--><path d="M2034.84,3204 C2072.76,3204 2109.24,3204 2142.52,3204 " fill="none" id="AidSelectorBuilder&lt;-FileControlInformation" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="2008.396,3204,2020.396,3212,2032.396,3204,2020.396,3196,2008.396,3204" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#000000" points="2058.5,3177.3516,2046.5,3183.3516,2058.5,3189.3516,2058.5,3177.3516" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="36" x="2070.5" y="3190.9902">set</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="2024.2587" y="3198.415">1</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="44" x="2082.9943" y="3232.3159">0..1</text><!--MD5=[3e847ccac6a9841965f3c48ba05566b5]
reverse link CardSelectorBuilder to AidSelector--><path d="M1650,2398.628 C1650,2440.224 1650,2485.326 1650,2527.436 " fill="none" id="CardSelectorBuilder&lt;-AidSelector" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#FFFFFF" points="1650,2372.554,1642,2384.554,1650,2396.554,1658,2384.554,1650,2372.554" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#000000" points="1661,2454,1667,2442,1673,2454,1661,2454" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="36" x="1652" y="2486.9902">set</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="44" x="1604.0406" y="2506.12">0..1</text><!--MD5=[22e0a1f977e6b14a4318532d22611f8e]
link AtrFilter to CardSelectorBuilder--><path d="M1634.842,1893.384 C1637.34,1950.352 1640.43,2020.808 1643.168,2083.216 " fill="none" id="AtrFilter-&gt;CardSelectorBuilder" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#FFFFFF" points="1644.316,2109.406,1651.7821,2097.0668,1643.2637,2085.4291,1635.7975,2097.7683,1644.316,2109.406" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="36" x="1642" y="2042.9902">set</text><polygon fill="#000000" points="1651,2060.7031,1657,2072.7031,1663,2060.7031,1651,2060.7031" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="44" x="1588.8581" y="1935.3135">0..1</text><!--MD5=[1dfcb89d2c962d176fd99d4de5212cc5]
reverse link CardSelector to AidSelector--><path d="M2122.1,1984.57 C2126.1,2103.828 2114.74,2254.112 2052,2372 C2020.42,2431.326 1972.674,2483.51 1920.99,2527.626 " fill="none" id="CardSelector&lt;-AidSelector" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="2121.4407" cy="1970.1578" fill="#FFFFFF" rx="16" ry="16" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="2122.1614" x2="2120.72" y1="1986.1415" y2="1954.174"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="2105.457" x2="2137.4245" y1="1970.8785" y2="1969.437"/><!--MD5=[38bb0d3cbc0cb1ee2d0afa90d334fcf9]
link AtrFilter to CardSelector--><path d="M1802.578,1781 C1815.54,1781 1828.5,1781 1841.462,1781 " fill="none" id="AtrFilter-&gt;CardSelector" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="1855.706" cy="1781" fill="#FFFFFF" rx="16" ry="16" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1839.706" x2="1871.706" y1="1781" y2="1781"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1855.706" x2="1855.706" y1="1765" y2="1797"/><!--MD5=[58002d5c440144b8906b4e6a92d74e32]
reverse link CardSelector to CardSelectorBuilder--><path d="M1909.482,1976.058 C1864.964,2021.17 1818.6,2068.152 1777.588,2109.71 " fill="none" id="CardSelector&lt;-CardSelectorBuilder" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="1919.9172" cy="1965.4821" fill="#FFFFFF" rx="16" ry="16" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1908.6784" x2="1931.156" y1="1976.8702" y2="1954.094"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1908.5291" x2="1931.3053" y1="1954.2433" y2="1976.7209"/><polygon fill="#000000" points="1880,2036,1886,2024,1892,2036,1880,2036" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="1862" y="2068.9902">build</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="30" x="1759.9023" y="2088.6271">1+</text><!--MD5=[7525e8ff12a619f159e1808b3e336f74]
link CardSelectionsService to MultiSelectionProcessing--><path d="M1975.042,888 C2021.82,888 2067.7,888 2109.38,888 " fill="none" id="CardSelectionsService-MultiSelectionProcessing" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="36" x="2011.5" y="874.9902">set</text><polygon fill="#000000" points="2053.5,861.3516,2065.5,867.3516,2053.5,873.3516,2053.5,861.3516" style="stroke: #000000; stroke-width: 2.0;"/><!--MD5=[28a45d9202a35091f290d28efae9ea51]
reverse link AbstractCardSelection to CardSelector--><path d="M2125.6,1513.166 C2122.62,1544.136 2119.52,1576.46 2116.52,1607.468 " fill="none" id="AbstractCardSelection&lt;-CardSelector" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#FFFFFF" points="2128.18,1486.36,2119.0659,1497.5374,2125.8781,1510.2494,2134.9922,1499.072,2128.18,1486.36" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="2112.1956" y="1528.7775">1</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="2103.3381" y="1586.2415">1</text><!--MD5=[83bf6789ba1bf0b4871292efddb9c20e]
link Reader to CardSelectionsService--><path d="M978.444,498.34 C1075.68,561 1190.93,635.28 1294.402,701.96 " fill="none" id="Reader-CardSelectionsService" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="70" x="1120" y="590.9902">sends</text><polygon fill="#000000" points="1196,577.3516,1208,583.3516,1196,589.3516,1196,577.3516" style="stroke: #000000; stroke-width: 2.0;"/><!--MD5=[91989cfbc668deb4bda649ab71540c7d]
link AbstractDefaultSelectionsRequest to CardSelectionsService--><path d="M1932.42,401.2 C1883.998,467.8 1791.812,594.62 1713.87,701.84 " fill="none" id="AbstractDefaultSelectionsRequest-CardSelectionsService" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#000000" points="1842,584,1848,572,1854,584,1842,584" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="86" x="1808" y="616.9902">exports</text><!--MD5=[321298728cc1691ace71360a9c3b48f4]
link AbstractDefaultSelectionsResponse to CardSelectionsService--><path d="M1439.398,401.2 C1458.716,467.8 1495.494,594.62 1526.59,701.84 " fill="none" id="AbstractDefaultSelectionsResponse-CardSelectionsService" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#000000" points="1528,584,1534,572,1540,584,1528,584" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="86" x="1494" y="616.9902">imports</text><!--MD5=[f26404c08156f89f5d84eeab69222b5b]
link Reader to CardSelectionsResult--><path d="M756,498.7 C756,561.04 756,634.84 756,701.2 " fill="none" id="Reader-CardSelectionsResult" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="94" x="758" y="590.9902">receives</text><polygon fill="#000000" points="796,608.7031,802,620.7031,808,608.7031,796,608.7031" style="stroke: #000000; stroke-width: 2.0;"/><!--MD5=[2bb33b8712676f50273b429e70957076]
link Reader to CardResource_T--><path d="M395.812,443.48 C311.694,481.8 232.122,536.4 182,614 C71.0796,785.74 87.2022,892.86 182,1074 C217.488,1141.8 279.094,1195.74 342.6,1236.78 " fill="none" id="Reader-&gt;CardResource_T" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="365.104,1250.76,359.131,1237.6328,344.7163,1238.0974,350.6893,1251.2246,365.104,1250.76" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#000000" points="250,892,256,880,262,892,250,892" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="150" x="184" y="924.9902">connected to</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="44" x="335.6884" y="441.6335">0..1</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="14" x="319.5762" y="1229.6114">1</text><!--MD5=[dbee5b065c808451c6d95785778d51c8]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package org.eclipse.keyple.core #FFFFFF {
  package "service" as reader_even #FFFFFF {
+interface Reader {
  +String getName()

  +boolean isCardPresent()
  +boolean isContactless()

  +activateProtocol(String applicationReference, String pluginReference)
  +deactivateProtocol(String applicationReference)
}

    package event #FFFFFF {
+abstract AbstractDefaultSelectionsRequest {
}

+abstract AbstractDefaultSelectionsResponse {
}
    }
  }

  package card.selection #FFFFFF {
+class "<b>final</b> CardSelectionsService" as CardSelectionsService {
  +CardSelectionsService(MultiSelectionProcessing multiMode = FIRST_MATCH)

  +int prepareSelection(AbstractCardSelection cardSelection)
  +<b>final</b> prepareReleaseCardChannel()

  +CardSelectionsResult processExplicitSelections(Reader reader)

  +AbstractDefaultSelectionsRequest getDefaultSelectionsRequest()
  +CardSelectionsResult processDefaultSelectionsResponse(
    AbstractDefaultSelectionsResponse selectionResponse)
}
+enum MultiSelectionProcessing {
	FIRST_MATCH
	PROCESS_ALL
}
+abstract AbstractCardSelection {
  +AbstractCardSelection(CardSelector selector)

  #<b>final</b> addApduRequest(ApduRequest apduRequest)
  ~<b>final</b> CardSelectionRequest getCardSelectionRequest()
  {abstract} #AbstractSmartCard parse(CardResponse selectionResponse)

  +CardSelector getCardSelector()
}

+abstract AbstractSmartCard {
  #AbstractSmartCard(CardSelectionResponse selectionResponse)

  +boolean hasAtr()
  +byte[] getAtrBytes()
  +boolean hasFci()
  +byte[] getFciBytes()
}
+class "<b>final</b> CardSelectionsResult" as CardSelectionsResult {
  ~CardSelectionsResult()
  ~addMatchingCard(int selectionIndex, AbstractSmartCard matchingSe)

  +boolean hasActiveSelection()
  +AbstractSmartCard getActiveSmartCard()

  +int getActiveSelectionIndex()
  +boolean hasSelectionMatched(int selectionIndex)
  +AbstractSmartCard getMatchingCard(int selectionIndex)
  +Map<Integer, AbstractSmartCard> getMatchingSelections()
}
+class "<b>final</b> CardResource<T extends AbstractSmartCard>" as CardResource_T {
  #CardResource(Reader reader, T card)
  +Reader getReader()
  +T getSmartCard()
}

    CardResource_T "1" *-right- "1" AbstractSmartCard

    CardSelectionsService "1" o-down- "*" AbstractCardSelection
    CardSelectionsService "1" o-left- "0..1" CardSelectionsResult

    CardSelectionsResult "1" o-down- "*" AbstractSmartCard
    AbstractSmartCard "1..0" -right- "1" AbstractCardSelection : selects <


+class CardSelector {
  -String[0..1] cardProtocol
  -AtrFilter[0..1] atrFilter
  -AidSelector[0..1] aidSelector
  #CardSelector(CardSelectorBuilder builder)
  +{static}CardSelectorBuilder builder()

  +String getCardProtocol()
  +AtrFilter getAtrFilter()
  +AidSelector getAidSelector()
}
+class CardSelectorBuilder {
  #CardSelectorBuilder()
  +CardSelector build()

  +CardSelectorBuilder cardProtocol(String seProtocol)
  +CardSelectorBuilder atrFilter(CardSelector.AtrFilter atrFilter)
  +CardSelectorBuilder aidSelector(CardSelector.AidSelector aidSelector)
}


+enum FileOccurrence {
  FIRST
  LAST
  NEXT
  PREVIOUS
}

+enum FileControlInformation {
  FCI
  FCP
  FMD
  NO_RESPONSE
}
+class "<b>final</b> AtrFilter" as AtrFilter <<static>> {
  +AtrFilter(String atrRegex)

  +String getAtrRegex()
  +boolean atrMatches(byte[] atr)
}
+class "<b>final</b> AidSelector" as AidSelector <<static>> {
  +{static} final int AID_MIN_LENGTH = 5
  +{static} final int AID_MAX_LENGTH = 16

  -AidSelector(AidSelectorBuilder builder)
  +{static}AidSelectorBuilder builder()

  +byte[] getAidToSelect()
  +boolean isSelectNext()
  +Set<Integer> getSuccessfulSelectionStatusCodes()
}

+class AidSelectorBuilder {
  -byte[5..16] aidToSelect;
  -FileOccurrence[0..1] fileOccurrence = FIRST
  -FileControlInformation[0..1] fileControlInformation = FCI
  -AidSelectorBuilder()
  +SeSelector.AidSelector build()

  +AidSelectorBuilder aidToSelect(byte[] aid)
  +AidSelectorBuilder aidToSelect(String aid)
  +AidSelectorBuilder fileOccurrence(FileOccurrence fileOccurrence)
  +AidSelectorBuilder fileControlInformation(FileControlInformation fileControlInformation)
}
    AidSelector +-down- FileOccurrence
    AidSelector +-down- FileControlInformation
    AidSelector +- - "1+" AidSelectorBuilder : build <
    AidSelectorBuilder "1" *-left- "0..1" FileOccurrence : set <
    AidSelectorBuilder "1" *-right- "0..1" FileControlInformation : set <

    CardSelectorBuilder o-down- "0..1" AidSelector : set <
    CardSelectorBuilder o-up- "0..1" AtrFilter : set <

    CardSelector +- - AidSelector
    CardSelector +-left- AtrFilter
    CardSelector +- - "1+" CardSelectorBuilder : build <

    MultiSelectionProcessing -left- CardSelectionsService : set <

    AbstractCardSelection "1" o-down- "1" CardSelector
  }

  CardSelectionsService -up- Reader : sends <
  CardSelectionsService -up- AbstractDefaultSelectionsRequest : exports >
  CardSelectionsService -up- AbstractDefaultSelectionsResponse : imports >

  CardSelectionsResult -up- Reader : receives <
  Reader "0..1" - -* "1" CardResource_T : connected to <
}
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>