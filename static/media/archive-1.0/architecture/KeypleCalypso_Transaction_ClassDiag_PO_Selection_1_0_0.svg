<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1276px" preserveAspectRatio="none" style="width:1690px;height:1276px;" version="1.1" viewBox="0 0 1690 1276" width="1690px" zoomAndPan="magnify"><defs/><g><!--MD5=[ce7bfceea28453858a30d77f1599b96e]
cluster org.eclipse.keyple--><polygon fill="#FFFFFF" points="22,24,157,24,164,47.6094,1668,47.6094,1668,1264,22,1264,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="164" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="26" y="40.5332">org.eclipse.keyple</text><!--MD5=[db7490fbe1ca0fe5a779cb7583f37c7c]
cluster transaction_sam--><polygon fill="#FFFFFF" points="1286,68,1428,68,1435,91.6094,1644,91.6094,1644,1219,1286,1219,1286,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1286" x2="1435" y1="91.6094" y2="91.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="1290" y="84.5332">calypso.transaction</text><!--MD5=[98c1eaeaf5e5f81eb7891c64f0a25eb4]
cluster core.card.selection--><polygon fill="#FFFFFF" points="461,102.5,603,102.5,610,126.1094,1262,126.1094,1262,1240,461,1240,461,102.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="461" x2="610" y1="126.1094" y2="126.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="465" y="119.0332">core.card.selection</text><!--MD5=[6968f2773f6cbe709a16954dd7d257e3]
cluster transaction_po--><polygon fill="#FFFFFF" points="46,88.5,188,88.5,195,112.1094,437,112.1094,437,1219,46,1219,46,88.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="195" y1="112.1094" y2="112.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="50" y="105.0332">calypso.transaction</text><!--MD5=[00290c4d80e80fb984bed4b7b2a8d64a]
class SamSelector--><rect fill="#FEFECE" height="103.3438" id="SamSelector" style="stroke: #D4AC0D; stroke-width: 1.5;" width="224" x="1347" y="437"/><ellipse cx="1400.25" cy="453" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1402.25,449.5 Q1402.4531,449 1402.6875,448.75 Q1402.9219,448.5 1403.1875,448.5 Q1403.6563,448.5 1403.9531,448.7813 Q1404.25,449.0625 1404.25,449.7188 L1404.25,451.2813 Q1404.25,451.9375 1403.9688,452.2188 Q1403.6875,452.5 1403.25,452.5 Q1402.8594,452.5 1402.6094,452.3281 Q1402.3594,452.1563 1402.25,451.7031 Q1402.2031,451.3906 1402.0313,451.2188 Q1401.7188,450.8906 1401.1563,450.7031 Q1400.5938,450.5 1400.0313,450.5 Q1399.3281,450.5 1398.7344,450.7813 Q1398.1563,451.0625 1397.7031,451.6875 Q1397.25,452.3125 1397.25,453.1719 L1397.25,454.0938 Q1397.25,455.125 1398.0938,455.8125 Q1398.9375,456.5 1400.4375,456.5 Q1401.3281,456.5 1401.9531,456.2969 Q1402.3125,456.1875 1402.7188,455.8281 Q1402.9844,455.625 1403.125,455.5625 Q1403.2656,455.5 1403.4375,455.5 Q1403.7656,455.5 1404,455.7656 Q1404.25,456.0156 1404.25,456.375 Q1404.25,456.7188 1403.9063,457.125 Q1403.4063,457.7188 1402.6094,458.0469 Q1401.5625,458.5 1400.2813,458.5 Q1398.7813,458.5 1397.5781,457.9063 Q1396.6094,457.4375 1395.9219,456.4219 Q1395.25,455.4063 1395.25,454.2031 L1395.25,453.1094 Q1395.25,451.8594 1395.8438,450.7656 Q1396.4531,449.6719 1397.5,449.0938 Q1398.5625,448.5 1399.75,448.5 Q1400.4688,448.5 1401.0938,448.75 Q1401.7188,449 1402.25,449.5 Z "/><ellipse cx="1425.75" cy="452.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="1431.75" y="457.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="1458.75" y="457.9102">SamSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1348" x2="1570" y1="469" y2="469"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1355" y="477"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="1367" y="484.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="1393" y="484.4189">SamRevision targetSamRevision</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1355" y="490.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="1367" y="498.2549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="1393" y="498.2549">byte[] unlockData</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1348" x2="1570" y1="504.6719" y2="504.6719"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1355" y="512.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="1367" y="520.0908">SamSelector(SamSelectorBuilder builder)</text><ellipse cx="1358" cy="529.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="137" x="1367" y="533.9268">SamSelectorBuilder builder()</text><!--MD5=[ecba025543926446a28640b23631fe8f]
class SamSelectorBuilder--><rect fill="#FEFECE" height="200.1953" id="SamSelectorBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="318" x="1302" y="124"/><ellipse cx="1396.25" cy="140" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1398.25,136.5 Q1398.4531,136 1398.6875,135.75 Q1398.9219,135.5 1399.1875,135.5 Q1399.6563,135.5 1399.9531,135.7813 Q1400.25,136.0625 1400.25,136.7188 L1400.25,138.2813 Q1400.25,138.9375 1399.9688,139.2188 Q1399.6875,139.5 1399.25,139.5 Q1398.8594,139.5 1398.6094,139.3281 Q1398.3594,139.1563 1398.25,138.7031 Q1398.2031,138.3906 1398.0313,138.2188 Q1397.7188,137.8906 1397.1563,137.7031 Q1396.5938,137.5 1396.0313,137.5 Q1395.3281,137.5 1394.7344,137.7813 Q1394.1563,138.0625 1393.7031,138.6875 Q1393.25,139.3125 1393.25,140.1719 L1393.25,141.0938 Q1393.25,142.125 1394.0938,142.8125 Q1394.9375,143.5 1396.4375,143.5 Q1397.3281,143.5 1397.9531,143.2969 Q1398.3125,143.1875 1398.7188,142.8281 Q1398.9844,142.625 1399.125,142.5625 Q1399.2656,142.5 1399.4375,142.5 Q1399.7656,142.5 1400,142.7656 Q1400.25,143.0156 1400.25,143.375 Q1400.25,143.7188 1399.9063,144.125 Q1399.4063,144.7188 1398.6094,145.0469 Q1397.5625,145.5 1396.2813,145.5 Q1394.7813,145.5 1393.5781,144.9063 Q1392.6094,144.4375 1391.9219,143.4219 Q1391.25,142.4063 1391.25,141.2031 L1391.25,140.1094 Q1391.25,138.8594 1391.8438,137.7656 Q1392.4531,136.6719 1393.5,136.0938 Q1394.5625,135.5 1395.75,135.5 Q1396.4688,135.5 1397.0938,135.75 Q1397.7188,136 1398.25,136.5 Z "/><ellipse cx="1421.75" cy="139.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="110" x="1427.75" y="144.9102">SamSelectorBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1303" x2="1619" y1="156" y2="156"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1303" x2="1619" y1="164" y2="164"/><ellipse cx="1313" cy="175" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="1322" y="179.4189">SamSelectorBuilder()</text><ellipse cx="1313" cy="188.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="1322" y="193.2549">SamSelectorBuilder cardProtocol(String cardProtocol)</text><ellipse cx="1313" cy="202.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="1322" y="207.0908">SamSelectorBuilder atrFilter(AtrFilter atrFilter)</text><ellipse cx="1313" cy="216.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="272" x="1322" y="220.9268">SamSelectorBuilder aidSelector(AidSelector aidSelector)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1325" y="234.7627"/><ellipse cx="1313" cy="244.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="292" x="1322" y="248.5986">SamSelectorBuilder samRevision(SamRevision samRevision)</text><ellipse cx="1313" cy="258.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="1322" y="262.4346">SamSelectorBuilder serialNumber(String serialNumber)</text><ellipse cx="1313" cy="271.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="292" x="1322" y="276.2705">SamSelectorBuilder samIdentifier(SamIdentifier samIdentifier)</text><ellipse cx="1313" cy="285.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="1322" y="290.1064">SamSelectorBuilder samUnlock(byte[] lock)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1325" y="303.9424"/><ellipse cx="1313" cy="313.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="1322" y="317.7783">SamSelector build()</text><!--MD5=[b329b40ede17578c67831281e476ef9b]
class SamSelection--><rect fill="#FEFECE" height="89.5078" id="SamSelection" style="stroke: #D4AC0D; stroke-width: 1.5;" width="313" x="1302.5" y="677.5"/><ellipse cx="1410.75" cy="693.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1412.75,690 Q1412.9531,689.5 1413.1875,689.25 Q1413.4219,689 1413.6875,689 Q1414.1563,689 1414.4531,689.2813 Q1414.75,689.5625 1414.75,690.2188 L1414.75,691.7813 Q1414.75,692.4375 1414.4688,692.7188 Q1414.1875,693 1413.75,693 Q1413.3594,693 1413.1094,692.8281 Q1412.8594,692.6563 1412.75,692.2031 Q1412.7031,691.8906 1412.5313,691.7188 Q1412.2188,691.3906 1411.6563,691.2031 Q1411.0938,691 1410.5313,691 Q1409.8281,691 1409.2344,691.2813 Q1408.6563,691.5625 1408.2031,692.1875 Q1407.75,692.8125 1407.75,693.6719 L1407.75,694.5938 Q1407.75,695.625 1408.5938,696.3125 Q1409.4375,697 1410.9375,697 Q1411.8281,697 1412.4531,696.7969 Q1412.8125,696.6875 1413.2188,696.3281 Q1413.4844,696.125 1413.625,696.0625 Q1413.7656,696 1413.9375,696 Q1414.2656,696 1414.5,696.2656 Q1414.75,696.5156 1414.75,696.875 Q1414.75,697.2188 1414.4063,697.625 Q1413.9063,698.2188 1413.1094,698.5469 Q1412.0625,699 1410.7813,699 Q1409.2813,699 1408.0781,698.4063 Q1407.1094,697.9375 1406.4219,696.9219 Q1405.75,695.9063 1405.75,694.7031 L1405.75,693.6094 Q1405.75,692.3594 1406.3438,691.2656 Q1406.9531,690.1719 1408,689.5938 Q1409.0625,689 1410.25,689 Q1410.9688,689 1411.5938,689.25 Q1412.2188,689.5 1412.75,690 Z "/><ellipse cx="1436.25" cy="693" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="77" x="1442.25" y="698.4102">SamSelection</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1303.5" x2="1614.5" y1="709.5" y2="709.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1303.5" x2="1614.5" y1="717.5" y2="717.5"/><ellipse cx="1313.5" cy="728.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="1322.5" y="732.9189">SamSelection(SamSelector samSelector)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1325.5" y="746.7549"/><polygon fill="#FFFF44" points="1313.5,751.1719,1317.5,755.1719,1313.5,759.1719,1309.5,755.1719" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="287" x="1322.5" y="760.5908">CalypsoSam parse(SelectionResponse selectionResponse)</text><!--MD5=[43918d86839edc1befb88ea50efcfbfb]
class SamResource--><rect fill="#FEFECE" height="48" id="SamResource" style="stroke: #D4AC0D; stroke-width: 1.5;" width="226" x="1314" y="1155"/><ellipse cx="1329" cy="1171" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1331,1167.5 Q1331.2031,1167 1331.4375,1166.75 Q1331.6719,1166.5 1331.9375,1166.5 Q1332.4063,1166.5 1332.7031,1166.7813 Q1333,1167.0625 1333,1167.7188 L1333,1169.2813 Q1333,1169.9375 1332.7188,1170.2188 Q1332.4375,1170.5 1332,1170.5 Q1331.6094,1170.5 1331.3594,1170.3281 Q1331.1094,1170.1563 1331,1169.7031 Q1330.9531,1169.3906 1330.7813,1169.2188 Q1330.4688,1168.8906 1329.9063,1168.7031 Q1329.3438,1168.5 1328.7813,1168.5 Q1328.0781,1168.5 1327.4844,1168.7813 Q1326.9063,1169.0625 1326.4531,1169.6875 Q1326,1170.3125 1326,1171.1719 L1326,1172.0938 Q1326,1173.125 1326.8438,1173.8125 Q1327.6875,1174.5 1329.1875,1174.5 Q1330.0781,1174.5 1330.7031,1174.2969 Q1331.0625,1174.1875 1331.4688,1173.8281 Q1331.7344,1173.625 1331.875,1173.5625 Q1332.0156,1173.5 1332.1875,1173.5 Q1332.5156,1173.5 1332.75,1173.7656 Q1333,1174.0156 1333,1174.375 Q1333,1174.7188 1332.6563,1175.125 Q1332.1563,1175.7188 1331.3594,1176.0469 Q1330.3125,1176.5 1329.0313,1176.5 Q1327.5313,1176.5 1326.3281,1175.9063 Q1325.3594,1175.4375 1324.6719,1174.4219 Q1324,1173.4063 1324,1172.2031 L1324,1171.1094 Q1324,1169.8594 1324.5938,1168.7656 Q1325.2031,1167.6719 1326.25,1167.0938 Q1327.3125,1166.5 1328.5,1166.5 Q1329.2188,1166.5 1329.8438,1166.75 Q1330.4688,1167 1331,1167.5 Z "/><ellipse cx="1348" cy="1170.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="1354" y="1175.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="1381" y="1175.9102">CardResource</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="73" x="1470" y="1152"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="1471" y="1165.457">CalypsoSam</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1315" x2="1539" y1="1187" y2="1187"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1315" x2="1539" y1="1195" y2="1195"/><!--MD5=[f25ff1fa8fa59bbc0543eaadeb7d653a]
class CalypsoSam--><rect fill="#FEFECE" height="158.6875" id="CalypsoSam" style="stroke: #D4AC0D; stroke-width: 1.5;" width="326" x="1302" y="900.5"/><ellipse cx="1406.25" cy="916.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M1408.25,913 Q1408.4531,912.5 1408.6875,912.25 Q1408.9219,912 1409.1875,912 Q1409.6563,912 1409.9531,912.2813 Q1410.25,912.5625 1410.25,913.2188 L1410.25,914.7813 Q1410.25,915.4375 1409.9688,915.7188 Q1409.6875,916 1409.25,916 Q1408.8594,916 1408.6094,915.8281 Q1408.3594,915.6563 1408.25,915.2031 Q1408.2031,914.8906 1408.0313,914.7188 Q1407.7188,914.3906 1407.1563,914.2031 Q1406.5938,914 1406.0313,914 Q1405.3281,914 1404.7344,914.2813 Q1404.1563,914.5625 1403.7031,915.1875 Q1403.25,915.8125 1403.25,916.6719 L1403.25,917.5938 Q1403.25,918.625 1404.0938,919.3125 Q1404.9375,920 1406.4375,920 Q1407.3281,920 1407.9531,919.7969 Q1408.3125,919.6875 1408.7188,919.3281 Q1408.9844,919.125 1409.125,919.0625 Q1409.2656,919 1409.4375,919 Q1409.7656,919 1410,919.2656 Q1410.25,919.5156 1410.25,919.875 Q1410.25,920.2188 1409.9063,920.625 Q1409.4063,921.2188 1408.6094,921.5469 Q1407.5625,922 1406.2813,922 Q1404.7813,922 1403.5781,921.4063 Q1402.6094,920.9375 1401.9219,919.9219 Q1401.25,918.9063 1401.25,917.7031 L1401.25,916.6094 Q1401.25,915.3594 1401.8438,914.2656 Q1402.4531,913.1719 1403.5,912.5938 Q1404.5625,912 1405.75,912 Q1406.4688,912 1407.0938,912.25 Q1407.7188,912.5 1408.25,913 Z "/><ellipse cx="1431.75" cy="916" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="1437.75" y="921.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="1464.75" y="921.4102">CalypsoSam</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1303" x2="1627" y1="932.5" y2="932.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="1303" x2="1627" y1="940.5" y2="940.5"/><polygon fill="#4177AF" points="1313,947.5,1309,953.5,1317,953.5" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="1322" y="955.9189">CalypsoSam(</text><text fill="#FF0000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="1386" y="955.9189">CardSelectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="1505" y="955.9189">samSelectionResponse)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1325" y="969.7549"/><ellipse cx="1313" cy="979.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="1322" y="983.5908">SamRevision getSamRevision()</text><ellipse cx="1313" cy="993.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="1322" y="997.4268">byte[] getSerialNumber()</text><ellipse cx="1313" cy="1006.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="1322" y="1011.2627">byte getPlatform()</text><ellipse cx="1313" cy="1020.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="1322" y="1025.0986">byte getApplicationType()</text><ellipse cx="1313" cy="1034.5156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="1322" y="1038.9346">byte getApplicationSubType()</text><ellipse cx="1313" cy="1048.3516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="1322" y="1052.7705">byte getSoftwareIssuer()</text><!--MD5=[d172dfe3fef1c01713438c88abcc6a2c]
class CardSelector--><rect fill="#FEFECE" height="172.5234" id="CardSelector" style="stroke: #D4AC0D; stroke-width: 1.5;" width="228" x="731" y="402"/><ellipse cx="799.25" cy="418" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M801.25,414.5 Q801.4531,414 801.6875,413.75 Q801.9219,413.5 802.1875,413.5 Q802.6563,413.5 802.9531,413.7813 Q803.25,414.0625 803.25,414.7188 L803.25,416.2813 Q803.25,416.9375 802.9688,417.2188 Q802.6875,417.5 802.25,417.5 Q801.8594,417.5 801.6094,417.3281 Q801.3594,417.1563 801.25,416.7031 Q801.2031,416.3906 801.0313,416.2188 Q800.7188,415.8906 800.1563,415.7031 Q799.5938,415.5 799.0313,415.5 Q798.3281,415.5 797.7344,415.7813 Q797.1563,416.0625 796.7031,416.6875 Q796.25,417.3125 796.25,418.1719 L796.25,419.0938 Q796.25,420.125 797.0938,420.8125 Q797.9375,421.5 799.4375,421.5 Q800.3281,421.5 800.9531,421.2969 Q801.3125,421.1875 801.7188,420.8281 Q801.9844,420.625 802.125,420.5625 Q802.2656,420.5 802.4375,420.5 Q802.7656,420.5 803,420.7656 Q803.25,421.0156 803.25,421.375 Q803.25,421.7188 802.9063,422.125 Q802.4063,422.7188 801.6094,423.0469 Q800.5625,423.5 799.2813,423.5 Q797.7813,423.5 796.5781,422.9063 Q795.6094,422.4375 794.9219,421.4219 Q794.25,420.4063 794.25,419.2031 L794.25,418.1094 Q794.25,416.8594 794.8438,415.7656 Q795.4531,414.6719 796.5,414.0938 Q797.5625,413.5 798.75,413.5 Q799.4688,413.5 800.0938,413.75 Q800.7188,414 801.25,414.5 Z "/><ellipse cx="824.75" cy="417.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="830.75" y="422.9102">CardSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="732" x2="958" y1="434" y2="434"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="739" y="442"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="751" y="449.4189">String[0..1] cardProtocol</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="739" y="455.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="751" y="463.2549">AtrFilter[0..1] atrFilter</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="739" y="469.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="751" y="477.0908">AidSelector[0..1] aidSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="732" x2="958" y1="483.5078" y2="483.5078"/><polygon fill="#FFFF44" points="742,489.5078,746,493.5078,742,497.5078,738,493.5078" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="202" x="751" y="498.9268">CardSelector(CardSelectorBuilder builder)</text><ellipse cx="742" cy="508.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="139" x="751" y="512.7627">CardSelectorBuilder builder()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="754" y="526.5986"/><ellipse cx="742" cy="536.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="751" y="540.4346">String getCardProtocol()</text><ellipse cx="742" cy="549.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="751" y="554.2705">AtrFilter getAtrFilter()</text><ellipse cx="742" cy="563.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="751" y="568.1064">AidSelector getAidSelector()</text><!--MD5=[9bb74c6f90a85a40b37333ced13e2f4b]
class CardSelectorBuilder--><rect fill="#FEFECE" height="131.0156" id="CardSelectorBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="366" x="662" y="158.5"/><ellipse cx="779.75" cy="174.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M781.75,171 Q781.9531,170.5 782.1875,170.25 Q782.4219,170 782.6875,170 Q783.1563,170 783.4531,170.2813 Q783.75,170.5625 783.75,171.2188 L783.75,172.7813 Q783.75,173.4375 783.4688,173.7188 Q783.1875,174 782.75,174 Q782.3594,174 782.1094,173.8281 Q781.8594,173.6563 781.75,173.2031 Q781.7031,172.8906 781.5313,172.7188 Q781.2188,172.3906 780.6563,172.2031 Q780.0938,172 779.5313,172 Q778.8281,172 778.2344,172.2813 Q777.6563,172.5625 777.2031,173.1875 Q776.75,173.8125 776.75,174.6719 L776.75,175.5938 Q776.75,176.625 777.5938,177.3125 Q778.4375,178 779.9375,178 Q780.8281,178 781.4531,177.7969 Q781.8125,177.6875 782.2188,177.3281 Q782.4844,177.125 782.625,177.0625 Q782.7656,177 782.9375,177 Q783.2656,177 783.5,177.2656 Q783.75,177.5156 783.75,177.875 Q783.75,178.2188 783.4063,178.625 Q782.9063,179.2188 782.1094,179.5469 Q781.0625,180 779.7813,180 Q778.2813,180 777.0781,179.4063 Q776.1094,178.9375 775.4219,177.9219 Q774.75,176.9063 774.75,175.7031 L774.75,174.6094 Q774.75,173.3594 775.3438,172.2656 Q775.9531,171.1719 777,170.5938 Q778.0625,170 779.25,170 Q779.9688,170 780.5938,170.25 Q781.2188,170.5 781.75,171 Z "/><ellipse cx="805.25" cy="174" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="811.25" y="179.4102">CardSelectorBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="663" x2="1027" y1="190.5" y2="190.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="663" x2="1027" y1="198.5" y2="198.5"/><polygon fill="#FFFF44" points="673,204.5,677,208.5,673,212.5,669,208.5" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="682" y="213.9189">CardSelectorBuilder()</text><ellipse cx="673" cy="223.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="682" y="227.7549">CardSelector build()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="685" y="241.5908"/><ellipse cx="673" cy="251.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="250" x="682" y="255.4268">CardSelectorBuilder cardProtocol(String seProtocol)</text><ellipse cx="673" cy="264.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="286" x="682" y="269.2627">CardSelectorBuilder atrFilter(CardSelector.AtrFilter atrFilter)</text><ellipse cx="673" cy="278.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="340" x="682" y="283.0986">CardSelectorBuilder aidSelector(CardSelector.AidSelector aidSelector)</text><!--MD5=[fb0847b56e90874d02378ad5165e20f2]
class CardSelectionsService--><rect fill="#FEFECE" height="186.3594" id="CardSelectionsService" style="stroke: #D4AC0D; stroke-width: 1.5;" width="395" x="850.5" y="887"/><ellipse cx="962.25" cy="903" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M964.25,899.5 Q964.4531,899 964.6875,898.75 Q964.9219,898.5 965.1875,898.5 Q965.6563,898.5 965.9531,898.7813 Q966.25,899.0625 966.25,899.7188 L966.25,901.2813 Q966.25,901.9375 965.9688,902.2188 Q965.6875,902.5 965.25,902.5 Q964.8594,902.5 964.6094,902.3281 Q964.3594,902.1563 964.25,901.7031 Q964.2031,901.3906 964.0313,901.2188 Q963.7188,900.8906 963.1563,900.7031 Q962.5938,900.5 962.0313,900.5 Q961.3281,900.5 960.7344,900.7813 Q960.1563,901.0625 959.7031,901.6875 Q959.25,902.3125 959.25,903.1719 L959.25,904.0938 Q959.25,905.125 960.0938,905.8125 Q960.9375,906.5 962.4375,906.5 Q963.3281,906.5 963.9531,906.2969 Q964.3125,906.1875 964.7188,905.8281 Q964.9844,905.625 965.125,905.5625 Q965.2656,905.5 965.4375,905.5 Q965.7656,905.5 966,905.7656 Q966.25,906.0156 966.25,906.375 Q966.25,906.7188 965.9063,907.125 Q965.4063,907.7188 964.6094,908.0469 Q963.5625,908.5 962.2813,908.5 Q960.7813,908.5 959.5781,907.9063 Q958.6094,907.4375 957.9219,906.4219 Q957.25,905.4063 957.25,904.2031 L957.25,903.1094 Q957.25,901.8594 957.8438,900.7656 Q958.4531,899.6719 959.5,899.0938 Q960.5625,898.5 961.75,898.5 Q962.4688,898.5 963.0938,898.75 Q963.7188,899 964.25,899.5 Z "/><ellipse cx="987.75" cy="902.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="993.75" y="907.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="1020.75" y="907.9102">CardSelectionsService</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="851.5" x2="1244.5" y1="919" y2="919"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="851.5" x2="1244.5" y1="927" y2="927"/><ellipse cx="861.5" cy="938" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="369" x="870.5" y="942.4189">CardSelectionsService(MultiSelectionProcessing multiMode = FIRST_MATCH)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="873.5" y="956.2549"/><ellipse cx="861.5" cy="965.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="282" x="870.5" y="970.0908">int prepareSelection(AbstractCardSelection cardSelection)</text><ellipse cx="861.5" cy="979.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="870.5" y="983.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="896.5" y="983.9268">prepareReleaseCardChannel()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="873.5" y="997.7627"/><ellipse cx="861.5" cy="1007.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="307" x="870.5" y="1011.5986">CardSelectionsResult processExplicitSelections(Reader reader)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="873.5" y="1025.4346"/><ellipse cx="861.5" cy="1034.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="316" x="870.5" y="1039.2705">AbstractDefaultSelectionsRequest getDefaultSelectionsRequest()</text><ellipse cx="861.5" cy="1048.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="283" x="870.5" y="1053.1064">CardSelectionsResult processDefaultSelectionsResponse(</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="274" x="870.5" y="1066.9424">AbstractDefaultSelectionsResponse selectionResponse)</text><!--MD5=[22cdb46c7fe3b6ab653a691199cf9051]
class AbstractCardSelection--><rect fill="#FEFECE" height="144.8516" id="AbstractCardSelection" style="stroke: #D4AC0D; stroke-width: 1.5;" width="332" x="679" y="650"/><ellipse cx="773.75" cy="666" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M775.5,667.5 L772.2031,667.5 L771.7656,668.5 L771.7656,668.5 L772.2344,668.5 L772.75,669.125 L772.75,669.5 L772.75,669.875 L772.2344,670.5 L771.7656,670.5 L769.875,670.5 L769.2656,670.5 L768.75,669.875 L768.75,669.5 L768.75,669.125 L769.2656,668.5 L769.875,668.5 L772.1875,662.5 L771.3125,662.5 L770.2656,662.5 L769.75,661.875 L769.75,661.5 L769.75,661.125 L770.2656,660.5 L771.3125,660.5 L774.9844,660.5 L777.6719,668.5 L778.2344,668.5 L778.2344,668.5 L778.75,669.125 L778.75,669.5 L778.75,669.875 L778.2344,670.5 L777.6719,670.5 L775.7813,670.5 L775.2656,670.5 L774.75,669.875 L774.75,669.5 L774.75,669.125 L775.2656,668.5 L775.7813,668.5 L775.7813,668.5 L775.5,667.5 Z M774.9531,665.5 L773.75,661.9219 L772.7188,665.5 L774.9531,665.5 Z "/><ellipse cx="799.25" cy="665.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="123" x="805.25" y="670.9102">AbstractCardSelection</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="680" x2="1010" y1="682" y2="682"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="680" x2="1010" y1="690" y2="690"/><ellipse cx="690" cy="701" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="222" x="699" y="705.4189">AbstractCardSelection(CardSelector selector)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="702" y="719.2549"/><polygon fill="#FFFF44" points="690,723.6719,694,727.6719,690,731.6719,686,727.6719" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="699" y="733.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="725" y="733.0908">addApduRequest(ApduRequest apduRequest)</text><polygon fill="#4177AF" points="690,738.5078,686,744.5078,694,744.5078" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="699" y="746.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="725" y="746.9268">CardSelectionRequest getCardSelectionRequest()</text><polygon fill="#FFFF44" points="690,751.3438,694,755.3438,690,759.3438,686,755.3438" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="306" x="699" y="760.7627">AbstractSmartCard parse(CardResponse selectionResponse)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="702" y="774.5986"/><ellipse cx="690" cy="784.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="699" y="788.4346">CardSelector getCardSelector()</text><!--MD5=[76ebe7b74ec75e348fd93ad9fc9a7513]
class AbstractSmartCard--><rect fill="#FEFECE" height="131.0156" id="AbstractSmartCard" style="stroke: #D4AC0D; stroke-width: 1.5;" width="338" x="477" y="914.5"/><ellipse cx="583.75" cy="930.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A9DCDF; stroke-width: 1.0;"/><path d="M585.5,932 L582.2031,932 L581.7656,933 L581.7656,933 L582.2344,933 L582.75,933.625 L582.75,934 L582.75,934.375 L582.2344,935 L581.7656,935 L579.875,935 L579.2656,935 L578.75,934.375 L578.75,934 L578.75,933.625 L579.2656,933 L579.875,933 L582.1875,927 L581.3125,927 L580.2656,927 L579.75,926.375 L579.75,926 L579.75,925.625 L580.2656,925 L581.3125,925 L584.9844,925 L587.6719,933 L588.2344,933 L588.2344,933 L588.75,933.625 L588.75,934 L588.75,934.375 L588.2344,935 L587.6719,935 L585.7813,935 L585.2656,935 L584.75,934.375 L584.75,934 L584.75,933.625 L585.2656,933 L585.7813,933 L585.7813,933 L585.5,932 Z M584.9531,930 L583.75,926.4219 L582.7188,930 L584.9531,930 Z "/><ellipse cx="609.25" cy="930" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="105" x="615.25" y="935.4102">AbstractSmartCard</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="478" x2="814" y1="946.5" y2="946.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="478" x2="814" y1="954.5" y2="954.5"/><polygon fill="#FFFF44" points="488,960.5,492,964.5,488,968.5,484,964.5" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="312" x="497" y="969.9189">AbstractSmartCard(CardSelectionResponse selectionResponse)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="500" y="983.7549"/><ellipse cx="488" cy="993.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="497" y="997.5908">boolean hasAtr()</text><ellipse cx="488" cy="1007.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="497" y="1011.4268">byte[] getAtrBytes()</text><ellipse cx="488" cy="1020.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="497" y="1025.2627">boolean hasFci()</text><ellipse cx="488" cy="1034.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="497" y="1039.0986">byte[] getFciBytes()</text><!--MD5=[68d93de5d5ca3fa8853616903ee370e6]
class CardResource_T--><rect fill="#FEFECE" height="89.5078" id="CardResource_T" style="stroke: #D4AC0D; stroke-width: 1.5;" width="316" x="500" y="1134"/><ellipse cx="515" cy="1150" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M517,1146.5 Q517.2031,1146 517.4375,1145.75 Q517.6719,1145.5 517.9375,1145.5 Q518.4063,1145.5 518.7031,1145.7813 Q519,1146.0625 519,1146.7188 L519,1148.2813 Q519,1148.9375 518.7188,1149.2188 Q518.4375,1149.5 518,1149.5 Q517.6094,1149.5 517.3594,1149.3281 Q517.1094,1149.1563 517,1148.7031 Q516.9531,1148.3906 516.7813,1148.2188 Q516.4688,1147.8906 515.9063,1147.7031 Q515.3438,1147.5 514.7813,1147.5 Q514.0781,1147.5 513.4844,1147.7813 Q512.9063,1148.0625 512.4531,1148.6875 Q512,1149.3125 512,1150.1719 L512,1151.0938 Q512,1152.125 512.8438,1152.8125 Q513.6875,1153.5 515.1875,1153.5 Q516.0781,1153.5 516.7031,1153.2969 Q517.0625,1153.1875 517.4688,1152.8281 Q517.7344,1152.625 517.875,1152.5625 Q518.0156,1152.5 518.1875,1152.5 Q518.5156,1152.5 518.75,1152.7656 Q519,1153.0156 519,1153.375 Q519,1153.7188 518.6563,1154.125 Q518.1563,1154.7188 517.3594,1155.0469 Q516.3125,1155.5 515.0313,1155.5 Q513.5313,1155.5 512.3281,1154.9063 Q511.3594,1154.4375 510.6719,1153.4219 Q510,1152.4063 510,1151.2031 L510,1150.1094 Q510,1148.8594 510.5938,1147.7656 Q511.2031,1146.6719 512.25,1146.0938 Q513.3125,1145.5 514.5,1145.5 Q515.2188,1145.5 515.8438,1145.75 Q516.4688,1146 517,1146.5 Z "/><ellipse cx="534" cy="1149.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="540" y="1154.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="567" y="1154.9102">CardResource</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="163" x="656" y="1131"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="161" x="657" y="1144.457">T extends AbstractSmartCard</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="501" x2="815" y1="1166" y2="1166"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="501" x2="815" y1="1174" y2="1174"/><polygon fill="#FFFF44" points="511,1180,515,1184,511,1188,507,1184" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="520" y="1189.4189">CardResource(Reader reader, T card)</text><ellipse cx="511" cy="1198.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="520" y="1203.2549">Reader getReader()</text><ellipse cx="511" cy="1212.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="520" y="1217.0908">T getSmartCard()</text><!--MD5=[bb5d923135655fe334dd8e21d863bc58]
class InvalidatedPo--><rect fill="#FEFECE" height="75.6719" id="InvalidatedPo" style="stroke: #D4AC0D; stroke-width: 1.5;" width="117" x="62.5" y="450.5"/><ellipse cx="77.5" cy="466.5" fill="#EB937F" rx="11" ry="11" style="stroke: #EB93DF; stroke-width: 1.0;"/><path d="M76,467.5 L76,469.5 L80,469.5 L80,468.5 L80,468.0156 L80.625,467.5 L81,467.5 L81.375,467.5 L82,468.0156 L82,468.5 L82,471.5 L74,471.5 L73.5156,471.5 L73,470.875 L73,470.5 L73,470.125 L73.5156,469.5 L74,469.5 L74,469.5 L74,463.5 L74,463.5 L73.5156,463.5 L73,462.875 L73,462.5 L73,462.125 L73.5156,461.5 L74,461.5 L82,461.5 L82,464.5 L82,464.9844 L81.375,465.5 L81,465.5 L80.625,465.5 L80,464.9844 L80,464.5 L80,463.5 L76,463.5 L76,465.5 L77,465.5 L77,465.0156 L77,465.0156 L77.625,464.5 L78,464.5 L78.375,464.5 L79,465.0156 L79,465.5 L79,467.5 L79,467.9844 L78.375,468.5 L78.375,468.5 L78,468.5 L77.625,468.5 L77,467.9844 L77,467.9844 L77,467.5 L76,467.5 Z "/><ellipse cx="96.5" cy="466" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="102.5" y="471.4102">InvalidatedPo</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63.5" x2="178.5" y1="482.5" y2="482.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="68.5" y="497.9189">REJECT</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="68.5" y="511.7549">ACCEPT</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="63.5" x2="178.5" y1="518.1719" y2="518.1719"/><!--MD5=[346f733d3079e77ece8ec0605238a57f]
class CalypsoPo--><rect fill="#FEFECE" height="131.0156" id="CalypsoPo" style="stroke: #D4AC0D; stroke-width: 1.5;" width="309" x="85.5" y="914.5"/><ellipse cx="200.25" cy="930.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M202.25,927 Q202.4531,926.5 202.6875,926.25 Q202.9219,926 203.1875,926 Q203.6563,926 203.9531,926.2813 Q204.25,926.5625 204.25,927.2188 L204.25,928.7813 Q204.25,929.4375 203.9688,929.7188 Q203.6875,930 203.25,930 Q202.8594,930 202.6094,929.8281 Q202.3594,929.6563 202.25,929.2031 Q202.2031,928.8906 202.0313,928.7188 Q201.7188,928.3906 201.1563,928.2031 Q200.5938,928 200.0313,928 Q199.3281,928 198.7344,928.2813 Q198.1563,928.5625 197.7031,929.1875 Q197.25,929.8125 197.25,930.6719 L197.25,931.5938 Q197.25,932.625 198.0938,933.3125 Q198.9375,934 200.4375,934 Q201.3281,934 201.9531,933.7969 Q202.3125,933.6875 202.7188,933.3281 Q202.9844,933.125 203.125,933.0625 Q203.2656,933 203.4375,933 Q203.7656,933 204,933.2656 Q204.25,933.5156 204.25,933.875 Q204.25,934.2188 203.9063,934.625 Q203.4063,935.2188 202.6094,935.5469 Q201.5625,936 200.2813,936 Q198.7813,936 197.5781,935.4063 Q196.6094,934.9375 195.9219,933.9219 Q195.25,932.9063 195.25,931.7031 L195.25,930.6094 Q195.25,929.3594 195.8438,928.2656 Q196.4531,927.1719 197.5,926.5938 Q198.5625,926 199.75,926 Q200.4688,926 201.0938,926.25 Q201.7188,926.5 202.25,927 Z "/><ellipse cx="225.75" cy="930" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="231.75" y="935.4102">CalypsoPo</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="86.5" x2="393.5" y1="946.5" y2="946.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="86.5" x2="393.5" y1="954.5" y2="954.5"/><polygon fill="#4177AF" points="96.5,961.5,92.5,967.5,100.5,967.5" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="105.5" y="969.9189">CalypsoPo(</text><text fill="#FF0000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="160.5" y="969.9189">CardSelectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="279.5" y="969.9189">poSelectionResponse)</text><ellipse cx="96.5" cy="979.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="105.5" y="983.7549">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="131.5" y="983.7549">String getDfName()</text><ellipse cx="96.5" cy="993.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="105.5" y="997.5908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="131.5" y="997.5908">String getApplicationSerialNumber()</text><ellipse cx="96.5" cy="1007.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="105.5" y="1011.4268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="131.5" y="1011.4268">String getAtr()</text><ellipse cx="96.5" cy="1020.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="105.5" y="1025.2627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="131.5" y="1025.2627">String getStartupInfo()</text><ellipse cx="96.5" cy="1034.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="105.5" y="1039.0986">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="131.5" y="1039.0986">PoRevision getRevision()</text><!--MD5=[910d44511a3d946a5594aedf23a2c57e]
class PoSelector--><rect fill="#FEFECE" height="89.5078" id="PoSelector" style="stroke: #D4AC0D; stroke-width: 1.5;" width="206" x="215" y="443.5"/><ellipse cx="264.75" cy="459.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M266.75,456 Q266.9531,455.5 267.1875,455.25 Q267.4219,455 267.6875,455 Q268.1563,455 268.4531,455.2813 Q268.75,455.5625 268.75,456.2188 L268.75,457.7813 Q268.75,458.4375 268.4688,458.7188 Q268.1875,459 267.75,459 Q267.3594,459 267.1094,458.8281 Q266.8594,458.6563 266.75,458.2031 Q266.7031,457.8906 266.5313,457.7188 Q266.2188,457.3906 265.6563,457.2031 Q265.0938,457 264.5313,457 Q263.8281,457 263.2344,457.2813 Q262.6563,457.5625 262.2031,458.1875 Q261.75,458.8125 261.75,459.6719 L261.75,460.5938 Q261.75,461.625 262.5938,462.3125 Q263.4375,463 264.9375,463 Q265.8281,463 266.4531,462.7969 Q266.8125,462.6875 267.2188,462.3281 Q267.4844,462.125 267.625,462.0625 Q267.7656,462 267.9375,462 Q268.2656,462 268.5,462.2656 Q268.75,462.5156 268.75,462.875 Q268.75,463.2188 268.4063,463.625 Q267.9063,464.2188 267.1094,464.5469 Q266.0625,465 264.7813,465 Q263.2813,465 262.0781,464.4063 Q261.1094,463.9375 260.4219,462.9219 Q259.75,461.9063 259.75,460.7031 L259.75,459.6094 Q259.75,458.3594 260.3438,457.2656 Q260.9531,456.1719 262,455.5938 Q263.0625,455 264.25,455 Q264.9688,455 265.5938,455.25 Q266.2188,455.5 266.75,456 Z "/><ellipse cx="290.25" cy="459" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="296.25" y="464.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="323.25" y="464.4102">PoSelector</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="216" x2="420" y1="475.5" y2="475.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="223" y="483.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="235" y="490.9189">InvalidatedPo invalidatedPo = REJECT</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="216" x2="420" y1="497.3359" y2="497.3359"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="223" y="505.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="235" y="512.7549">PoSelector(PoSelectorBuilder builder)</text><ellipse cx="226" cy="522.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="128" x="235" y="526.5908">PoSelectorBuilder builder()</text><!--MD5=[c77ac4c260a274e18b12f273f3a04d1c]
class PoSelectorBuilder--><rect fill="#FEFECE" height="158.6875" id="PoSelectorBuilder" style="stroke: #D4AC0D; stroke-width: 1.5;" width="314" x="107" y="144.5"/><ellipse cx="204.75" cy="160.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M206.75,157 Q206.9531,156.5 207.1875,156.25 Q207.4219,156 207.6875,156 Q208.1563,156 208.4531,156.2813 Q208.75,156.5625 208.75,157.2188 L208.75,158.7813 Q208.75,159.4375 208.4688,159.7188 Q208.1875,160 207.75,160 Q207.3594,160 207.1094,159.8281 Q206.8594,159.6563 206.75,159.2031 Q206.7031,158.8906 206.5313,158.7188 Q206.2188,158.3906 205.6563,158.2031 Q205.0938,158 204.5313,158 Q203.8281,158 203.2344,158.2813 Q202.6563,158.5625 202.2031,159.1875 Q201.75,159.8125 201.75,160.6719 L201.75,161.5938 Q201.75,162.625 202.5938,163.3125 Q203.4375,164 204.9375,164 Q205.8281,164 206.4531,163.7969 Q206.8125,163.6875 207.2188,163.3281 Q207.4844,163.125 207.625,163.0625 Q207.7656,163 207.9375,163 Q208.2656,163 208.5,163.2656 Q208.75,163.5156 208.75,163.875 Q208.75,164.2188 208.4063,164.625 Q207.9063,165.2188 207.1094,165.5469 Q206.0625,166 204.7813,166 Q203.2813,166 202.0781,165.4063 Q201.1094,164.9375 200.4219,163.9219 Q199.75,162.9063 199.75,161.7031 L199.75,160.6094 Q199.75,159.3594 200.3438,158.2656 Q200.9531,157.1719 202,156.5938 Q203.0625,156 204.25,156 Q204.9688,156 205.5938,156.25 Q206.2188,156.5 206.75,157 Z "/><ellipse cx="230.25" cy="160" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="236.25" y="165.4102">PoSelectorBuilder</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="108" x2="420" y1="176.5" y2="176.5"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="108" x2="420" y1="184.5" y2="184.5"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="115" y="192.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="127" y="199.9189">PoSelectorBuilder()</text><ellipse cx="118" cy="209.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="127" y="213.7549">PoSelector build()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="130" y="227.5908"/><ellipse cx="118" cy="237.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="249" x="127" y="241.4268">PoSelectorBuilder cardProtocol(String cardProtocol)</text><ellipse cx="118" cy="250.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="209" x="127" y="255.2627">PoSelectorBuilder atrFilter(AtrFilter atrFilter)</text><ellipse cx="118" cy="264.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="263" x="127" y="269.0986">PoSelectorBuilder aidSelector(AidSelector aidSelector)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="130" y="282.9346"/><ellipse cx="118" cy="292.3516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="288" x="127" y="296.7705">PoSelectorBuilder invalidatedPo(InvalidatedPo invalidatedPo)</text><!--MD5=[f7e9d5e8e621667a03430665babb8dd6]
class PoSelection--><rect fill="#FEFECE" height="172.5234" id="PoSelection" style="stroke: #D4AC0D; stroke-width: 1.5;" width="304" x="117" y="636"/><ellipse cx="226.25" cy="652" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M228.25,648.5 Q228.4531,648 228.6875,647.75 Q228.9219,647.5 229.1875,647.5 Q229.6563,647.5 229.9531,647.7813 Q230.25,648.0625 230.25,648.7188 L230.25,650.2813 Q230.25,650.9375 229.9688,651.2188 Q229.6875,651.5 229.25,651.5 Q228.8594,651.5 228.6094,651.3281 Q228.3594,651.1563 228.25,650.7031 Q228.2031,650.3906 228.0313,650.2188 Q227.7188,649.8906 227.1563,649.7031 Q226.5938,649.5 226.0313,649.5 Q225.3281,649.5 224.7344,649.7813 Q224.1563,650.0625 223.7031,650.6875 Q223.25,651.3125 223.25,652.1719 L223.25,653.0938 Q223.25,654.125 224.0938,654.8125 Q224.9375,655.5 226.4375,655.5 Q227.3281,655.5 227.9531,655.2969 Q228.3125,655.1875 228.7188,654.8281 Q228.9844,654.625 229.125,654.5625 Q229.2656,654.5 229.4375,654.5 Q229.7656,654.5 230,654.7656 Q230.25,655.0156 230.25,655.375 Q230.25,655.7188 229.9063,656.125 Q229.4063,656.7188 228.6094,657.0469 Q227.5625,657.5 226.2813,657.5 Q224.7813,657.5 223.5781,656.9063 Q222.6094,656.4375 221.9219,655.4219 Q221.25,654.4063 221.25,653.2031 L221.25,652.1094 Q221.25,650.8594 221.8438,649.7656 Q222.4531,648.6719 223.5,648.0938 Q224.5625,647.5 225.75,647.5 Q226.4688,647.5 227.0938,647.75 Q227.7188,648 228.25,648.5 Z "/><ellipse cx="251.75" cy="651.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="257.75" y="656.9102">PoSelection</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="118" x2="420" y1="668" y2="668"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="118" x2="420" y1="676" y2="676"/><ellipse cx="128" cy="687" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="137" y="691.4189">PoSelection(PoSelector poSelector)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="140" y="705.2549"/><ellipse cx="128" cy="714.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="137" y="719.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="163" y="719.0908">prepareSelectFile(byte[] path)</text><ellipse cx="128" cy="728.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="137" y="732.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="163" y="732.9268">prepareSelectFile(shord lid)</text><ellipse cx="128" cy="742.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="137" y="746.7627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="222" x="163" y="746.7627">prepareSelectFile(SelectControl selectControl)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="140" y="760.5986"/><ellipse cx="128" cy="770.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="137" y="774.4346">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="163" y="774.4346">prepareReadRecordFile(byte sfi, int recordNumber)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="140" y="788.2705"/><polygon fill="#FFFF44" points="128,792.6875,132,796.6875,128,800.6875,124,796.6875" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="137" y="802.1064">CalypsoPo parse(SelectionResponse selectionResponse)</text><!--MD5=[e8e21ba3995782366e9aa9ad2c6b2d5f]
class PoResource--><rect fill="#FEFECE" height="48" id="PoResource" style="stroke: #D4AC0D; stroke-width: 1.5;" width="215" x="132.5" y="1155"/><ellipse cx="147.5" cy="1171" fill="#ADD1B2" rx="11" ry="11" style="stroke: #ADD1B2; stroke-width: 1.0;"/><path d="M149.5,1167.5 Q149.7031,1167 149.9375,1166.75 Q150.1719,1166.5 150.4375,1166.5 Q150.9063,1166.5 151.2031,1166.7813 Q151.5,1167.0625 151.5,1167.7188 L151.5,1169.2813 Q151.5,1169.9375 151.2188,1170.2188 Q150.9375,1170.5 150.5,1170.5 Q150.1094,1170.5 149.8594,1170.3281 Q149.6094,1170.1563 149.5,1169.7031 Q149.4531,1169.3906 149.2813,1169.2188 Q148.9688,1168.8906 148.4063,1168.7031 Q147.8438,1168.5 147.2813,1168.5 Q146.5781,1168.5 145.9844,1168.7813 Q145.4063,1169.0625 144.9531,1169.6875 Q144.5,1170.3125 144.5,1171.1719 L144.5,1172.0938 Q144.5,1173.125 145.3438,1173.8125 Q146.1875,1174.5 147.6875,1174.5 Q148.5781,1174.5 149.2031,1174.2969 Q149.5625,1174.1875 149.9688,1173.8281 Q150.2344,1173.625 150.375,1173.5625 Q150.5156,1173.5 150.6875,1173.5 Q151.0156,1173.5 151.25,1173.7656 Q151.5,1174.0156 151.5,1174.375 Q151.5,1174.7188 151.1563,1175.125 Q150.6563,1175.7188 149.8594,1176.0469 Q148.8125,1176.5 147.5313,1176.5 Q146.0313,1176.5 144.8281,1175.9063 Q143.8594,1175.4375 143.1719,1174.4219 Q142.5,1173.4063 142.5,1172.2031 L142.5,1171.1094 Q142.5,1169.8594 143.0938,1168.7656 Q143.7031,1167.6719 144.75,1167.0938 Q145.8125,1166.5 147,1166.5 Q147.7188,1166.5 148.3438,1166.75 Q148.9688,1167 149.5,1167.5 Z "/><ellipse cx="166.5" cy="1170.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="172.5" y="1175.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="199.5" y="1175.9102">CardResource</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="62" x="288.5" y="1152"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="289.5" y="1165.457">CalypsoPo</text><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="133.5" x2="346.5" y1="1187" y2="1187"/><line style="stroke: #D4AC0D; stroke-width: 1.5;" x1="133.5" x2="346.5" y1="1195" y2="1195"/><!--MD5=[b09dbd33f021783c33c76c7696ce73ff]
link SamSelectorBuilder to SamSelector--><path d="M1460.24,324.24 C1460,356.73 1459.73,392.007 1459.5,421.428 " fill="none" id="SamSelectorBuilder-&gt;SamSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="1459.451" cy="428.6732" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1459.5119" x2="1459.39" y1="420.6735" y2="436.673"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1467.4507" x2="1451.4512" y1="428.7342" y2="428.6123"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="1461" y="368.4951">build</text><polygon fill="#000000" points="1470,377.3516,1473,383.3516,1476,377.3516,1470,377.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="15" x="1444.6334" y="345.6897">1+</text><!--MD5=[0bb609bf15f386d89c90c3eca97b6bed]
link SamSelector to SamSelection--><path d="M1459,540.127 C1459,576.581 1459,625.825 1459,663.803 " fill="none" id="SamSelector-&gt;SamSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1459,677.24,1463,671.24,1459,665.24,1455,671.24,1459,677.24" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1451.5078" y="562.0077">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1451.4641" y="666.6443">1</text><!--MD5=[d28751b907d1ca164ec3c6722d87275f]
link SamSelection to CalypsoSam--><path d="M1460.04,767.713 C1460.89,804.134 1462.13,856.686 1463.15,900.267 " fill="none" id="SamSelection-CalypsoSam" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="1463" y="853.4951">selects</text><polygon fill="#000000" points="1479.5,862.3516,1482.5,868.3516,1485.5,862.3516,1479.5,862.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[12caef3b8ff771d53dde20a7695a1363]
link CalypsoSam to SamResource--><path d="M1449.82,1059.709 C1444.35,1088.065 1438.44,1118.704 1434,1141.693 " fill="none" id="CalypsoSam-&gt;SamResource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1431.51,1154.6,1436.5748,1149.467,1433.7847,1142.8176,1428.7199,1147.9506,1431.51,1154.6" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1441.2147" y="1080.7701">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1424.7562" y="1144.2405">1</text><!--MD5=[b21355cbcde7593334cee019bc7e2829]
link CardSelectorBuilder to CardSelector--><path d="M845,289.551 C845,318.775 845,354.008 845,386.599 " fill="none" id="CardSelectorBuilder-&gt;CardSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="845" cy="393.851" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="845" x2="845" y1="385.851" y2="401.851"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="853" x2="837" y1="393.851" y2="393.851"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="846" y="368.4951">build</text><polygon fill="#000000" points="855,377.3516,858,383.3516,861,377.3516,855,377.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="15" x="829.1797" y="311.1091">1+</text><!--MD5=[44f01dbed034ac9d7d694563cdffaf3f]
link AbstractCardSelection to AbstractSmartCard--><path d="M789.303,795.011 C760.097,832.508 724.601,878.083 696.243,914.492 " fill="none" id="AbstractCardSelection-AbstractSmartCard" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="753" y="853.4951">selects</text><polygon fill="#000000" points="769.5,862.3516,772.5,868.3516,775.5,862.3516,769.5,862.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[dad978431145345ff157a7764f26c355]
link AbstractCardSelection to CardSelectionsService--><path d="M901.817,795.011 C921.89,820.275 944.877,849.207 966.586,876.531 " fill="none" id="AbstractCardSelection-&gt;CardSelectionsService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="974.835,886.913,974.2339,879.727,967.3694,877.5181,967.9706,884.7041,974.835,886.913" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="902.1638" y="816.456">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="961.4862" y="876.0365">1</text><!--MD5=[432488a97c897b7799b040a4c39f0bd3]
link AbstractSmartCard to CardResource_T--><path d="M649.929,1045.505 C651.41,1069.82 653.083,1097.284 654.52,1120.878 " fill="none" id="AbstractSmartCard-&gt;CardResource_T" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="655.314,1133.904,658.942,1127.672,654.5848,1121.9262,650.9568,1128.1582,655.314,1133.904" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="642.9759" y="1067.0581">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="647.3281" y="1123.0042">1</text><!--MD5=[28be347f20445bcfeadb2412543fb076]
link CardSelector to AbstractCardSelection--><path d="M845,575.229 C845,595.251 845,616.567 845,636.555 " fill="none" id="CardSelector-&gt;AbstractCardSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="845,649.809,849,643.809,845,637.809,841,643.809,845,649.809" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="837.732" y="596.0085">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="837.6391" y="639.0086">1</text><!--MD5=[2974701ccc045126a3331657366aa38c]
link InvalidatedPo to PoSelector--><path d="M179.869,488.5 C186.537,488.5 193.204,488.5 199.871,488.5 " fill="none" id="InvalidatedPo-&gt;PoSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="206.941" cy="488.5" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="198.941" x2="214.941" y1="488.5" y2="488.5"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="206.941" x2="206.941" y1="480.5" y2="496.5"/><!--MD5=[32720dbb836ab172b99df1547eeab0a1]
link PoSelectorBuilder to PoSelector--><path d="M280.202,303.759 C288.411,343.665 298.215,391.323 305.781,428.101 " fill="none" id="PoSelectorBuilder-&gt;PoSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="307.2629" cy="435.3061" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="305.6507" x2="308.875" y1="427.4702" y2="443.142"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="315.0988" x2="299.427" y1="433.694" y2="436.9182"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="296" y="368.4951">build</text><polygon fill="#000000" points="305,377.3516,308,383.3516,311,377.3516,305,377.3516" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="15" x="265.9226" y="324.5492">1+</text><!--MD5=[ed6423670dafc96d495f4f20a4a71c62]
reverse link PoSelectorBuilder to InvalidatedPo--><path d="M214.781,315.35 C189.56,361.647 160.23,415.487 141.178,450.46 " fill="none" id="PoSelectorBuilder&lt;-InvalidatedPo" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="221.095,303.759,214.7122,307.1145,215.3546,314.2969,221.7374,310.9414,221.095,303.759" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="198.5,365,201.5,359,204.5,365,198.5,365" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="194" y="381.4951">set</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="210.2521" y="324.5492">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="120.8702" y="439.5292">0..1</text><!--MD5=[2dc4fcf5fb1e2e4bbaf5fe1093796f40]
link PoSelector to PoSelection--><path d="M308.668,533.684 C303.323,558.989 296.391,591.812 289.82,622.924 " fill="none" id="PoSelector-&gt;PoSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="287.13,635.662,292.2832,630.6178,289.609,623.9209,284.4558,628.9651,287.13,635.662" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="299.9437" y="554.3824">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="281.3873" y="625.0426">1</text><!--MD5=[a1e21b3779d5d8188d89ff610069c0c3]
link PoSelection to CalypsoPo--><path d="M259.263,809.289 C255.363,843.647 250.946,882.561 247.327,914.45 " fill="none" id="PoSelection-CalypsoPo" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="257" y="853.4951">selects</text><polygon fill="#000000" points="273.5,862.3516,276.5,868.3516,279.5,862.3516,273.5,862.3516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[a71187334cf42e66c7bfc6a1e31411da]
link CalypsoPo to PoResource--><path d="M240,1045.505 C240,1077.421 240,1114.765 240,1141.657 " fill="none" id="CalypsoPo-&gt;PoResource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="240,1154.683,244,1148.683,240,1142.683,236,1148.683,240,1154.683" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="232.6172" y="1067.0581">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="232.1469" y="1144.3437">1</text><!--MD5=[7dfcb0eb3af0e994fa8264538ab2163e]
reverse link CardSelectorBuilder to PoSelectorBuilder--><path d="M641.733,224 C569.4,224 489.115,224 421.227,224 " fill="none" id="CardSelectorBuilder&lt;-PoSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="641.906,217,661.906,224,641.906,231,641.906,217" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="518.5" y="217.4951">extends</text><!--MD5=[5bf842664a8f58fdf114e1f1fbc5c43e]
reverse link CardSelector to PoSelector--><path d="M710.416,488.5 C620.431,488.5 503.828,488.5 421.176,488.5 " fill="none" id="CardSelector&lt;-PoSelector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="710.641,481.5,730.641,488.5,710.641,495.5,710.641,481.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="553" y="481.9951">extends</text><!--MD5=[ec80e678522f03f57500e1af2b04afe3]
reverse link AbstractCardSelection to PoSelection--><path d="M658.576,722.5 C581.77,722.5 493.91,722.5 421.091,722.5 " fill="none" id="AbstractCardSelection&lt;-PoSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="658.883,715.5,678.883,722.5,658.883,729.5,658.883,715.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="527" y="715.9951">extends</text><!--MD5=[3459e440d66c5c3412820edeae04ed60]
reverse link AbstractSmartCard to CalypsoPo--><path d="M456.645,980 C435.879,980 414.923,980 394.649,980 " fill="none" id="AbstractSmartCard&lt;-CalypsoPo" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="456.888,973,476.888,980,456.888,987,456.888,973" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="412.75" y="973.4951">extends</text><!--MD5=[af37fe449ab040085c02999e102ae6c9]
reverse link CardResource_T to PoResource--><path d="M479.733,1179 C434.789,1179 387.907,1179 347.645,1179 " fill="none" id="CardResource_T&lt;-PoResource" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="479.872,1172,499.872,1179,479.872,1185.9999,479.872,1172" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="365.75" y="1172.4951">«bind»T::CalypsoPo</text><!--MD5=[4b6fa180d49855b97e170ebc706dd83e]
reverse link CardSelectorBuilder to SamSelectorBuilder--><path d="M1048.29,224 C1130.7,224 1224.47,224 1301.78,224 " fill="none" id="CardSelectorBuilder&lt;-SamSelectorBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1048.15,231,1028.15,224,1048.15,217,1048.15,231" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1142" y="217.4951">extends</text><!--MD5=[767b7c5783c61e407e58011f2f5f4867]
reverse link CardSelector to SamSelector--><path d="M979.069,488.5 C1089.14,488.5 1243.24,488.5 1346.86,488.5 " fill="none" id="CardSelector&lt;-SamSelector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="979.05,495.5,959.05,488.5,979.05,481.5,979.05,495.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1130" y="481.9951">extends</text><!--MD5=[64aa8b1b2afac34a54b93855b61de526]
reverse link AbstractCardSelection to SamSelection--><path d="M1031.4,722.5 C1118.03,722.5 1219.91,722.5 1302.48,722.5 " fill="none" id="AbstractCardSelection&lt;-SamSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1031.16,729.5,1011.16,722.5,1031.16,715.5,1031.16,729.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1133.75" y="715.9951">extends</text><!--MD5=[771983f6ec348c92883b1dfa27463c85]
reverse link AbstractSmartCard to CalypsoSam--><path d="M757.331,904.199 C789.128,886.49 824.75,870.142 860,861 C903.324,849.764 1009.08,822.028 1262,887 C1276.17,890.641 1290.58,895.231 1304.85,900.41 " fill="none" id="AbstractSmartCard&lt;-CalypsoSam" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="760.408,910.505,739.587,914.438,753.411,898.379,760.408,910.505" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="861" y="853.4951">extends</text><!--MD5=[63aefe5f8cf91747d54f88bd0d4401fe]
reverse link CardResource_T to SamResource--><path d="M836.795,1179 C984.085,1179 1188.45,1179 1313.99,1179 " fill="none" id="CardResource_T&lt;-SamResource" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="836.405,1185.9999,816.405,1179,836.405,1172,836.405,1185.9999" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="1001.5" y="1172.4951">«bind»T::CalypsoSam</text><!--MD5=[d75c925cd51230ac06194d0c170fbe3a]
@startuml
skinparam ClassBorderColor #D4AC0D
skinparam stereotypeABorderColor #A9DCDF
skinparam stereotypeIBorderColor #B4A7E5
skinparam stereotypeCBorderColor #ADD1B2
skinparam stereotypeEBorderColor #EB93DF
skinparam shadowing false

skinparam StateBorderColor #D4AC0D
skinparam ActivityBorderColor #D4AC0D

skinparam ClassBackgroundColor<<red>> #FDEDEC
skinparam ClassBorderColor<<red>> #E74C3C
hide <<red>> stereotype
skinparam ClassBackgroundColor<<purple>> #F4ECF7
skinparam ClassBorderColor<<purple>> #8E44AD
hide <<purple>> stereotype
skinparam ClassBackgroundColor<<blue>> #EBF5FB
skinparam ClassBorderColor<<blue>> #3498DB
hide <<blue>> stereotype
skinparam ClassBackgroundColor<<green>> #EAFAF1
skinparam ClassBorderColor<<green>> #2ECC71
hide <<green>> stereotype

skinparam ClassBackgroundColor<<orange>> #FDF2E9
skinparam ClassBorderColor<<orange>> #E67E22
hide <<orange>> stereotype

skinparam ClassBackgroundColor<<grey>> #EAECEE
skinparam ClassBorderColor<<grey>> #2C3E50
hide <<grey>> stereotype

package org.eclipse.keyple #FFFFFF {
  package "calypso.transaction" as transaction_sam #FFFFFF {
+class "<b>final</b> SamSelector" as SamSelector {
  -<b>final</b> SamRevision targetSamRevision
  -<b>final</b> byte[] unlockData
  -SamSelector(SamSelectorBuilder builder)
  +{static} SamSelectorBuilder builder()
}

+class SamSelectorBuilder {
  +SamSelectorBuilder()
  +SamSelectorBuilder cardProtocol(String cardProtocol)
  +SamSelectorBuilder atrFilter(AtrFilter atrFilter)
  +SamSelectorBuilder aidSelector(AidSelector aidSelector)

  +SamSelectorBuilder samRevision(SamRevision samRevision)
  +SamSelectorBuilder serialNumber(String serialNumber)
  +SamSelectorBuilder samIdentifier(SamIdentifier samIdentifier)
  +SamSelectorBuilder samUnlock(byte[] lock)

  +SamSelector build()
}

+class SamSelection {
  +SamSelection(SamSelector samSelector)

  #CalypsoSam parse(SelectionResponse selectionResponse)
}

+class "<b>final</b> CardResource<CalypsoSam>" as SamResource {
}

+class "<b>final</b> CalypsoSam" as CalypsoSam {
  ~CalypsoSam(<color:red>CardSelectionResponse</color> samSelectionResponse)

  +SamRevision getSamRevision()
  +byte[] getSerialNumber()
  +byte getPlatform()
  +byte getApplicationType()
  +byte getApplicationSubType()
  +byte getSoftwareIssuer()
}

    SamSelector +-up- "1+" SamSelectorBuilder : build <
    SamSelection "1" o-up- "1" SamSelector
    SamSelection -down- CalypsoSam : selects >
    SamResource "1" *-up- "1" CalypsoSam
  }

  package core.card.selection #FFFFFF {
+class CardSelector {
  -String[0..1] cardProtocol
  -AtrFilter[0..1] atrFilter
  -AidSelector[0..1] aidSelector
  #CardSelector(CardSelectorBuilder builder)
  +{static}CardSelectorBuilder builder()

  +String getCardProtocol()
  +AtrFilter getAtrFilter()
  +AidSelector getAidSelector()
}
+class CardSelectorBuilder {
  #CardSelectorBuilder()
  +CardSelector build()

  +CardSelectorBuilder cardProtocol(String seProtocol)
  +CardSelectorBuilder atrFilter(CardSelector.AtrFilter atrFilter)
  +CardSelectorBuilder aidSelector(CardSelector.AidSelector aidSelector)
}

      CardSelector +-up- "1+" CardSelectorBuilder : build <


+class "<b>final</b> CardSelectionsService" as CardSelectionsService {
  +CardSelectionsService(MultiSelectionProcessing multiMode = FIRST_MATCH)

  +int prepareSelection(AbstractCardSelection cardSelection)
  +<b>final</b> prepareReleaseCardChannel()

  +CardSelectionsResult processExplicitSelections(Reader reader)

  +AbstractDefaultSelectionsRequest getDefaultSelectionsRequest()
  +CardSelectionsResult processDefaultSelectionsResponse(
    AbstractDefaultSelectionsResponse selectionResponse)
}
+abstract AbstractCardSelection {
  +AbstractCardSelection(CardSelector selector)

  #<b>final</b> addApduRequest(ApduRequest apduRequest)
  ~<b>final</b> CardSelectionRequest getCardSelectionRequest()
  {abstract} #AbstractSmartCard parse(CardResponse selectionResponse)

  +CardSelector getCardSelector()
}

+abstract AbstractSmartCard {
  #AbstractSmartCard(CardSelectionResponse selectionResponse)

  +boolean hasAtr()
  +byte[] getAtrBytes()
  +boolean hasFci()
  +byte[] getFciBytes()
}
+class "<b>final</b> CardResource<T extends AbstractSmartCard>" as CardResource_T {
  #CardResource(Reader reader, T card)
  +Reader getReader()
  +T getSmartCard()
}

      AbstractCardSelection -down- AbstractSmartCard : selects >
      CardSelectionsService "1" o-up- "*" AbstractCardSelection
      CardResource_T "1" *-up- "1" AbstractSmartCard

    AbstractCardSelection "1" o-up- "1" CardSelector
  }

  package "calypso.transaction" as transaction_po #FFFFFF {
+enum InvalidatedPo {
  REJECT
  ACCEPT
}
+class CalypsoPo {
  ~CalypsoPo(<color:red>CardSelectionResponse</color> poSelectionResponse)
  +<b>final</b> String getDfName()
  +<b>final</b> String getApplicationSerialNumber()
  +<b>final</b> String getAtr()
  +<b>final</b> String getStartupInfo()
  +<b>final</b> PoRevision getRevision()
}
+class "<b>final</b> PoSelector" as PoSelector {
  -InvalidatedPo invalidatedPo = REJECT
  -PoSelector(PoSelectorBuilder builder)
  +{static} PoSelectorBuilder builder()
}

+class PoSelectorBuilder {
  -PoSelectorBuilder()
  +PoSelector build()

  +PoSelectorBuilder cardProtocol(String cardProtocol)
  +PoSelectorBuilder atrFilter(AtrFilter atrFilter)
  +PoSelectorBuilder aidSelector(AidSelector aidSelector)

  +PoSelectorBuilder invalidatedPo(InvalidatedPo invalidatedPo)
}


+class PoSelection {
  +PoSelection(PoSelector poSelector)

  +<b>final</b> prepareSelectFile(byte[] path)
  +<b>final</b> prepareSelectFile(shord lid)
  +<b>final</b> prepareSelectFile(SelectControl selectControl)

  +<b>final</b> prepareReadRecordFile(byte sfi, int recordNumber)

  #CalypsoPo parse(SelectionResponse selectionResponse)
}

+class "<b>final</b> CardResource<CalypsoPo>" as PoResource {
}

    InvalidatedPo -left-+ PoSelector
    PoSelector +-up- "1+" PoSelectorBuilder : build <
    InvalidatedPo "0..1" -down-o "1" PoSelectorBuilder : set >

    PoSelection "1" o-up- "1" PoSelector
    PoSelection -down- CalypsoPo : selects >
    PoResource "1" *-up- "1" CalypsoPo
  }

  PoSelectorBuilder -left-|> CardSelectorBuilder : extends
  PoSelector -left-|> CardSelector : extends
  PoSelection -left-|> AbstractCardSelection : extends
  CalypsoPo -left-|> AbstractSmartCard : extends
  PoResource .left.|> CardResource_T : <<bind>>T::CalypsoPo

  CardSelectorBuilder <|-right- SamSelectorBuilder : extends
  CardSelector <|-right- SamSelector : extends
  AbstractCardSelection <|-right- SamSelection : extends
  AbstractSmartCard <|-right- CalypsoSam : extends
  CardResource_T <|.right. SamResource : <<bind>>T::CalypsoSam
}
@enduml

PlantUML version 1.2020.09(Sun May 10 14:51:06 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.64
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>