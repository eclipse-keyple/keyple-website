<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3917.5px" preserveAspectRatio="none" style="width:2010px;height:3917px;" version="1.1" viewBox="0 0 2010 3917" width="2010px" zoomAndPan="magnify"><defs><filter height="1" id="b1310j62tb2zf40" width="1" x="0" y="0"><feFlood flood-color="#ADD8E6" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="45" lengthAdjust="spacingAndGlyphs" textLength="992.5" x="508.125" y="76.7139">Keyple Distributed - Async Node API (04/11/2020)</text><rect fill="#ADD8E6" height="166.7578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="166.25" y="374.6484"/><rect fill="#ADD8E6" height="330.1367" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="166.25" y="1205.1953"/><rect fill="#ADD8E6" height="35" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="166.25" y="2851.1523"/><rect fill="#ADD8E6" height="199.2578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="166.25" y="2941.1523"/><rect fill="#ADD8E6" height="22.5" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="166.25" y="3619.8047"/><rect fill="#FFC0CB" height="110.8789" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="601.25" y="430.5273"/><rect fill="#FFC0CB" height="918.0469" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="601.25" y="617.2852"/><rect fill="#FFFFE0" height="219.2578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="613.75" y="1281.0742"/><rect fill="#FFC0CB" height="219.2578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="601.25" y="2666.8945"/><rect fill="#FFC0CB" height="110.8789" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="601.25" y="3029.5313"/><rect fill="#FFC0CB" height="292.6367" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="601.25" y="3327.168"/><rect fill="#FFC0CB" height="75.8789" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1208.75" y="541.4063"/><rect fill="#FFC0CB" height="1131.5625" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1208.75" y="1535.332"/><rect fill="#FFFFE0" height="219.2578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1221.25" y="2412.6367"/><rect fill="#FFC0CB" height="186.7578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1208.75" y="3140.4102"/><rect fill="#ADD8E6" height="330.1367" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1808.75" y="2336.7578"/><rect fill="#ADD8E6" height="35" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1808.75" y="3216.2891"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 5.0,5.0;" x1="177.5" x2="177.5" y1="349.6484" y2="3664.8047"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 5.0,5.0;" x1="612.5" x2="612.5" y1="349.6484" y2="3664.8047"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 5.0,5.0;" x1="1221.25" x2="1221.25" y1="349.6484" y2="3664.8047"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 5.0,5.0;" x1="1821.25" x2="1821.25" y1="349.6484" y2="3664.8047"/><rect fill="#ADD8E6" height="123.0469" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 3.75;" width="332.5" x="12.5" y="224.1016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="180" x="88.75" y="277.9346">nodeClient:</text><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="297.5" x="30" y="321.958">AsyncNodeClient</text><rect fill="#ADD8E6" height="123.0469" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 3.75;" width="332.5" x="12.5" y="3662.3047"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="180" x="88.75" y="3716.1377">nodeClient:</text><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="297.5" x="30" y="3760.1611">AsyncNodeClient</text><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="310" x="451.25" y="297.9346">userEndpointClient:</text><text fill="#000000" filter="url(#b1310j62tb2zf40)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="362.5" x="425" y="341.958">AsyncEndpointClient</text><ellipse cx="613.75" cy="129.1016" fill="#FEFECE" rx="20" ry="20" style="stroke: #A80036; stroke-width: 5.0;"/><path d="M613.75,149.1016 L613.75,216.6016 M581.25,169.1016 L646.25,169.1016 M613.75,216.6016 L581.25,254.1016 M613.75,216.6016 L646.25,254.1016 " fill="none" style="stroke: #A80036; stroke-width: 5.0;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="310" x="451.25" y="3698.6377">userEndpointClient:</text><text fill="#000000" filter="url(#b1310j62tb2zf40)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="362.5" x="425" y="3742.6611">AsyncEndpointClient</text><ellipse cx="613.75" cy="3775.3516" fill="#FEFECE" rx="20" ry="20" style="stroke: #A80036; stroke-width: 5.0;"/><path d="M613.75,3795.3516 L613.75,3862.8516 M581.25,3815.3516 L646.25,3815.3516 M613.75,3862.8516 L581.25,3900.3516 M613.75,3862.8516 L646.25,3900.3516 " fill="none" style="stroke: #A80036; stroke-width: 5.0;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="325" x="1051.25" y="297.9346">userEndpointServer:</text><text fill="#000000" filter="url(#b1310j62tb2zf40)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="380" x="1023.75" y="341.958">AsyncEndpointServer</text><ellipse cx="1221.25" cy="129.1016" fill="#FEFECE" rx="20" ry="20" style="stroke: #A80036; stroke-width: 5.0;"/><path d="M1221.25,149.1016 L1221.25,216.6016 M1188.75,169.1016 L1253.75,169.1016 M1221.25,216.6016 L1188.75,254.1016 M1221.25,216.6016 L1253.75,254.1016 " fill="none" style="stroke: #A80036; stroke-width: 5.0;"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="325" x="1051.25" y="3698.6377">userEndpointServer:</text><text fill="#000000" filter="url(#b1310j62tb2zf40)" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="380" x="1023.75" y="3742.6611">AsyncEndpointServer</text><ellipse cx="1221.25" cy="3775.3516" fill="#FEFECE" rx="20" ry="20" style="stroke: #A80036; stroke-width: 5.0;"/><path d="M1221.25,3795.3516 L1221.25,3862.8516 M1188.75,3815.3516 L1253.75,3815.3516 M1221.25,3862.8516 L1188.75,3900.3516 M1221.25,3862.8516 L1253.75,3900.3516 " fill="none" style="stroke: #A80036; stroke-width: 5.0;"/><rect fill="#ADD8E6" height="123.0469" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 3.75;" width="350" x="1646.25" y="224.1016"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="195" x="1723.75" y="277.9346">nodeServer:</text><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="315" x="1663.75" y="321.958">AsyncNodeServer</text><rect fill="#ADD8E6" height="123.0469" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 3.75;" width="350" x="1646.25" y="3662.3047"/><text fill="#000000" font-family="sans-serif" font-size="35" lengthAdjust="spacingAndGlyphs" textLength="195" x="1723.75" y="3716.1377">nodeServer:</text><text fill="#000000" font-family="sans-serif" font-size="35" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="315" x="1663.75" y="3760.1611">AsyncNodeServer</text><rect fill="#ADD8E6" height="166.7578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="166.25" y="374.6484"/><rect fill="#ADD8E6" height="330.1367" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="166.25" y="1205.1953"/><rect fill="#ADD8E6" height="35" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="166.25" y="2851.1523"/><rect fill="#ADD8E6" height="199.2578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="166.25" y="2941.1523"/><rect fill="#ADD8E6" height="22.5" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="166.25" y="3619.8047"/><rect fill="#FFC0CB" height="110.8789" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="601.25" y="430.5273"/><rect fill="#FFC0CB" height="918.0469" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="601.25" y="617.2852"/><rect fill="#FFFFE0" height="219.2578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="613.75" y="1281.0742"/><rect fill="#FFC0CB" height="219.2578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="601.25" y="2666.8945"/><rect fill="#FFC0CB" height="110.8789" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="601.25" y="3029.5313"/><rect fill="#FFC0CB" height="292.6367" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="601.25" y="3327.168"/><rect fill="#FFC0CB" height="75.8789" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1208.75" y="541.4063"/><rect fill="#FFC0CB" height="1131.5625" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1208.75" y="1535.332"/><rect fill="#FFFFE0" height="219.2578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1221.25" y="2412.6367"/><rect fill="#FFC0CB" height="186.7578" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1208.75" y="3140.4102"/><rect fill="#ADD8E6" height="330.1367" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1808.75" y="2336.7578"/><rect fill="#ADD8E6" height="35" style="stroke: #A80036; stroke-width: 2.5;" width="25" x="1808.75" y="3216.2891"/><polygon fill="#A80036" points="571.25,420.5273,596.25,430.5273,571.25,440.5273,581.25,430.5273" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="191.25" x2="586.25" y1="430.5273" y2="430.5273"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="207.5" x="208.75" y="418.3862">openSession (</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="416.25" y="418.3862">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="553.75" y="418.3862">)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="1216.25" x2="1191.25" y1="506.4063" y2="496.4063"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1216.25" x2="1191.25" y1="506.4063" y2="516.4063"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="626.25" x2="1218.75" y1="506.4063" y2="506.4063"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="450" x="643.75" y="494.2651">send asynchronous handshake</text><polygon fill="#A80036" points="206.25,531.4063,181.25,541.4063,206.25,551.4063,196.25,541.4063" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="191.25" x2="611.25" y1="541.4063" y2="541.4063"/><polygon fill="#A80036" points="653.75,607.2852,628.75,617.2852,653.75,627.2852,643.75,617.2852" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="638.75" x2="1218.75" y1="617.2852" y2="617.2852"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="117.5" x="668.75" y="605.144">Session</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="626.25" x2="731.25" y1="693.1641" y2="693.1641"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="731.25" x2="731.25" y1="693.1641" y2="725.6641"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="628.75" x2="731.25" y1="725.6641" y2="725.6641"/><polygon fill="#A80036" points="653.75,715.6641,628.75,725.6641,653.75,735.6641,643.75,725.6641" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="245" x="643.75" y="681.0229">registerSession (</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="888.75" y="681.0229">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="147.5" x="1026.25" y="681.0229">, Session)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="626.25" x2="731.25" y1="801.543" y2="801.543"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="731.25" x2="731.25" y1="801.543" y2="834.043"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="628.75" x2="731.25" y1="834.043" y2="834.043"/><polygon fill="#A80036" points="653.75,824.043,628.75,834.043,653.75,844.043,643.75,834.043" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="450" x="643.75" y="789.4019">[...]ClientUtils.getAsyncNode ()</text><path d="M320,879.043 L320,1124.043 A12.5,12.5 0 0 0 332.5,1136.543 L892.5,1136.543 A12.5,12.5 0 0 0 905,1124.043 L905,891.543 L880,866.543 L332.5,866.543 A12.5,12.5 0 0 0 320,879.043 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.5;"/><path d="M880,866.543 L880,885.293 A6.25,6.25 0 0 0 886.25,891.543 L905,891.543 L880,866.543 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="505" x="335" y="912.7808">To retrieve the node it is necessary</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="532.5" x="335" y="953.6597">to use the utility class corresponding</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="382.5" x="335" y="994.5386">to the client configuration :</text><ellipse cx="348.75" cy="1023.8086" fill="#000000" rx="6.25" ry="6.25" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="207.5" x="367.5" y="1035.4175">LocalService</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="147.5" x="575" y="1035.4175">ClientUtils</text><ellipse cx="348.75" cy="1064.6875" fill="#000000" rx="6.25" ry="6.25" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="225" x="367.5" y="1076.2964">RemotePlugin</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="147.5" x="592.5" y="1076.2964">ClientUtils</text><ellipse cx="348.75" cy="1105.5664" fill="#000000" rx="6.25" ry="6.25" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="297.5" x="367.5" y="1117.1753">PoolRemotePlugin</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="147.5" x="665" y="1117.1753">ClientUtils</text><polygon fill="#A80036" points="218.75,1195.1953,193.75,1205.1953,218.75,1215.1953,208.75,1205.1953" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="203.75" x2="598.75" y1="1205.1953" y2="1205.1953"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="132.5" x="233.75" y="1193.0542">onOpen (</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="366.25" y="1193.0542">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="503.75" y="1193.0542">)</text><polygon fill="#A80036" points="583.75,1271.0742,608.75,1281.0742,583.75,1291.0742,593.75,1281.0742" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="191.25" x2="598.75" y1="1281.0742" y2="1281.0742"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="222.5" x="208.75" y="1268.9331">sendMessage (</text><text fill="#FF0000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="431.25" y="1268.9331">dtoA</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="498.75" y="1268.9331">)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="638.75" x2="743.75" y1="1356.9531" y2="1356.9531"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="743.75" x2="743.75" y1="1356.9531" y2="1389.4531"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="641.25" x2="743.75" y1="1389.4531" y2="1389.4531"/><polygon fill="#A80036" points="666.25,1379.4531,641.25,1389.4531,666.25,1399.4531,656.25,1389.4531" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="205" x="656.25" y="1344.812">findSesssion (</text><text fill="#FF0000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="861.25" y="1344.812">dtoA</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="217.5" x="928.75" y="1344.812">.getSessionId()</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1146.25" y="1344.812">)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="1216.25" x2="1191.25" y1="1465.332" y2="1455.332"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1216.25" x2="1191.25" y1="1465.332" y2="1475.332"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="638.75" x2="1218.75" y1="1465.332" y2="1465.332"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="445" x="656.25" y="1453.1909">send asynchronous message (</text><text fill="#FF0000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="1101.25" y="1453.1909">dtoA</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1168.75" y="1453.1909">)</text><polygon fill="#A80036" points="218.75,1490.332,193.75,1500.332,218.75,1510.332,208.75,1500.332" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="203.75" x2="598.75" y1="1500.332" y2="1500.332"/><polygon fill="#A80036" points="583.75,1525.332,608.75,1535.332,583.75,1545.332,593.75,1535.332" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="178.75" x2="598.75" y1="1535.332" y2="1535.332"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1233.75" x2="1338.75" y1="1611.2109" y2="1611.2109"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1338.75" x2="1338.75" y1="1611.2109" y2="1643.7109"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1236.25" x2="1338.75" y1="1643.7109" y2="1643.7109"/><polygon fill="#A80036" points="1261.25,1633.7109,1236.25,1643.7109,1261.25,1653.7109,1251.25,1643.7109" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="245" x="1251.25" y="1599.0698">registerSession (</text><text fill="#FF0000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="1496.25" y="1599.0698">dtoA</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="217.5" x="1563.75" y="1599.0698">.getSessionId()</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1781.25" y="1599.0698">)</text><path d="M887.5,1688.7109 L887.5,1851.2109 A12.5,12.5 0 0 0 900,1863.7109 L1542.5,1863.7109 A12.5,12.5 0 0 0 1555,1851.2109 L1555,1701.2109 L1530,1676.2109 L900,1676.2109 A12.5,12.5 0 0 0 887.5,1688.7109 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.5;"/><path d="M1530,1676.2109 L1530,1694.9609 A6.25,6.25 0 0 0 1536.25,1701.2109 L1555,1701.2109 L1530,1676.2109 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="505" x="902.5" y="1722.4487">It is necessary to identify the client</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="115" x="902.5" y="1763.3276">via the "</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="1017.5" y="1763.3276">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="245" x="1155" y="1763.3276">" field in the DTO</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="615" x="902.5" y="1804.2065">in order to be able to reply a new message</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="210" x="902.5" y="1845.0854">at a later date.</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="1233.75" x2="1338.75" y1="1933.1055" y2="1933.1055"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1338.75" x2="1338.75" y1="1933.1055" y2="1965.6055"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1236.25" x2="1338.75" y1="1965.6055" y2="1965.6055"/><polygon fill="#A80036" points="1261.25,1955.6055,1236.25,1965.6055,1261.25,1975.6055,1251.25,1965.6055" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="457.5" x="1251.25" y="1920.9644">[...]ServerUtils.getAsyncNode ()</text><path d="M927.5,2010.6055 L927.5,2255.6055 A12.5,12.5 0 0 0 940,2268.1055 L1500,2268.1055 A12.5,12.5 0 0 0 1512.5,2255.6055 L1512.5,2023.1055 L1487.5,1998.1055 L940,1998.1055 A12.5,12.5 0 0 0 927.5,2010.6055 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.5;"/><path d="M1487.5,1998.1055 L1487.5,2016.8555 A6.25,6.25 0 0 0 1493.75,2023.1055 L1512.5,2023.1055 L1487.5,1998.1055 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="507.5" x="942.5" y="2044.3433">To access the node it is necessary</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="532.5" x="942.5" y="2085.2222">to use the utility class corresponding</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="390" x="942.5" y="2126.1011">to the server configuration :</text><ellipse cx="956.25" cy="2155.3711" fill="#000000" rx="6.25" ry="6.25" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="225" x="975" y="2166.98">RemotePlugin</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="155" x="1200" y="2166.98">ServerUtils</text><ellipse cx="956.25" cy="2196.25" fill="#000000" rx="6.25" ry="6.25" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="207.5" x="975" y="2207.8589">LocalService</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="155" x="1182.5" y="2207.8589">ServerUtils</text><ellipse cx="956.25" cy="2237.1289" fill="#000000" rx="6.25" ry="6.25" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="280" x="975" y="2248.7378">PoolLocalService</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="155" x="1255" y="2248.7378">ServerUtils</text><polygon fill="#A80036" points="1778.75,2326.7578,1803.75,2336.7578,1778.75,2346.7578,1788.75,2336.7578" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1233.75" x2="1793.75" y1="2336.7578" y2="2336.7578"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="187.5" x="1251.25" y="2324.6167">onMessage (</text><text fill="#FF0000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="1438.75" y="2324.6167">dtoA</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1506.25" y="2324.6167">)</text><polygon fill="#A80036" points="1273.75,2402.6367,1248.75,2412.6367,1273.75,2422.6367,1263.75,2412.6367" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1258.75" x2="1806.25" y1="2412.6367" y2="2412.6367"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="222.5" x="1288.75" y="2400.4956">sendMessage (</text><text fill="#0000FF" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="1511.25" y="2400.4956">dtoB</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1578.75" y="2400.4956">)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="1246.25" x2="1351.25" y1="2488.5156" y2="2488.5156"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1351.25" x2="1351.25" y1="2488.5156" y2="2521.0156"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1248.75" x2="1351.25" y1="2521.0156" y2="2521.0156"/><polygon fill="#A80036" points="1273.75,2511.0156,1248.75,2521.0156,1273.75,2531.0156,1263.75,2521.0156" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="187.5" x="1263.75" y="2476.3745">findSession (</text><text fill="#0000FF" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="1451.25" y="2476.3745">dtoB</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="217.5" x="1518.75" y="2476.3745">.getSessionId()</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1736.25" y="2476.3745">)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="613.75" x2="638.75" y1="2596.8945" y2="2586.8945"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="613.75" x2="638.75" y1="2596.8945" y2="2606.8945"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="613.75" x2="1218.75" y1="2596.8945" y2="2596.8945"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="445" x="656.25" y="2584.7534">send asynchronous message (</text><text fill="#0000FF" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="1101.25" y="2584.7534">dtoB</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1168.75" y="2584.7534">)</text><polygon fill="#A80036" points="1778.75,2621.8945,1803.75,2631.8945,1778.75,2641.8945,1788.75,2631.8945" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="1233.75" x2="1793.75" y1="2631.8945" y2="2631.8945"/><polygon fill="#A80036" points="1248.75,2656.8945,1223.75,2666.8945,1248.75,2676.8945,1238.75,2666.8945" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="1233.75" x2="1818.75" y1="2666.8945" y2="2666.8945"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="626.25" x2="731.25" y1="2742.7734" y2="2742.7734"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="731.25" x2="731.25" y1="2742.7734" y2="2775.2734"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="628.75" x2="731.25" y1="2775.2734" y2="2775.2734"/><polygon fill="#A80036" points="653.75,2765.2734,628.75,2775.2734,653.75,2785.2734,643.75,2775.2734" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="450" x="643.75" y="2730.6323">[...]ClientUtils.getAsyncNode ()</text><polygon fill="#A80036" points="218.75,2841.1523,193.75,2851.1523,218.75,2861.1523,208.75,2851.1523" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="203.75" x2="598.75" y1="2851.1523" y2="2851.1523"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="187.5" x="233.75" y="2839.0112">onMessage (</text><text fill="#0000FF" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="67.5" x="421.25" y="2839.0112">dtoB</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="488.75" y="2839.0112">)</text><polygon fill="#A80036" points="583.75,2876.1523,608.75,2886.1523,583.75,2896.1523,593.75,2886.1523" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="178.75" x2="598.75" y1="2886.1523" y2="2886.1523"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="178.75" x2="296.25" y1="2908.6523" y2="2908.6523"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="296.25" x2="296.25" y1="2908.6523" y2="2941.1523"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="193.75" x2="296.25" y1="2941.1523" y2="2941.1523"/><polygon fill="#A80036" points="218.75,2931.1523,193.75,2941.1523,218.75,2951.1523,208.75,2941.1523" style="stroke: #A80036; stroke-width: 2.5;"/><polygon fill="#A80036" points="571.25,3019.5313,596.25,3029.5313,571.25,3039.5313,581.25,3029.5313" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="191.25" x2="586.25" y1="3029.5313" y2="3029.5313"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="215" x="208.75" y="3017.3901">closeSession (</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="423.75" y="3017.3901">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="561.25" y="3017.3901">)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="1216.25" x2="1191.25" y1="3105.4102" y2="3095.4102"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1216.25" x2="1191.25" y1="3105.4102" y2="3115.4102"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="626.25" x2="1218.75" y1="3105.4102" y2="3105.4102"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="487.5" x="643.75" y="3093.269">send asynchronous closeSession</text><polygon fill="#A80036" points="206.25,3130.4102,181.25,3140.4102,206.25,3150.4102,196.25,3140.4102" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="191.25" x2="611.25" y1="3140.4102" y2="3140.4102"/><polygon fill="#A80036" points="1778.75,3206.2891,1803.75,3216.2891,1778.75,3226.2891,1788.75,3216.2891" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="1233.75" x2="1793.75" y1="3216.2891" y2="3216.2891"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="1251.25" y="3204.1479">onClose (</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="1388.75" y="3204.1479">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="1526.25" y="3204.1479">)</text><polygon fill="#A80036" points="1261.25,3241.2891,1236.25,3251.2891,1261.25,3261.2891,1251.25,3251.2891" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="1246.25" x2="1818.75" y1="3251.2891" y2="3251.2891"/><polygon fill="#A80036" points="653.75,3317.168,628.75,3327.168,653.75,3337.168,643.75,3327.168" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5; stroke-dasharray: 2.0,2.0;" x1="638.75" x2="1218.75" y1="3327.168" y2="3327.168"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="35" x="668.75" y="3315.0269">ok</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="626.25" x2="731.25" y1="3403.0469" y2="3403.0469"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="731.25" x2="731.25" y1="3403.0469" y2="3435.5469"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="628.75" x2="731.25" y1="3435.5469" y2="3435.5469"/><polygon fill="#A80036" points="653.75,3425.5469,628.75,3435.5469,653.75,3445.5469,643.75,3435.5469" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="407.5" x="643.75" y="3390.9058">unregisterSession (Session)</text><line style="stroke: #A80036; stroke-width: 2.5;" x1="626.25" x2="731.25" y1="3511.4258" y2="3511.4258"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="731.25" x2="731.25" y1="3511.4258" y2="3543.9258"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="628.75" x2="731.25" y1="3543.9258" y2="3543.9258"/><polygon fill="#A80036" points="653.75,3533.9258,628.75,3543.9258,653.75,3553.9258,643.75,3543.9258" style="stroke: #A80036; stroke-width: 2.5;"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="450" x="643.75" y="3499.2847">[...]ClientUtils.getAsyncNode ()</text><polygon fill="#A80036" points="218.75,3609.8047,193.75,3619.8047,218.75,3629.8047,208.75,3619.8047" style="stroke: #A80036; stroke-width: 2.5;"/><line style="stroke: #A80036; stroke-width: 2.5;" x1="203.75" x2="611.25" y1="3619.8047" y2="3619.8047"/><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="233.75" y="3607.6636">onClose (</text><text fill="#008000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="137.5" x="371.25" y="3607.6636">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="32.5" lengthAdjust="spacingAndGlyphs" textLength="10" x="508.75" y="3607.6636">)</text><!--MD5=[904d476a4da34b5b58370e6f44d4bd3e]
@startuml

title
    Keyple Distributed - Async Node API (04/11/2020)
end title

' == THEME ==

skinparam Shadowing false
skinparam RoundCorner 10

' == CONTENT ==

participant "nodeClient:\n**AsyncNodeClient**" as nodeClient #LightBlue
actor "userEndpointClient:\n**<back:LightBlue>AsyncEndpointClient**" as userEndpointClient

actor "userEndpointServer:\n**<back:LightBlue>AsyncEndpointServer**" as userEndpointServer
participant "nodeServer:\n**AsyncNodeServer**" as nodeServer #LightBlue

activate nodeClient #LightBlue
nodeClient -> userEndpointClient : openSession (<color:green>sessionId</color>)
activate userEndpointClient #Pink
userEndpointClient ->> userEndpointServer : send asynchronous handshake
return
deactivate nodeClient

activate userEndpointServer #Pink
userEndpointServer - -> userEndpointClient : Session
deactivate userEndpointServer
activate userEndpointClient #Pink
userEndpointClient -> userEndpointClient : registerSession (<color:green>sessionId</color>, Session)
userEndpointClient -> userEndpointClient : [...]ClientUtils.getAsyncNode ()
note over userEndpointClient
    To retrieve the node it is necessary
    to use the utility class corresponding
    to the client configuration :
    * **LocalService**ClientUtils
    * **RemotePlugin**ClientUtils
    * **PoolRemotePlugin**ClientUtils
end note
userEndpointClient -> nodeClient : onOpen (<color:green>sessionId</color>)
activate nodeClient #LightBlue
nodeClient -> userEndpointClient : sendMessage (<color:red>dtoA</color>)
activate userEndpointClient #LightYellow
userEndpointClient -> userEndpointClient : findSesssion (<color:red>dtoA</color><color:green>.getSessionId()</color>)
userEndpointClient ->> userEndpointServer : send asynchronous message (<color:red>dtoA</color>)
return
return
deactivate userEndpointClient

activate userEndpointServer #Pink
userEndpointServer -> userEndpointServer : registerSession (<color:red>dtoA</color><color:green>.getSessionId()</color>)
note over userEndpointServer
    It is necessary to identify the client
    via the "<color:green>sessionId</color>" field in the DTO
    in order to be able to reply a new message
    at a later date.
end note
userEndpointServer -> userEndpointServer : [...]ServerUtils.getAsyncNode ()
note over userEndpointServer
    To access the node it is necessary
    to use the utility class corresponding
    to the server configuration :
    * **RemotePlugin**ServerUtils
    * **LocalService**ServerUtils
    * **PoolLocalService**ServerUtils
end note
userEndpointServer -> nodeServer : onMessage (<color:red>dtoA</color>)
activate nodeServer #LightBlue
nodeServer -> userEndpointServer : sendMessage (<color:blue>dtoB</color>)
activate userEndpointServer #LightYellow
userEndpointServer -> userEndpointServer : findSession (<color:blue>dtoB</color><color:green>.getSessionId()</color>)
userEndpointServer ->> userEndpointClient : send asynchronous message (<color:blue>dtoB</color>)
return
return
deactivate userEndpointServer

activate userEndpointClient #Pink
userEndpointClient -> userEndpointClient : [...]ClientUtils.getAsyncNode ()
userEndpointClient -> nodeClient : onMessage (<color:blue>dtoB</color>)
activate nodeClient #LightBlue
return
deactivate userEndpointClient

nodeClient -> nodeClient
activate nodeClient #LightBlue

nodeClient -> userEndpointClient : closeSession (<color:green>sessionId</color>)
activate userEndpointClient #Pink
userEndpointClient ->> userEndpointServer : send asynchronous closeSession
return
deactivate nodeClient

activate userEndpointServer #Pink
userEndpointServer -> nodeServer : onClose (<color:green>sessionId</color>)
activate nodeServer #LightBlue
return
userEndpointServer - -> userEndpointClient : ok
deactivate userEndpointServer
activate userEndpointClient #Pink
userEndpointClient -> userEndpointClient : unregisterSession (Session)
userEndpointClient -> userEndpointClient : [...]ClientUtils.getAsyncNode ()
userEndpointClient -> nodeClient : onClose (<color:green>sessionId</color>)
deactivate userEndpointClient
activate nodeClient #LightBlue

@enduml

@startuml

title
    Keyple Distributed - Async Node API (04/11/2020)
end title


skinparam Shadowing false
skinparam RoundCorner 10


participant "nodeClient:\n**AsyncNodeClient**" as nodeClient #LightBlue
actor "userEndpointClient:\n**<back:LightBlue>AsyncEndpointClient**" as userEndpointClient

actor "userEndpointServer:\n**<back:LightBlue>AsyncEndpointServer**" as userEndpointServer
participant "nodeServer:\n**AsyncNodeServer**" as nodeServer #LightBlue

activate nodeClient #LightBlue
nodeClient -> userEndpointClient : openSession (<color:green>sessionId</color>)
activate userEndpointClient #Pink
userEndpointClient ->> userEndpointServer : send asynchronous handshake
return
deactivate nodeClient

activate userEndpointServer #Pink
userEndpointServer - -> userEndpointClient : Session
deactivate userEndpointServer
activate userEndpointClient #Pink
userEndpointClient -> userEndpointClient : registerSession (<color:green>sessionId</color>, Session)
userEndpointClient -> userEndpointClient : [...]ClientUtils.getAsyncNode ()
note over userEndpointClient
    To retrieve the node it is necessary
    to use the utility class corresponding
    to the client configuration :
    * **LocalService**ClientUtils
    * **RemotePlugin**ClientUtils
    * **PoolRemotePlugin**ClientUtils
end note
userEndpointClient -> nodeClient : onOpen (<color:green>sessionId</color>)
activate nodeClient #LightBlue
nodeClient -> userEndpointClient : sendMessage (<color:red>dtoA</color>)
activate userEndpointClient #LightYellow
userEndpointClient -> userEndpointClient : findSesssion (<color:red>dtoA</color><color:green>.getSessionId()</color>)
userEndpointClient ->> userEndpointServer : send asynchronous message (<color:red>dtoA</color>)
return
return
deactivate userEndpointClient

activate userEndpointServer #Pink
userEndpointServer -> userEndpointServer : registerSession (<color:red>dtoA</color><color:green>.getSessionId()</color>)
note over userEndpointServer
    It is necessary to identify the client
    via the "<color:green>sessionId</color>" field in the DTO
    in order to be able to reply a new message
    at a later date.
end note
userEndpointServer -> userEndpointServer : [...]ServerUtils.getAsyncNode ()
note over userEndpointServer
    To access the node it is necessary
    to use the utility class corresponding
    to the server configuration :
    * **RemotePlugin**ServerUtils
    * **LocalService**ServerUtils
    * **PoolLocalService**ServerUtils
end note
userEndpointServer -> nodeServer : onMessage (<color:red>dtoA</color>)
activate nodeServer #LightBlue
nodeServer -> userEndpointServer : sendMessage (<color:blue>dtoB</color>)
activate userEndpointServer #LightYellow
userEndpointServer -> userEndpointServer : findSession (<color:blue>dtoB</color><color:green>.getSessionId()</color>)
userEndpointServer ->> userEndpointClient : send asynchronous message (<color:blue>dtoB</color>)
return
return
deactivate userEndpointServer

activate userEndpointClient #Pink
userEndpointClient -> userEndpointClient : [...]ClientUtils.getAsyncNode ()
userEndpointClient -> nodeClient : onMessage (<color:blue>dtoB</color>)
activate nodeClient #LightBlue
return
deactivate userEndpointClient

nodeClient -> nodeClient
activate nodeClient #LightBlue

nodeClient -> userEndpointClient : closeSession (<color:green>sessionId</color>)
activate userEndpointClient #Pink
userEndpointClient ->> userEndpointServer : send asynchronous closeSession
return
deactivate nodeClient

activate userEndpointServer #Pink
userEndpointServer -> nodeServer : onClose (<color:green>sessionId</color>)
activate nodeServer #LightBlue
return
userEndpointServer - -> userEndpointClient : ok
deactivate userEndpointServer
activate userEndpointClient #Pink
userEndpointClient -> userEndpointClient : unregisterSession (Session)
userEndpointClient -> userEndpointClient : [...]ClientUtils.getAsyncNode ()
userEndpointClient -> nodeClient : onClose (<color:green>sessionId</color>)
deactivate userEndpointClient
activate nodeClient #LightBlue

@enduml

PlantUML version 1.2020.20(Sat Nov 21 11:02:45 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>