<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Keyple C++: keyple::calypso::transaction::SamResourceManagerPool Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Keyple C++
   &#160;<span id="projectnumber">0.9.0</span>
   </div>
   <div id="projectbrief">Keyple, an Open Source SDK for Ticketing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dd/ddf/namespacekeyple.html">keyple</a></li><li class="navelem"><a class="el" href="../../d9/dc8/namespacekeyple_1_1calypso.html">calypso</a></li><li class="navelem"><a class="el" href="../../d8/d57/namespacekeyple_1_1calypso_1_1transaction.html">transaction</a></li><li class="navelem"><a class="el" href="../../dc/d79/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager_pool.html">SamResourceManagerPool</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d2/def/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager_pool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">keyple::calypso::transaction::SamResourceManagerPool Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;SamResourceManagerPool.h&gt;</code></p>

<p>Inherits <a class="el" href="../../d6/d42/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager.html">keyple::calypso::transaction::SamResourceManager</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a558623205123903dded39043c29a3f84"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../df/dc7/classkeyple_1_1core_1_1selection_1_1_se_resource.html">SeResource</a>&lt; <a class="el" href="../../d6/db1/classkeyple_1_1calypso_1_1transaction_1_1_calypso_sam.html">CalypsoSam</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d79/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager_pool.html#a558623205123903dded39043c29a3f84">allocateSamResource</a> (const <a class="el" href="../../d6/d42/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager.html#a4d7cb380b6ebd48168552526b8b7f5db">AllocationMode</a> allocationMode, const std::shared_ptr&lt; <a class="el" href="../../d5/d86/classkeyple_1_1calypso_1_1transaction_1_1_sam_identifier.html">SamIdentifier</a> &gt; samIdentifier) override</td></tr>
<tr class="separator:a558623205123903dded39043c29a3f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a356c7f85bccf6137be7394da97dafdfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d79/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager_pool.html#a356c7f85bccf6137be7394da97dafdfb">freeSamResource</a> (const <a class="el" href="../../df/dc7/classkeyple_1_1core_1_1selection_1_1_se_resource.html">SeResource</a>&lt; <a class="el" href="../../d6/db1/classkeyple_1_1calypso_1_1transaction_1_1_calypso_sam.html">CalypsoSam</a> &gt; &amp;samResource) override</td></tr>
<tr class="separator:a356c7f85bccf6137be7394da97dafdfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1588178ae8379eddb4055370733c296"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d79/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager_pool.html#ab1588178ae8379eddb4055370733c296">SamResourceManagerPool</a> (<a class="el" href="../../d1/d18/classkeyple_1_1core_1_1seproxy_1_1_reader_pool_plugin.html">ReaderPoolPlugin</a> &amp;samReaderPoolPlugin, const int maxBlockingTime, const int sleepTime)</td></tr>
<tr class="separator:ab1588178ae8379eddb4055370733c296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d6/d42/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager.html">keyple::calypso::transaction::SamResourceManager</a></td></tr>
<tr class="memitem:afb0e8307a42ac409b9282a062f5234eb inherit pub_methods_classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager.html#afb0e8307a42ac409b9282a062f5234eb">~SamResourceManager</a> ()=default</td></tr>
<tr class="separator:afb0e8307a42ac409b9282a062f5234eb inherit pub_methods_classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a8ef1ef037c8a3bdb59846d4abcd4f524"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d18/classkeyple_1_1core_1_1seproxy_1_1_reader_pool_plugin.html">ReaderPoolPlugin</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d79/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager_pool.html#a8ef1ef037c8a3bdb59846d4abcd4f524">mSamReaderPlugin</a></td></tr>
<tr class="separator:a8ef1ef037c8a3bdb59846d4abcd4f524"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager')"><img src="../../closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="../../d6/d42/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager.html">keyple::calypso::transaction::SamResourceManager</a></td></tr>
<tr class="memitem:a4d7cb380b6ebd48168552526b8b7f5db inherit pub_types_classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager.html#a4d7cb380b6ebd48168552526b8b7f5db">AllocationMode</a> { <a class="el" href="../../d6/d42/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager.html#a4d7cb380b6ebd48168552526b8b7f5dba72323e5457d8fb855145bfee934aa415">AllocationMode::BLOCKING</a>, 
<a class="el" href="../../d6/d42/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager.html#a4d7cb380b6ebd48168552526b8b7f5dba71fed0a1fc7faaeab0a56a76799e5ad3">AllocationMode::NON_BLOCKING</a>
 }</td></tr>
<tr class="separator:a4d7cb380b6ebd48168552526b8b7f5db inherit pub_types_classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../d6/d42/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager.html">keyple::calypso::transaction::SamResourceManager</a></td></tr>
<tr class="memitem:ac7a92577c09d3a260ecc856cefcd00c6 inherit pro_methods_classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="../../dd/de0/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager_1_1_managed_sam_resource.html">ManagedSamResource</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager.html#ac7a92577c09d3a260ecc856cefcd00c6">createSamResource</a> (std::shared_ptr&lt; <a class="el" href="../../d0/d52/classkeyple_1_1core_1_1seproxy_1_1_se_reader.html">SeReader</a> &gt; samReader)</td></tr>
<tr class="separator:ac7a92577c09d3a260ecc856cefcd00c6 inherit pro_methods_classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of Sam Resource Manager working a <a class="el" href="../../d1/d18/classkeyple_1_1core_1_1seproxy_1_1_reader_pool_plugin.html">keyple::core::seproxy::ReaderPoolPlugin</a> </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab1588178ae8379eddb4055370733c296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1588178ae8379eddb4055370733c296">&#9670;&nbsp;</a></span>SamResourceManagerPool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">keyple::calypso::transaction::SamResourceManagerPool::SamResourceManagerPool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d18/classkeyple_1_1core_1_1seproxy_1_1_reader_pool_plugin.html">ReaderPoolPlugin</a> &amp;&#160;</td>
          <td class="paramname"><em>samReaderPoolPlugin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>maxBlockingTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>sleepTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Protected constructor, use the <a class="el" href="../../d4/de0/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager_factory.html">SamResourceManagerFactory</a></p>
<p>C++ vs. Java: Should be private but would forbid usage of make_shared from <a class="el" href="../../d4/de0/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager_factory.html">SamResourceManagerFactory</a> class. Setting it public for now. Could use an intermediate derived class otherwise if need be.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">samReaderPoolPlugin</td><td>the reader pool plugin </td></tr>
    <tr><td class="paramname">maxBlockingTime</td><td>the maximum duration for which the allocateSamResource method will attempt to allocate a new reader by retrying (in milliseconds). </td></tr>
    <tr><td class="paramname">sleepTime</td><td>the duration to wait between two retries </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a558623205123903dded39043c29a3f84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a558623205123903dded39043c29a3f84">&#9670;&nbsp;</a></span>allocateSamResource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../df/dc7/classkeyple_1_1core_1_1selection_1_1_se_resource.html">SeResource</a>&lt; <a class="el" href="../../d6/db1/classkeyple_1_1calypso_1_1transaction_1_1_calypso_sam.html">CalypsoSam</a> &gt; &gt; keyple::calypso::transaction::SamResourceManagerPool::allocateSamResource </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/d42/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager.html#a4d7cb380b6ebd48168552526b8b7f5db">AllocationMode</a>&#160;</td>
          <td class="paramname"><em>allocationMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="../../d5/d86/classkeyple_1_1calypso_1_1transaction_1_1_sam_identifier.html">SamIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>samIdentifier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allocate a SAM resource from the specified SAM group.In the case where the allocation mode is BLOCKING, this method will wait until a SAM resource becomes free and then return the reference to the allocated resource. However, the BLOCKING mode will wait a maximum time defined in milliseconds by MAX_BLOCKING_TIME.In the case where the allocation mode is NON_BLOCKING and no SAM resource is available, this method will return an exception.If the samGroup argument is null, the first available SAM resource will be selected and returned regardless of its group.<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">allocationMode</td><td>the blocking/non-blocking mode </td></tr>
    <tr><td class="paramname">samIdentifier</td><td>the targeted SAM identifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a SAM resource </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">CalypsoNoSamResourceAvailableException</td><td>if no resource is available </td></tr>
    <tr><td class="paramname">KeypleReaderException</td><td>if a reader error occurs </td></tr>
    <tr><td class="paramname">KeypleAllocationReaderException</td><td>if reader allocation fails</td></tr>
  </table>
  </dd>
</dl>
 </p>

<p>Implements <a class="el" href="../../d6/d42/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager.html#acf83db0143ce668326955eb64fcefd7a">keyple::calypso::transaction::SamResourceManager</a>.</p>

</div>
</div>
<a id="a356c7f85bccf6137be7394da97dafdfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a356c7f85bccf6137be7394da97dafdfb">&#9670;&nbsp;</a></span>freeSamResource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void keyple::calypso::transaction::SamResourceManagerPool::freeSamResource </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../df/dc7/classkeyple_1_1core_1_1selection_1_1_se_resource.html">SeResource</a>&lt; <a class="el" href="../../d6/db1/classkeyple_1_1calypso_1_1transaction_1_1_calypso_sam.html">CalypsoSam</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>samResource</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Free a previously allocated SAM resource.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">samResource</td><td>the SAM resource reference to free </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="../../d6/d42/classkeyple_1_1calypso_1_1transaction_1_1_sam_resource_manager.html#a3ecf98c5fd9d3e73a4ea425386b5df20">keyple::calypso::transaction::SamResourceManager</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8ef1ef037c8a3bdb59846d4abcd4f524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ef1ef037c8a3bdb59846d4abcd4f524">&#9670;&nbsp;</a></span>mSamReaderPlugin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d18/classkeyple_1_1core_1_1seproxy_1_1_reader_pool_plugin.html">ReaderPoolPlugin</a>&amp; keyple::calypso::transaction::SamResourceManagerPool::mSamReaderPlugin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>component/keyple-calypso/src/main/transaction/<a class="el" href="../../da/dfb/_sam_resource_manager_pool_8h.html">SamResourceManagerPool.h</a></li>
<li>component/keyple-calypso/src/main/transaction/<a class="el" href="../../da/d30/_sam_resource_manager_pool_8cpp.html">SamResourceManagerPool.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
