<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=generator content="Hugo Blox Builder 5.9.6"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" media=print onload='this.media="all"'><link rel=stylesheet href=../../../css/vendor-bundle.min.047268c6dd09ad74ba54a0ba71837064.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1.9.4/css/academicons.min.css integrity="sha512-IW0nhlW5MgNydsXJO40En2EoCkTTjZhI3yuODrZIc8cQ4h1XcF53PsqDHa09NqnkXuIe0Oiyyj171BqZFwISBw==" crossorigin=anonymous media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.css integrity crossorigin=anonymous media=print onload='this.media="all"'><link rel=stylesheet href=../../../css/wowchemy.207e6f30e8fe6b1dbb628a09b889fa60.css><link rel=stylesheet href=../../../css/libs/chroma/github-dark.min.css title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=../../../css/libs/chroma/github-dark.min.css title=hl-dark media=print onload='this.media="all"' disabled><meta name=description content="How to connect a non-Keyple-based client application to a Keyple-based server application."><link rel=alternate hreflang=en-us href=https://keyple.org/user-guides/non-keyple-client/content/><link rel=canonical href=https://keyple.org/user-guides/non-keyple-client/content/><link rel=manifest href=../../../manifest.webmanifest><link rel=icon type=image/png href=../../../media/icon_hu16db34b3636b127457de39ca2fab620f_9845_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=../../../media/icon_hu16db34b3636b127457de39ca2fab620f_9845_180x180_fill_lanczos_center_3.png><meta name=theme-color content="#1D87BB"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://keyple.org/media/logo.svg"><meta property="og:type" content="website"><meta property="og:site_name" content="Eclipse Keyple"><meta property="og:url" content="https://keyple.org/user-guides/non-keyple-client/content/"><meta property="og:title" content="Non-Keyple Client User Guide | Eclipse Keyple"><meta property="og:description" content="How to connect a non-Keyple-based client application to a Keyple-based server application."><meta property="og:image" content="https://keyple.org/media/logo.svg"><meta property="og:locale" content="en-us"><link rel=alternate href=../../../user-guides/non-keyple-client/content/index.xml type=application/rss+xml title="Eclipse Keyple"><title>Non-Keyple Client User Guide | Eclipse Keyple</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=4b5296d26dd74116047124a6565360ce><script src=../../../js/wowchemy-init.min.d66af272089c6c0601f1a57edc3bf6ab.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=Close><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control aria-label=Search...></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><div class="page-header header--fixed"><header><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=../../../><img src=../../../media/logo.svg alt="Eclipse Keyple"></a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=../../../><img src=../../../media/logo.svg alt="Eclipse Keyple"></a></div><div class="navbar-collapse main-menu-item collapse justify-content-center" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>What is Eclipse KeypleÂ®</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=../../../what-is-keyple/overview/><span>Overview</span></a>
<a class=dropdown-item href=../../../what-is-keyple/why-trust/><span>Why trust Eclipse KeypleÂ®?</span></a>
<a class=dropdown-item href=../../../what-is-keyple/who-is-it-for/><span>Who is it for?</span></a>
<a class=dropdown-item href=../../../#adopters><span>Who is using Eclipse KeypleÂ®?</span></a>
<a class=dropdown-item href=../../../what-is-keyple/what-is-calypso/><span>What is CalypsoÂ®?</span></a>
<a class=dropdown-item href=../../../what-is-keyple/main-features/><span>Keyple's main features</span></a>
<a class=dropdown-item href=../../../#news><span>News</span></a></div></li><li class=nav-item><a class=nav-link href=../../../learn/overview><span>Learn</span></a></li><li class=nav-item><a class=nav-link href=../../../components/overview><span>Components</span></a></li><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>Community</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=../../../adopters-and-testimonials/><span>Adopters & Testimonials</span></a>
<a class=dropdown-item href=../../../community/licenses/><span>Licenses</span></a>
<a class=dropdown-item href=../../../community/contributing/><span>Contributing</span></a>
<a class=dropdown-item href=../../../community/roadmap/><span>Roadmap</span></a>
<a class=dropdown-item href=../../../community/maintenance/><span>Maintenance</span></a>
<a class=dropdown-item href=../../../community/changelog/><span>Changelog</span></a>
<a class=dropdown-item href=../../../statistics/><span>Statistics</span></a>
<a class=dropdown-item href=../../../project-dashboard/><span>Project dashboard</span></a>
<a class=dropdown-item href="https://sonarcloud.io/organizations/eclipse/projects?search=keyple&amp;sort=-analysis_date"><span>Code quality dashboard</span></a>
<a class=dropdown-item href=https://projects.eclipse.org/projects/iot.keyple/><span>Eclipse Foundation Keyple page</span></a>
<a class=dropdown-item href=https://accounts.eclipse.org/mailing-list/keyple-dev/><span>Mailing list</span></a>
<a class=dropdown-item href=https://github.com/eclipse-keyple/><span>GitHub home repository</span></a>
<a class=dropdown-item href=https://docs.keyple.org/><span>All APIs docs</span></a></div></li><li class=nav-item><a class=nav-link href=../../../external-resources/><span>External resources</span></a></li><li class=nav-item><a class=nav-link href=../../../learn/build-your-first-app/><button class='btn btn-info'><i class='fas fa-rocket pr-1' aria-hidden=true></i> <span>START CODING</span></button></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a></li></ul></div></nav></header></div><div class=page-body><div class="container-fluid docs"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 docs-sidebar"><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden"></span><span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>Search...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li><a href=../../../user-guides/></a></li><div class=docs-toc-item><a class=docs-toc-link href=../../../user-guides/non-keyple-client/></a><ul class="nav docs-sidenav"><div class=docs-toc-item><a class=docs-toc-link href=../../../user-guides/non-keyple-client/back-to-user-guides/>ðŸ¢¤ Back to user guides</a></div><div class=docs-toc-item><a class="docs-toc-link active" href=../../../user-guides/non-keyple-client/content/>Non-Keyple client</a></div><div class=docs-toc-item><a class=docs-toc-link href=../../../user-guides/non-keyple-client/server-json-api/>Server JSON API</a><ul class="nav docs-sidenav"><li><a href=../../../user-guides/non-keyple-client/server-json-api/2-1/>Version 2.1</a></li><li><a href=../../../user-guides/non-keyple-client/server-json-api/2-0/>Version 2.0</a></li><li><a href=../../../user-guides/non-keyple-client/server-json-api/1-0/>Version 1.0</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=../../../user-guides/non-keyple-client/selection-json-specification/>Selection JSON Specification</a><ul class="nav docs-sidenav"><li><a href=../../../user-guides/non-keyple-client/selection-json-specification/1-0/>Version 1.0</a></li></ul></div></ul></div></ul></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>Contents</a></li></ul><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#operating-mode>Operating mode</a></li><li><a href=#manual-implementation>Manual implementation</a></li><li><a href=#keyple-interop-libraries>Keyple interop libraries</a><ul><li><a href=#workflow-overview>Workflow overview</a></li><li><a href=#workflow-details>Workflow details</a></li><li><a href=#api>API</a></li><li><a href=#examples>Examples</a></li><li><a href=#download>Download</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role=main><div class=docs-article-container></div><div class=docs-article-container><h1>Non-Keyple Client User Guide</h1><article class=article-style><style>table th:nth-child(1){width:9rem}</style><div class="alert alert-note"><div><p>A &ldquo;<strong>non-Keyple client</strong>&rdquo; refers to a client application developed in a language <strong>other than Java, Kotlin, or C++</strong>, and
therefore <strong>unable to directly integrate the core libraries of the Keyple ecosystem</strong>.</p><p>This application is installed on a terminal equipped with a <strong>card reader</strong>. However, due to its technological environment,
it cannot locally use Keyple&rsquo;s core components to access the card or perform ticketing procedures. It must therefore
<strong>rely on a remote Keyple-based component</strong> (e.g., through a server API) to carry out these operations.</p></div></div><br><h2 id=overview>Overview</h2><p>This guide is designed for developers of non-Keyple client applications embedded in smart card processing terminals,
who need to delegate all or part of the management of the smart card ticketing transaction to a Keyple-based server
application.</p><div class="alert alert-note"><div>This use case corresponds to the <strong>Reader Client Side</strong> usage mode of the <strong>Keyple Distributed</strong> solution.</div></div><figure id=figure-keyple-on-server-side-only><div class="d-flex justify-content-center"><div class=w-100><img src=../../../media/learn/user-guide/distributed-application/distributed_solution_2_layers_overview.drawio.svg alt="Keyple on server side only" loading=lazy data-zoomable></div></div><figcaption data-pre=Figure&nbsp; data-post=:&nbsp; class=numbered>Keyple on server side only</figcaption></figure><br><h2 id=operating-mode>Operating mode</h2><p>The client is the initiator of the application processing following a card event (card insertion/removal).
He can hand over to the server whenever he wants to perform a remote ticketing service on a card present in one of his
local readers.</p><p>There are two ways for a non-Keyple client application to communicate with a server based on the Keyple middleware:</p><ol><li><a href=#manual-implementation>Manual implementation of the Keyple JSON specifications</a></li><li><a href=#keyple-interop-libraries>Using the Keyple interop multiplatform libraries</a></li></ol><br><h2 id=manual-implementation>Manual implementation</h2><p>You can implement the communication logic manually by following the official Keyple JSON specifications:</p><figure id=figure-manual-implementation><div class="d-flex justify-content-center"><div class=w-100><img src=../../../media/learn/user-guide/non-keyple-client/Components_ManualImplementation.drawio.svg alt="Manual implementation" loading=lazy data-zoomable></div></div><figcaption data-pre=Figure&nbsp; data-post=:&nbsp; class=numbered>Manual implementation</figcaption></figure><div id=content-table-1><table><thead><tr><th>Specification</th><th>Description</th></tr></thead><tbody><tr><td><a href=../../../user-guides/non-keyple-client/server-json-api/>Server JSON API</a></td><td>Describes the workflow and the JSON format of data exchanged between terminal and server during a remote card transaction, as well as the corresponding business rules.</td></tr><tr><td><a href=../../../user-guides/non-keyple-client/selection-json-specification/>Selection JSON Specification</a></td><td>Describes how to implement early card selection on the terminal before requesting the server to continue the card transaction, as well as the JSON format of the involved data.</td></tr></tbody></table></div><style>#content-table-1 table th:nth-child(1){width:14rem}</style><p>This approach ensures maximum flexibility and autonomy for integrators. However, it requires full ownership of the
implementation, including the business logic defined in the Selection JSON Specification and the Server JSON API. It
also involves managing JSON (de)serialization of the corresponding data structures and implementing the card reader
access layer.</p><br><h2 id=keyple-interop-libraries>Keyple interop libraries</h2><p>To simplify development and ensure compliance with the specifications, you can integrate the following ready-to-use
Keyple interop multiplatform libraries into your application:</p><figure id=figure-keyple-interop-multiplatform-libraries><div class="d-flex justify-content-center"><div class=w-100><img src=../../../media/learn/user-guide/non-keyple-client/Components_KeypleInteropLibraries.drawio.svg alt="Keyple interop multiplatform libraries" loading=lazy data-zoomable></div></div><figcaption data-pre=Figure&nbsp; data-post=:&nbsp; class=numbered>Keyple interop multiplatform libraries</figcaption></figure><div id=content-table-2><table><thead><tr><th>Keyple Interop Library</th><th style=text-align:center>Platform</th><th>Description</th></tr></thead><tbody><tr><td><a href=https://keyple.org/components/interop-components/keyple-interop-jsonapi-client-kmp-lib/>JSON API Client</a></td><td style=text-align:center>Windows, Linux, macOS, Android, iOS</td><td>A Kotlin multiplatform client library that fully implements the Keyple Server JSON API and Selection JSON Specification. It enables direct interaction with a Keyple-based server over HTTP.</td></tr><tr><td><a href=https://keyple.org/components/interop-components/keyple-interop-localreader-nfcmobile-kmp-lib/>Local Reader NFC Mobile</a></td><td style=text-align:center>Android, iOS</td><td>A Kotlin multiplatform adapter that provides access to mobile NFC readers. It allows smart card operations to be performed locally and used in conjunction with the JSON API Client library.</td></tr></tbody></table></div><style>#content-table-2 table th:nth-child(1){width:12rem}</style><p>This second option greatly reduces implementation effort and ensures compatibility with the evolving Keyple ecosystem.</p><br><h3 id=workflow-overview>Workflow overview</h3><p>The following sequence diagram shows the overall interaction flow between a client application and Keyple&rsquo;s interop
libraries:</p><figure id=figure-keyple-interop-libraries-workflow><div class="d-flex justify-content-center"><div class=w-100><img src=../../../media/learn/user-guide/non-keyple-client/Sequence_InteropWorkflow.svg alt="Keyple interop libraries workflow" loading=lazy data-zoomable></div></div><figcaption data-pre=Figure&nbsp; data-post=:&nbsp; class=numbered>Keyple interop libraries workflow</figcaption></figure><h3 id=workflow-details>Workflow details</h3><ol><li>Retrieve an export of the card selection scenario from the server using your preferred method.
This scenario will be processed when a card is detected.
For more details, refer to Keypleâ€™s
<a href=https://keyple.org/learn/user-guide/standalone-application/#importexport-a-scenario>Import/Export Scenario</a>
feature.<br><div class="alert alert-note"><div>Implementing early
card selection is <strong>strongly recommended</strong> for non-Keyple clients as it <strong>increases performance</strong> by reducing the
number of network exchanges, as the selection scenario can be processed autonomously by the terminal as
soon as a card is presented.</div></div><div class="alert alert-note"><div>The scenario should be retrieved by
the customer <strong>well before a card is presented</strong>, for example <strong>during installation, updating or application startup</strong>.</div></div></li><li>Build an instance of <code>KeypleTerminal</code>, providing a <code>LocalReader</code> implementation to access the card reader,
a <code>SyncEndpointClient</code> implementation to access the server over HTTP,
and possibly a card selection scenario export to be processed when a card is detected.<br><div class="alert alert-note"><div>The
<strong>Keyple Interop Local Reader NFC Mobile Library</strong> provides the <code>MultiplatformNfcReader</code> class as a <code>LocalReader</code>
implementation for NFC mobiles, but you can provide other implementations depending on your context.</div></div><div class="alert alert-note"><div><p>The implementation of the <code>SyncEndpointClient</code> remains your responsibility,
as it is specific to the context of the client application.</p><p>In a context with several server instances,
a mechanism must be implemented to ensure that all messages associated to
a functional transaction are routed to the same server instance.</p><p>The client network endpoint can use the value of the <code>sessionId</code> field contained in the <code>MessageDto</code> object
transmitted by <code>KeypleTerminal</code> to identify transactions.
This value is generated for each new execution of a remote service.
When the client endpoint detects a new value, it can, for example,
transmit the first message without a session cookie in order to be routed to the first available server,
then transmit the session cookie returned by the server in subsequent exchanges until a new transaction is detected.</p></div></div><div class="alert alert-note"><div>The export of the selection scenario
can be provided at a later date using the dedicated setter function if required, for example, after the card has been detected,
but before to execute the remote service.</div></div></li><li>Wait for the card to be detected by calling the associated function provided by <code>KeypleTerminal</code>.<br><div class="alert alert-note"><div>Waiting
can be performed synchronously or asynchronously, and can also be cancelled.</div></div></li><li>Execute the desired remote service by calling the associated function provided by the <code>KeypleTerminal</code>
by specifying the identifier of the ticketing service to be executed
and transmitting to the server additional information if needed.<br><div class="alert alert-note"><div>The remote
service execution is blocking.</div></div></li></ol><br><h3 id=api>API</h3><ul><li><a href=https://docs.keyple.org/keyple-interop-jsonapi-client-kmp-lib/ target=_blank rel=noopener>Keyple Interop JSON API Client API</a></li><li><a href=https://docs.keyple.org/keyple-interop-localreader-nfcmobile-kmp-lib/ target=_blank rel=noopener>Keyple Interop Local Reader NFC Mobile API</a></li></ul><br><h3 id=examples>Examples</h3><p>Calypso Networks Association has provided an example of how to integrate these libraries.
It is available <a href=https://github.com/calypsonet/keyple-demo-ticketing/tree/main/src/reloading-remote/client/interop-mobile-multiplatform target=_blank rel=noopener>here</a>.</p><br><h3 id=download>Download</h3><ul><li><a href=https://keyple.org/components/interop-components/keyple-interop-jsonapi-client-kmp-lib/>Keyple Interop JSON API Client Library</a></li><li><a href=https://keyple.org/components/interop-components/keyple-interop-localreader-nfcmobile-kmp-lib/>Keyple Interop Local Reader NFC Mobile Library</a></li></ul><br></article><div class=article-widget><div class=post-nav></div></div></div><div class=body-footer><p>Last updated on 2025-09-01</p></div><footer class=site-footer><div class=container><div class="row featurette"><div class="col-12 col-sm-4"><p style=color:#fff><b>ECLIPSE LEGAL</b></p><a href=https://www.eclipse.org/legal/privacy.php>Privacy Policy</a><br><a href=https://www.eclipse.org/legal/termsofuse.php>Terms of Use</a><br><a href=https://www.eclipse.org/legal/copyright.php>Copyright Agent</a><br><a href=https://www.eclipse.org/legal/epl-2.0/>Eclipse Public License</a><br><a href=https://www.eclipse.org/legal/>Legal Resources</a><br><a href=https://eclipse.org/security/>Report a Vulnerability</a><br></div><div class="col-12 col-sm-4"><a href=https://www.eclipse.org><img src=../../../media/eclipse_foundation_logo.svg id=logo-eclipse-foundation></a></div><div class="col-12 col-sm-4"><a href=https://iot.eclipse.org><img src=../../../media/eclipse_iot_logo.svg id=logo-eclipse-iot></a></div></div></div><p class="powered-by copyright-license-text">Â© 2019-2025 The Eclipse KeypleÂ® project. All Rights Reserved.</p><p class=powered-by id=template-info>Published with <a href="https://hugoblox.com/?utm_campaign=poweredby">Hugo Blox Builder</a> â€” the free, <a href=https://github.com/HugoBlox/hugo-blox-builder>open source</a> website builder that empowers creators.</p></footer></main></div></div></div><div class=page-footer></div><script src=../../../js/vendor-bundle.min.938a3a7554cd9f6602290411f64d2617.js></script><script src=https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.js integrity crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/anchor-js@5.0.0/anchor.min.js integrity="sha256-aQmOEF2ZD4NM/xt4hthzREIo/2PFkOX/g01WjxEV7Ys=" crossorigin=anonymous></script><script>anchors.add()</script><script id=search-hit-fuse-template type=text/x-template>
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script><script src=https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin=anonymous></script><script id=page-data type=application/json>{"use_headroom":false}</script><script src=../../../en/js/wowchemy.min.e5f230ffa0c649e07b9810387aa56d54.js></script><script src=../../../js/wowchemy-map.a26e9d2f7238ba5b868384f1c5bc6477.js type=module></script><link rel=stylesheet href=https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap4.min.css><script src=https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js></script><script src=https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js></script><script src=https://d3js.org/d3.v6.min.js></script></body></html>