[
  {
    "url": "https://api.github.com/repos/eclipse/keyple-cpp-example/issues/2",
    "repository_url": "https://api.github.com/repos/eclipse/keyple-cpp-example",
    "labels_url": "https://api.github.com/repos/eclipse/keyple-cpp-example/issues/2/labels{/name}",
    "comments_url": "https://api.github.com/repos/eclipse/keyple-cpp-example/issues/2/comments",
    "events_url": "https://api.github.com/repos/eclipse/keyple-cpp-example/issues/2/events",
    "html_url": "https://github.com/eclipse/keyple-cpp-example/issues/2",
    "id": 1648651336,
    "node_id": "I_kwDOHMlWN85iRGxI",
    "number": 2,
    "title": "weird behavior in Load/Debit Ops",
    "user": {
      "login": "Andres1012",
      "id": 16720540,
      "node_id": "MDQ6VXNlcjE2NzIwNTQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16720540?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Andres1012",
      "html_url": "https://github.com/Andres1012",
      "followers_url": "https://api.github.com/users/Andres1012/followers",
      "following_url": "https://api.github.com/users/Andres1012/following{/other_user}",
      "gists_url": "https://api.github.com/users/Andres1012/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Andres1012/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Andres1012/subscriptions",
      "organizations_url": "https://api.github.com/users/Andres1012/orgs",
      "repos_url": "https://api.github.com/users/Andres1012/repos",
      "events_url": "https://api.github.com/users/Andres1012/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Andres1012/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2023-03-31T04:31:19Z",
    "updated_at": "2023-04-13T21:29:55Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "When I do operations of load / debit with any value repeatedly, the balance in the card change correctly sometimes but in another times the last bytes change “00” to “FF” or \"FF\" to \"00\".\r\n\r\n![image](https://user-images.githubusercontent.com/16720540/229018529-79835bf7-2540-4759-a6e2-a50e00db9bed.png)\r\n\r\nFor example, in the image you can see the balance before changed to negative value is 5221(decimal) = 0x1465 (hexadecimal), after the load 100 the balance change to: -16771895 (decimal) = 0xFF0014C9 (hexadecimal). If you change last byte to zero the value is 5321 (decimal) = 0x**00**0014C9.\r\n\r\nThe code I use is based of example code UseCase10_SessionTrace_TN313 and UseCase7_StoredValue_SimpleReloading:\r\n\r\n\r\n`          {\r\n            /*\r\n             * Read the current time used later to compute the transaction time.\r\n             */\r\n            auto calypsoCard =\r\n                std::dynamic_pointer_cast<CalypsoCard>(\r\n                    mCardSelectionManager\r\n                        ->parseScheduledCardSelectionsResponse(\r\n                            event->getScheduledCardSelectionsResponse())\r\n                        ->getActiveSmartCard());\r\n\r\n            /*\r\n             * Create a transaction manager, prepare SV Get.\r\n             */\r\n            std::shared_ptr<CardTransactionManager> cardTransactionManager =\r\n                 CalypsoExtensionService::getInstance()\r\n                    ->createCardTransaction(mCardReader, calypsoCard, mCardSecuritySetting);\r\n            cardTransactionManager->prepareSvGet(SvOperation::RELOAD, SvAction::DO)\r\n            \t\t.processCommands();\r\n\r\n            int amount = calypsoCard->getSvLoadLogRecord()->getAmount();\r\n            int balance = calypsoCard->getSvBalance();\r\n\r\n            mLogger->info(\"Balance: %\\n\", balance);\r\n            mLogger->info(\"amount: %\\n\", amount);\r\n            cardTransactionManager->prepareSvReload(2).processCommands();\r\n\r\n            balance = calypsoCard->getSvBalance();\r\n            amount = calypsoCard->getSvLoadLogRecord()->getAmount();\r\n\r\n            mLogger->info(\"Balance: %\\n\", balance);\r\n            mLogger->info(\"amount: %\\n\", amount);\r\n\r\n            /* Display transaction time */\r\n            mLogger->info(\"%Transaction succeeded. Execution time: % ms%\\n\",\r\n                          ANSI_GREEN,\r\n                          System::currentTimeMillis() - timeStamp,\r\n                          ANSI_RESET);\r\n}\r\n        `\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/eclipse/keyple-cpp-example/issues/2/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/eclipse/keyple-cpp-example/issues/2/timeline",
    "performed_via_github_app": null,
    "state_reason": "reopened"
  }
]
