<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Keyple in depth | Eclipse Keyple</title><link>https://keyple.org/learn/keyple-in-depth/</link><atom:link href="https://keyple.org/learn/keyple-in-depth/index.xml" rel="self" type="application/rss+xml"/><description>Keyple in depth</description><generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><copyright>© 2020-2023 The Eclipse Keyple® project. All Rights Reserved.</copyright><image><url>https://keyple.org/media/logo.svg</url><title>Keyple in depth</title><link>https://keyple.org/learn/keyple-in-depth/</link></image><item><title>Core services</title><link>https://keyple.org/learn/keyple-in-depth/core-services/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://keyple.org/learn/keyple-in-depth/core-services/</guid><description>&lt;hr>
&lt;h2 id="internal-adapters-release">Internal adapters (release)&lt;/h2>
&lt;h3 id="service">Service&lt;/h3>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="https://raw.githubusercontent.com/eclipse/keyple-service-java-lib/2.1.3/src/main/uml/adapter_class_diagram.svg" alt="coming soon!" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;h3 id="card-resource-service">Card resource service&lt;/h3>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="https://raw.githubusercontent.com/eclipse/keyple-service-resource-java-lib/2.0.2/src/main/uml/adapter_class_diagram.svg" alt="coming soon!" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;h3 id="distributed">Distributed&lt;/h3>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="https://raw.githubusercontent.com/eclipse/keyple-distributed-network-java-lib/2.0.0/src/main/uml/adapter_class_diagram.svg" alt="coming soon!" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;hr>
&lt;h2 id="internal-adapters-snapshot">Internal adapters (snapshot)&lt;/h2>
&lt;h3 id="service-1">Service&lt;/h3>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="https://raw.githubusercontent.com/eclipse/keyple-service-java-lib/main/src/main/uml/adapter_class_diagram.svg" alt="coming soon!" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;h3 id="card-resource-service-1">Card resource service&lt;/h3>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="https://raw.githubusercontent.com/eclipse/keyple-service-resource-java-lib/main/src/main/uml/adapter_class_diagram.svg" alt="coming soon!" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;h3 id="distributed-1">Distributed&lt;/h3>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="https://raw.githubusercontent.com/eclipse/keyple-distributed-network-java-lib/main/src/main/uml/adapter_class_diagram.svg" alt="coming soon!" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p></description></item><item><title>Calypso card extension</title><link>https://keyple.org/learn/keyple-in-depth/calypso-card-extension/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://keyple.org/learn/keyple-in-depth/calypso-card-extension/</guid><description>&lt;hr>
&lt;p>The diagram below illustrates the sequence of exchanges and the grouping of APDU commands during a secure Calypso transaction:&lt;/p>
&lt;figure id="figure-calypso-secure-transaction">
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="../../media/learn/keyple-in-depth/calypso_secure_transaction_sequence_diagram.svg" alt="Calypso secure transaction" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;figcaption>
Calypso secure transaction
&lt;/figcaption>&lt;/figure></description></item><item><title>Build process and continuous integration</title><link>https://keyple.org/learn/keyple-in-depth/build-and-ci/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://keyple.org/learn/keyple-in-depth/build-and-ci/</guid><description>&lt;hr>
&lt;h2 id="build-automation-tool">Build automation tool&lt;/h2>
&lt;p>Keyple uses Gradle.&lt;/p>
&lt;hr>
&lt;h2 id="versioning-rules">Versioning rules&lt;/h2>
&lt;p>Keyple components are versioned according to &lt;a href="https://semver.org" target="_blank" rel="noopener">Semantic Versioning 2.0.0&lt;/a> which is based on the three numbers &lt;code>X.Y.Z&lt;/code>&lt;/p>
&lt;div class="alert alert-note">
&lt;div>
For API components (i.e. artifacts suffixed with &lt;code>-api&lt;/code>), the incrementation of &lt;code>Z&lt;/code> indicates only a documentation update.
&lt;/div>
&lt;/div>
&lt;hr>
&lt;h2 id="continuous-integration">Continuous integration&lt;/h2>
&lt;p>Keyple continuous integration works with the &lt;a href="https://ci.eclipse.org/keyple/job/Keyple/" target="_blank" rel="noopener">Jenkins server&lt;/a> of the Eclipse Foundation.&lt;/p>
&lt;p>The build process uses the home-made gradle plugin &lt;strong>Keyple Gradle&lt;/strong> available directly from the &lt;a href="https://central.sonatype.dev/search?q=keyple-gradle" target="_blank" rel="noopener">Maven Central Repository&lt;/a> and whose sources are available on &lt;a href="https://github.com/eclipse/keyple-ops" target="_blank" rel="noopener">GitHub&lt;/a>.&lt;/p>
&lt;p>The CI automates the following tasks (defined in the &lt;code>Jenkinsfile&lt;/code> file):&lt;/p>
&lt;ul>
&lt;li>verify the validity of the version;&lt;/li>
&lt;li>verify the code formatting using &lt;a href="https://github.com/diffplug/spotless" target="_blank" rel="noopener">Spotless&lt;/a>;&lt;/li>
&lt;li>build the code;&lt;/li>
&lt;li>execute unit tests;&lt;/li>
&lt;li>sign and publish artifacts to Maven Central Repository;&lt;/li>
&lt;li>publish the javadoc to the corresponding GitHub Pages;&lt;/li>
&lt;li>publish the code quality report to &lt;a href="https://sonarcloud.io/organizations/eclipse/projects?search=keyple&amp;amp;sort=-analysis_date" target="_blank" rel="noopener">SonarCloud&lt;/a>.&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="snapshot-publication">Snapshot publication&lt;/h2>
&lt;p>A snapshot artifact (suffixed with &lt;code>-SNAPSHOT&lt;/code>) is automatically published after each commit on the &lt;code>main&lt;/code> branch, except in the case of a release (see &lt;a href="#release-publication">Release publication&lt;/a>).&lt;/p>
&lt;div class="alert alert-warning">
&lt;div>
The artifact version defined in the &lt;code>gradle.properties&lt;/code> file must not have a &lt;code>-SNAPSHOT&lt;/code> suffix because the suffix is automatically added by the Keyple Gradle plugin.
&lt;/div>
&lt;/div>
&lt;hr>
&lt;h2 id="release-publication">Release publication&lt;/h2>
&lt;p>A release artifact is automatically published if and only if the following two conditions are met:&lt;/p>
&lt;ul>
&lt;li>The commit is done on the &lt;code>main&lt;/code> branch or on a &lt;code>release-X.Y.Z&lt;/code> branch.&lt;/li>
&lt;li>The commit message starts with &lt;code>Release X.Y.Z&lt;/code>.&lt;/li>
&lt;/ul>
&lt;div class="alert alert-warning">
&lt;div>
&lt;code>X.Y.Z&lt;/code> must be the version defined in the &lt;code>gradle.properties&lt;/code> file.
&lt;/div>
&lt;/div>
&lt;hr>
&lt;h2 id="integration-tests">Integration tests&lt;/h2>
&lt;p>Integration tests are defined in an independent GitHub repository: &lt;a href="https://github.com/eclipse/keyple-integration-java-test" target="_blank" rel="noopener">keyple-integration-java-test&lt;/a>&lt;/p>
&lt;h2 id="release-procedure">Release procedure&lt;/h2>
&lt;ol>
&lt;li>Create a branch dedicated to the current release.&lt;/li>
&lt;li>Check &lt;code>gradle.properties&lt;/code> file:
&lt;ul>
&lt;li>Check the consistency of the version.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Check &lt;code>build.gradle.kts&lt;/code> file:
&lt;ul>
&lt;li>Use only released dependencies.&lt;/li>
&lt;li>Upgrade Keyple dependencies to their latest released versions.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Update &lt;code>CHANGELOG.md&lt;/code> file:
&lt;ul>
&lt;li>Verify the consistency of the &lt;code>Unreleased&lt;/code> section.&lt;/li>
&lt;li>Move content of &lt;code>Unreleased&lt;/code> section to a new &amp;ldquo;release&amp;rdquo; section.&lt;/li>
&lt;li>Update bottom links.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Build and test the component.&lt;/li>
&lt;li>Commit the modified files using the commit message &lt;code>Release x.y.z&lt;/code>.&lt;/li>
&lt;li>Push and create a pull request to merge the branch into &lt;code>main&lt;/code>.&lt;/li>
&lt;li>Await the success of the build by the CI.&lt;/li>
&lt;li>Squash and merge the pull request.&lt;/li>
&lt;li>Await the success of the build by the CI.&lt;/li>
&lt;li>Connect to &lt;a href="https://oss.sonatype.org/#welcome" target="_blank" rel="noopener">Nexus Repository Manager&lt;/a> of Eclipse Keyple and go to &amp;ldquo;Staging Repositories&amp;rdquo; page:
&lt;ul>
&lt;li>Select the correct folder to Close &amp;amp; Release. It must contain the manifests, the JAR and all the others elements (sources, javadoc).&lt;/li>
&lt;li>Close the folder.&lt;/li>
&lt;li>Release the folder.&lt;/li>
&lt;li>The other unwanted folders could be dropped.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Check the availability of the release on the &lt;a href="https://repo.maven.apache.org/maven2/org/eclipse/keyple/" target="_blank" rel="noopener">Maven Repository&lt;/a>. This step may take from 10 minutes to 2 hours.&lt;/li>
&lt;li>Create a release on GitHub:
&lt;ul>
&lt;li>Set tag &lt;code>x.y.z&lt;/code>&lt;/li>
&lt;li>Set release name &lt;code>x.y.z&lt;/code>&lt;/li>
&lt;li>Set the content by copying/pasting the content of the current release description in the &lt;code>CHANGELOG.md&lt;/code> file without the bottom links.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Increment the version in the &lt;code>gradle.properties&lt;/code> file and commit it to prepare the code for the next release (e.g. &lt;code>2.0.0 -&amp;gt; 2.0.1&lt;/code>).&lt;/li>
&lt;li>Update this website:
&lt;ul>
&lt;li>Update version in &lt;code>params.yaml&lt;/code> file.&lt;/li>
&lt;li>Update table content of &lt;code>dependency-check.md&lt;/code> file.&lt;/li>
&lt;li>Update others elements if needed (user guides, developer guides, etc&amp;hellip;).&lt;/li>
&lt;li>Commit and push the modifications.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol></description></item></channel></rss>