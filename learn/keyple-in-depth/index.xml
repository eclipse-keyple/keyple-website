<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Keyple in depth | Eclipse Keyple</title><link>https://keyple.org/learn/keyple-in-depth/</link><atom:link href="https://keyple.org/learn/keyple-in-depth/index.xml" rel="self" type="application/rss+xml"/><description>Keyple in depth</description><generator>Hugo Blox Builder (https://hugoblox.com)</generator><language>en-us</language><image><url>https://keyple.org/media/logo.svg</url><title>Keyple in depth</title><link>https://keyple.org/learn/keyple-in-depth/</link></image><item><title>Core services</title><link>https://keyple.org/learn/keyple-in-depth/core-services/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://keyple.org/learn/keyple-in-depth/core-services/</guid><description>&lt;br>
&lt;h2 id="internal-adapters-release">Internal adapters (release)&lt;/h2>
&lt;h3 id="service">Service&lt;/h3>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="https://raw.githubusercontent.com/eclipse/keyple-service-java-lib/3.4.0/src/main/uml/adapter_class_diagram.svg" alt="coming soon!" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;h3 id="card-resource-service">Card resource service&lt;/h3>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="https://raw.githubusercontent.com/eclipse/keyple-service-resource-java-lib/3.1.0/src/main/uml/adapter_class_diagram.svg" alt="coming soon!" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;h3 id="distributed">Distributed&lt;/h3>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="https://raw.githubusercontent.com/eclipse/keyple-distributed-network-java-lib/2.5.1/src/main/uml/adapter_class_diagram.svg" alt="coming soon!" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;br>
&lt;h2 id="internal-adapters-snapshot">Internal adapters (snapshot)&lt;/h2>
&lt;h3 id="service-1">Service&lt;/h3>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="https://raw.githubusercontent.com/eclipse/keyple-service-java-lib/main/src/main/uml/adapter_class_diagram.svg" alt="coming soon!" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;h3 id="card-resource-service-1">Card resource service&lt;/h3>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="https://raw.githubusercontent.com/eclipse/keyple-service-resource-java-lib/main/src/main/uml/adapter_class_diagram.svg" alt="coming soon!" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p>
&lt;h3 id="distributed-1">Distributed&lt;/h3>
&lt;p>
&lt;figure >
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="https://raw.githubusercontent.com/eclipse/keyple-distributed-network-java-lib/main/src/main/uml/adapter_class_diagram.svg" alt="coming soon!" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;/figure>
&lt;/p></description></item><item><title>Calypso card extension</title><link>https://keyple.org/learn/keyple-in-depth/calypso-card-extension/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://keyple.org/learn/keyple-in-depth/calypso-card-extension/</guid><description>&lt;br>
&lt;p>The diagram below illustrates the sequence of exchanges and the grouping of APDU commands during a secure Calypso transaction:&lt;/p>
&lt;figure id="figure-calypso-secure-transaction">
&lt;div class="d-flex justify-content-center">
&lt;div class="w-100" >&lt;img src="../../media/learn/keyple-in-depth/calypso_secure_transaction_sequence_diagram.svg" alt="Calypso secure transaction" loading="lazy" data-zoomable />&lt;/div>
&lt;/div>&lt;figcaption>
Calypso secure transaction
&lt;/figcaption>&lt;/figure></description></item><item><title>Build process and continuous integration</title><link>https://keyple.org/learn/keyple-in-depth/build-and-ci/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://keyple.org/learn/keyple-in-depth/build-and-ci/</guid><description>&lt;br>
&lt;h2 id="build-automation-tool">Build automation tool&lt;/h2>
&lt;p>Keyple uses Gradle.&lt;/p>
&lt;br>
&lt;h2 id="versioning-rules">Versioning rules&lt;/h2>
&lt;p>Keyple components are versioned according to &lt;a href="https://semver.org" target="_blank" rel="noopener">Semantic Versioning 2.0.0&lt;/a> which is based on the three numbers &lt;code>X.Y.Z&lt;/code>&lt;/p>
&lt;div class="alert alert-note">
&lt;div>
For API components (i.e. artifacts suffixed with &lt;code>-api&lt;/code>), the incrementation of &lt;code>Z&lt;/code> indicates only a documentation update.
&lt;/div>
&lt;/div>
&lt;br>
&lt;h2 id="continuous-integration">Continuous integration&lt;/h2>
&lt;p>Keyple continuous integration is based on &lt;strong>GitHub Actions&lt;/strong> and uses the reusable
workflows defined in the dedicated &lt;a href="https://github.com/eclipse-keyple/keyple-actions" target="_blank" rel="noopener">Keyple Actions repository&lt;/a>.&lt;/p>
&lt;p>The CI automates the following tasks:&lt;/p>
&lt;ul>
&lt;li>verify the validity of the version;&lt;/li>
&lt;li>verify the code formatting using &lt;a href="https://github.com/diffplug/spotless" target="_blank" rel="noopener">spotless&lt;/a>;&lt;/li>
&lt;li>verify the licenses of third-party dependencies using the &lt;a href="https://github.com/eclipse-dash/dash-licenses" target="_blank" rel="noopener">Eclipse Dash License Tool&lt;/a>;&lt;/li>
&lt;li>build the code;&lt;/li>
&lt;li>execute unit tests;&lt;/li>
&lt;li>sign and publish artifacts to Maven Central Repository;&lt;/li>
&lt;li>publish the API documentation to the unified &lt;a href="https://docs.keyple.org/" target="_blank" rel="noopener">Keyple&amp;rsquo;s documentation GitHub pages&lt;/a>;&lt;/li>
&lt;li>publish the code quality report to &lt;a href="https://sonarcloud.io/organizations/eclipse/projects?search=keyple&amp;amp;sort=-analysis_date" target="_blank" rel="noopener">SonarCloud&lt;/a>.&lt;/li>
&lt;/ul>
&lt;br>
&lt;h2 id="license-verification">License verification&lt;/h2>
&lt;p>The &lt;strong>Eclipse Dash License Tool&lt;/strong> analyzes the project&amp;rsquo;s dependencies to identify their licenses and verify compliance
with the &lt;a href="https://www.eclipse.org/org/documents/" target="_blank" rel="noopener">Eclipse Foundation Governance Documents&lt;/a>. It retrieves license
information from the Eclipse Foundation&amp;rsquo;s database and the ClearlyDefined service.&lt;/p>
&lt;p>The license check is an integral part of the build workflow. If the &lt;strong>Eclipse Dash License Tool&lt;/strong> detects dependencies
that require manual review, the build fails with an error. In such cases, a committer must intervene.&lt;/p>
&lt;p>A &lt;a href="https://github.com/eclipse-keyple/keyple-actions/tree/main/tools/dash-licenses" target="_blank" rel="noopener">script&lt;/a>, available in the
&lt;strong>Keyple Actions repository&lt;/strong>, supports committers by automatically publishing the necessary issues to the
dedicated &lt;a href="https://gitlab.eclipse.org/eclipsefdn/emo-team/iplab/-/issues" target="_blank" rel="noopener">repository&lt;/a> of the Eclipse Foundation
for license-related matters. This step is performed manually by the committer from a local workstation.&lt;/p>
&lt;br>
&lt;h2 id="snapshot-publication">Snapshot publication&lt;/h2>
&lt;p>A new &lt;strong>snapshot&lt;/strong> version (suffixed with &lt;code>-SNAPSHOT&lt;/code>) is automatically built and published each time a commit is pushed
to the &lt;code>main&lt;/code> branch.&lt;/p>
&lt;p>This allows developers to use the latest development state of Keyple without waiting for an official release. The
published SNAPSHOT artifacts are available from
the &lt;a href="https://central.sonatype.com/service/rest/repository/browse/maven-snapshots" target="_blank" rel="noopener">Eclipse Maven Snapshots repository&lt;/a>.&lt;/p>
&lt;div class="alert alert-warning">
&lt;div>
The component version defined in &lt;code>gradle.properties&lt;/code> must contain the &lt;code>-SNAPSHOT&lt;/code> suffix.
&lt;/div>
&lt;/div>
&lt;br>
&lt;h2 id="release-publication">Release publication&lt;/h2>
&lt;p>A new &lt;strong>release&lt;/strong> version is automatically built and published whenever a GitHub release is created.&lt;/p>
&lt;p>The generated artifact is based on the &lt;strong>commit referenced by the newly created tag&lt;/strong>, ensuring full traceability
between the source code and the published artifacts.&lt;/p>
&lt;div class="alert alert-warning">
&lt;div>
&lt;p>The GitHub release &lt;strong>tag name&lt;/strong> must strictly match the version declared in the &lt;code>gradle.properties&lt;/code> file (without the
&lt;code>-SNAPSHOT&lt;/code> suffix).&lt;/p>
&lt;p>For example, if the component version in &lt;code>gradle.properties&lt;/code> is &lt;code>2.5.0-SNAPSHOT&lt;/code>, the GitHub release tag must be
&lt;code>2.5.0&lt;/code>.&lt;/p>
&lt;/div>
&lt;/div>
&lt;br>
&lt;h2 id="integration-tests">Integration tests&lt;/h2>
&lt;p>Integration tests are defined in an independent GitHub repository: &lt;a href="https://github.com/eclipse-keyple/keyple-integration-java-test" target="_blank" rel="noopener">keyple-integration-java-test&lt;/a>&lt;/p>
&lt;br>
&lt;h2 id="release-procedure">Release procedure&lt;/h2>
&lt;ol>
&lt;li>Create a branch dedicated to the current release.&lt;/li>
&lt;li>Check &lt;code>gradle.properties&lt;/code> file:
&lt;ul>
&lt;li>Check the consistency of the version (&lt;strong>do not remove&lt;/strong> &lt;code>-SNAPSHOT&lt;/code> suffix).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Check &lt;code>build.gradle.kts&lt;/code> file:
&lt;ul>
&lt;li>Use only released dependencies.&lt;/li>
&lt;li>Upgrade Keyple dependencies to their latest released versions.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Update &lt;code>CHANGELOG.md&lt;/code> file:
&lt;ul>
&lt;li>Verify the consistency of the &lt;code>Unreleased&lt;/code> section.&lt;/li>
&lt;li>Move content of &lt;code>Unreleased&lt;/code> section to a new &amp;ldquo;release&amp;rdquo; section.&lt;/li>
&lt;li>Update bottom links.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Build and test the component locally.&lt;/li>
&lt;li>Commit the modified files.&lt;/li>
&lt;li>Push and create a pull request to merge the branch into &lt;code>main&lt;/code>.&lt;/li>
&lt;li>Await the success of the build by the CI on source branch.&lt;/li>
&lt;li>Squash and merge the pull request.&lt;/li>
&lt;li>Await the success of the &lt;strong>snapshot&lt;/strong> publication by the CI on &lt;code>main&lt;/code> branch.&lt;/li>
&lt;li>Create a release on GitHub:
&lt;ul>
&lt;li>Set tag &lt;code>x.y.z&lt;/code>&lt;/li>
&lt;li>Set release name &lt;code>x.y.z&lt;/code>&lt;/li>
&lt;li>Set the content by copying/pasting the content of the current release description in the &lt;code>CHANGELOG.md&lt;/code> file
without the bottom links.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Await the success of the &lt;strong>release&lt;/strong> publication by the CI on &lt;code>main&lt;/code> branch.&lt;/li>
&lt;li>Check the availability of the release on
the &lt;a href="https://repo.maven.apache.org/maven2/org/eclipse/keyple/" target="_blank" rel="noopener">Maven Repository&lt;/a>. This step may take from 10 minutes
to 2 hours.&lt;/li>
&lt;li>Update this website:
&lt;ul>
&lt;li>Update version in &lt;code>params.yaml&lt;/code> file.&lt;/li>
&lt;li>Update table content of &lt;code>dependency-check.md&lt;/code> file.&lt;/li>
&lt;li>Update others elements if needed (user guides, developer guides, etc&amp;hellip;).&lt;/li>
&lt;li>Commit and push the modifications.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol></description></item></channel></rss>