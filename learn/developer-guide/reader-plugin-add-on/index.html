<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=generator content="Hugo Blox Builder 5.9.6"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" media=print onload='this.media="all"'><link rel=stylesheet href=../../../css/vendor-bundle.min.047268c6dd09ad74ba54a0ba71837064.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1.9.4/css/academicons.min.css integrity="sha512-IW0nhlW5MgNydsXJO40En2EoCkTTjZhI3yuODrZIc8cQ4h1XcF53PsqDHa09NqnkXuIe0Oiyyj171BqZFwISBw==" crossorigin=anonymous media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.css integrity crossorigin=anonymous media=print onload='this.media="all"'><link rel=stylesheet href=../../../css/wowchemy.2f9263fc44a928b033d7ab8a9897bd56.css><link rel=stylesheet href=../../../css/libs/chroma/github-dark.min.css title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=../../../css/libs/chroma/github-dark.min.css title=hl-dark media=print onload='this.media="all"' disabled><meta name=description content="How to develop an add-on to handle a specific hardware device."><link rel=alternate hreflang=en-us href=https://keyple.org/learn/developer-guide/reader-plugin-add-on/><link rel=canonical href=https://keyple.org/learn/developer-guide/reader-plugin-add-on/><link rel=manifest href=../../../manifest.webmanifest><link rel=icon type=image/png href=../../../media/icon_hu16db34b3636b127457de39ca2fab620f_9845_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=../../../media/icon_hu16db34b3636b127457de39ca2fab620f_9845_180x180_fill_lanczos_center_3.png><meta name=theme-color content="#1D87BB"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://keyple.org/media/logo.svg"><meta property="og:type" content="article"><meta property="og:site_name" content="Eclipse Keyple"><meta property="og:url" content="https://keyple.org/learn/developer-guide/reader-plugin-add-on/"><meta property="og:title" content="Reader Plugin Add-on Developer Guide | Eclipse Keyple"><meta property="og:description" content="How to develop an add-on to handle a specific hardware device."><meta property="og:image" content="https://keyple.org/media/logo.svg"><meta property="og:locale" content="en-us"><meta property="article:modified_time" content="2024-10-01T10:44:49+02:00"><title>Reader Plugin Add-on Developer Guide | Eclipse Keyple</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=25e4a51c408d2c72488dc9bce481ce98><script src=../../../js/wowchemy-init.min.d66af272089c6c0601f1a57edc3bf6ab.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=Close><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control aria-label=Search...></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><div class="page-header header--fixed"><header><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=../../../><img src=../../../media/logo.svg alt="Eclipse Keyple"></a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=../../../><img src=../../../media/logo.svg alt="Eclipse Keyple"></a></div><div class="navbar-collapse main-menu-item collapse justify-content-center" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>What is Eclipse Keyple®</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=../../../what-is-keyple/overview/><span>Overview</span></a>
<a class=dropdown-item href=../../../what-is-keyple/why-trust/><span>Why trust Eclipse Keyple®?</span></a>
<a class=dropdown-item href=../../../what-is-keyple/who-is-it-for/><span>Who is it for?</span></a>
<a class=dropdown-item href=../../../#adopters><span>Who is using Eclipse Keyple®?</span></a>
<a class=dropdown-item href=../../../what-is-keyple/what-is-calypso/><span>What is Calypso®?</span></a>
<a class=dropdown-item href=../../../what-is-keyple/main-features/><span>Keyple's main features</span></a>
<a class=dropdown-item href=../../../#news><span>News</span></a></div></li><li class=nav-item><a class=nav-link href=../../../learn/overview><span>Learn</span></a></li><li class=nav-item><a class=nav-link href=../../../components/overview><span>Components</span></a></li><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>Community</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=../../../adopters-and-testimonials/><span>Adopters & Testimonials</span></a>
<a class=dropdown-item href=../../../community/contributing/><span>Contributing</span></a>
<a class=dropdown-item href=../../../community/roadmap/><span>Roadmap</span></a>
<a class=dropdown-item href=../../../community/changelog/><span>Changelog</span></a>
<a class=dropdown-item href=../../../project-dashboard/><span>Project dashboard</span></a>
<a class=dropdown-item href=../../../statistics/><span>Statistics</span></a>
<a class=dropdown-item href="https://sonarcloud.io/organizations/eclipse/projects?search=keyple&amp;sort=-analysis_date"><span>Code quality dashboard</span></a>
<a class=dropdown-item href=https://projects.eclipse.org/projects/iot.keyple/><span>Eclipse Foundation Keyple page</span></a>
<a class=dropdown-item href=https://accounts.eclipse.org/mailing-list/keyple-dev/><span>Mailing list</span></a>
<a class=dropdown-item href=https://github.com/eclipse-keyple/><span>GitHub home repository</span></a></div></li><li class=nav-item><a class=nav-link href=../../../external-resources/><span>External resources</span></a></li><li class=nav-item><a class=nav-link href=../../../learn/build-your-first-app/><button class='btn btn-info'><i class='fas fa-rocket pr-1' aria-hidden=true></i> <span>START CODING</span></button></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a></li></ul></div></nav></header></div><div class=page-body><div class="container-fluid docs"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 docs-sidebar"><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">Developer guides
</span><span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>Search...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav><ul class="nav docs-sidenav"><li><a href=../../../learn/></a></li><div class=docs-toc-item><a class=docs-toc-link href=../../../learn/overview/>Overview</a><ul class="nav docs-sidenav"><li><a href=../../../learn/overview/key-concepts/>Key concepts</a></li><li><a href=../../../learn/overview/architecture/>Architecture</a></li><li><a href=../../../learn/overview/keypop-api/>Keypop API</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=../../../learn/build-your-first-app/>Build your first app</a><ul class="nav docs-sidenav"><li><a href=../../../learn/build-your-first-app/java-app/>Java</a></li><li><a href=../../../learn/build-your-first-app/android-app/>Android</a></li><li><a href=../../../learn/build-your-first-app/cpp-app/>C++</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=../../../learn/user-guide/>User guides</a><ul class="nav docs-sidenav"><li><a href=../../../learn/user-guide/standalone-application/>Standalone application</a></li><li><a href=../../../learn/user-guide/distributed-application/>Distributed application</a></li><li><a href=../../../learn/user-guide/server-json-api/>Server JSON API for non-Keyple clients</a></li><li><a href=../../../learn/user-guide/calypso-application/>Calypso application</a></li><li><a href=../../../learn/user-guide/card-resource-service/>Card resource service</a></li><li><a href=../../../learn/user-guide/migration-guide/>How to upgrade Keyple</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=../../../learn/developer-guide/>Developer guides</a><ul class="nav docs-sidenav"><li class=active><a href=../../../learn/developer-guide/reader-plugin-add-on/>Reader plugin add-on</a></li><li><a href=../../../learn/developer-guide/card-extension-add-on/>Card extension add-on</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=../../../learn/code-samples/>Code samples</a><ul class="nav docs-sidenav"><li><a href=../../../learn/code-samples/java-example/>Java examples</a></li><li><a href=../../../learn/code-samples/cpp-example/>C++ examples</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=../../../learn/keyple-in-depth/>Keyple in depth</a><ul class="nav docs-sidenav"><li><a href=../../../learn/keyple-in-depth/core-services/>Core services</a></li><li><a href=../../../learn/keyple-in-depth/calypso-card-extension/>Calypso card extension</a></li><li><a href=../../../learn/keyple-in-depth/build-and-ci/>Build and CI</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=../../../learn/archives/>Archives</a></div></ul></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>Contents</a></li></ul><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#operating-mode>Operating mode</a></li><li><a href=#plugin-architecture>Plugin architecture</a></li><li><a href=#select-predefined-features>Select predefined features</a></li><li><a href=#define-specific-features>Define specific features</a></li><li><a href=#set-up-dev-environment>Set up dev environment</a></li><li><a href=#implement-the-solution>Implement the solution</a></li><li><a href=#api>API</a></li><li><a href=#download>Download</a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role=main><div class=docs-article-container></div><div class=docs-article-container><h1>Reader Plugin Add-on Developer Guide</h1><article class=article-style><br><h2 id=overview>Overview</h2><p>This guide is intended to help developers who want to create a Keyple reader plugin add-on for a specific device.</p><br><h2 id=operating-mode>Operating mode</h2><ol><li>Learn the <a href=#plugin-architecture>plugin architecture</a> concepts</li><li><a href=#select-predefined-features>Select the predefined features</a> that meet your need</li><li><a href=#define-specific-features>Define specific features</a> (optional)</li><li><a href=#set-up-dev-environment>Set up the development environment</a></li><li><a href=#implement-the-solution>Implement the solution</a></li></ol><br><h2 id=plugin-architecture>Plugin architecture</h2><p>A Keyple reader plugin consists of three objects, a <strong>plugin factory</strong>, a <strong>plugin</strong> and a <strong>reader</strong>, which meet the following two interface specifications:</p><ul><li><strong>Common API</strong>: public contract containing only generic types common to all plugins.</li><li><strong>Plugin API</strong>: private contract based on two types of interfaces:<ul><li><strong>API</strong> (Application Programming Interface): interface implemented by Keyple Service and directly usable by the plugin code.</li><li><strong>SPI</strong> (Service Provider Interface): interface to be implemented by the plugin and directly used by Keyple Service.</li></ul></li></ul><p>The component diagram below illustrates the internal API/SPI links between the plugin and Keyple Service, as well as the public APIs exposed to the application:<figure><div class="d-flex justify-content-center"><div class=w-100><img src=../../../media/learn/developer-guide/component-dependencies/plugin_api.svg alt loading=lazy data-zoomable></div></div></figure></p><br><h2 id=select-predefined-features>Select predefined features</h2><p>The diagram below helps you to determine exactly which interfaces to implement according to the characteristics of the reader:<figure><div class="d-flex justify-content-center"><div class=w-100><img src=../../../media/learn/developer-guide/design-guides/reader_plugin_activity_diagram.svg alt loading=lazy data-zoomable></div></div></figure></p><div class="alert alert-warning"><div>The <code>XxxPluginFactory</code>, <code>XxxPlugin</code> and <code>XxxReader</code> interfaces must be created.
They are specific to the plugin <code>Xxx</code> to be created but can remain empty if there is no specific feature.</div></div><br><h2 id=define-specific-features>Define specific features</h2><p>Depending on the characteristics of the reader, it may be necessary to add in the specific APIs configuration methods appropriate to the technical context.</p><p>These features can be exposed at three levels:</p><ul><li>In the <strong>plugin factory</strong> (<code>XxxPluginFactory</code> interface), for the initial configuration of the plugin (e.g. set custom plugin name).</li><li>In the <strong>plugin</strong> (<code>XxxPlugin</code> interface), for dynamic configurations that can be applied to all the readers (e.g. put the readers in sleep mode).<br>The API will then be directly accessible from the application through the <code>getExtension(...)</code> method of the plugin registered with Keyple Service.</li><li>In the <strong>reader</strong> (<code>XxxReader</code> interface), for dynamic configurations specific to each reader (e.g. activate/deactivate a LED).<br>The API will then be directly accessible from the application through the <code>getReaderExtension(...)</code> method of the reader provided by the plugin registered with Keyple Service.</li></ul><br><h2 id=set-up-dev-environment>Set up dev environment</h2><div class="alert alert-warning"><div>For Java and Android projects, the code should be compliant with <strong>Java 1.6</strong> in order to address a wide range of applications.</div></div><p>If the reader plugin add-on is to be integrated into the Eclipse Keyple® project, it must use one of the following project templates:</p><dl><dt><a href=../../../media/project-templates/java/keyple-plugin-[READER_PLUGIN_NAME]-java-lib.zip target=_blank>Java template</a></dt><dd>adapt fields <code>[READER_PLUGIN_NAME]</code>, <code>Xxx</code>, <code>xxx</code>, <code>TODO</code></dd><dt><a href=../../../media/project-templates/android/keyple-plugin-[ANDROID_READER_PLUGIN_NAME]-java-lib.zip target=_blank>Android template</a></dt><dd>adapt fields <code>[ANDROID_READER_PLUGIN_NAME]</code>, <code>Xxx</code>, <code>xxx</code>, <code>TODO</code></dd></dl><div class="alert alert-warning"><div><p>Before pushing the project to GitHub the first time, you must give write permission to some scripts files via the following commands:</p><div class="code relative"><div class="code-copy-content nt3"><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=na>git update-index --chmod</span><span class=o>=</span><span class=s>+x &#34;gradlew&#34;</span>
</span></span><span class=line><span class=cl><span class=na>git update-index --chmod</span><span class=o>=</span><span class=s>+x &#34;scripts/check_version.sh&#34;</span>
</span></span><span class=line><span class=cl><span class=na>git update-index --chmod</span><span class=o>=</span><span class=s>+x &#34;scripts/prepare_javadoc.sh&#34;</span></span></span></code></pre></div></div></div></div></div><p>If examples are proposed, they should be placed in the <a href=https://github.com/eclipse-keyple/keyple-java-example target=_blank rel=noopener>keyple-java-example</a> repository.</p><p>The contribution procedure is described <a href=../../../community/contributing/>here</a>.</p><br><h2 id=implement-the-solution>Implement the solution</h2><div class="alert alert-warning"><div>It is important to hide the internal Keyple interfaces of the <strong>Plugin API</strong> from the application.</div></div><p>For this purpose, it is suggested to respect the following programming pattern based on the use of:</p><ul><li>public interfaces,</li><li>private interfaces adapters (package visibility) accessible from a public provider/builder.<figure><div class="d-flex justify-content-center"><div class=w-100><img src=../../../media/learn/developer-guide/design-guides/reader_plugin_class_diagram.svg alt loading=lazy data-zoomable></div></div></figure></li></ul><div class="alert alert-note"><div>It is possible to use other alternatives to the factory provider depending on the need.
For example, if the plugin factory needs to expose specific configuration methods, it is recommended to use the builder pattern instead of the provider pattern in order to get a properly initialized factory.
Thus, the factory does not expose any method.</div></div><br><h2 id=api>API</h2><ul><li><a href=https://eclipse-keyple.github.io/keyple-common-java-api target=_blank rel=noopener>Keyple Common API</a></li><li><a href=https://eclipse-keyple.github.io/keyple-plugin-java-api target=_blank rel=noopener>Keyple Plugin API</a></li></ul><br><h2 id=download>Download</h2><ul><li><a href=https://keyple.org/components/overview/configuration-wizard/>Java components</a></li></ul></article><div class=article-widget><div class=post-nav><div class=post-nav-item><div class=meta-nav>Next</div><a href=../../../learn/developer-guide/card-extension-add-on/ rel=prev>Card Extension Add-on Developer Guide</a></div></div></div></div><div class=body-footer><p>Last updated on 2024-10-01</p></div><footer class=site-footer><div class=container><div class="row featurette"><div class="col-12 col-sm-4"><p style=color:#fff><b>ECLIPSE LEGAL</b></p><a href=https://www.eclipse.org/legal/privacy.php>Privacy Policy</a><br><a href=https://www.eclipse.org/legal/termsofuse.php>Terms of Use</a><br><a href=https://www.eclipse.org/legal/copyright.php>Copyright Agent</a><br><a href=https://www.eclipse.org/legal/epl-2.0/>Eclipse Public License</a><br><a href=https://www.eclipse.org/legal/>Legal Resources</a><br><a href=https://eclipse.org/security/ target=_blank>Report a Vulnerability</a><br></div><div class="col-12 col-sm-4"><a href=https://www.eclipse.org target=_blank><img src=../../../media/eclipse_foundation_logo.svg id=logo-eclipse-foundation></a></div><div class="col-12 col-sm-4"><a href=https://iot.eclipse.org target=_blank><img src=../../../media/eclipse_iot_logo.svg id=logo-eclipse-iot></a></div></div></div><p class="powered-by copyright-license-text">© 2019-2024 The Eclipse Keyple® project. All Rights Reserved.</p><p class=powered-by id=template-info>Published with <a href="https://hugoblox.com/?utm_campaign=poweredby" target=_blank rel=noopener>Hugo Blox Builder</a> — the free, <a href=https://github.com/HugoBlox/hugo-blox-builder target=_blank rel=noopener>open source</a> website builder that empowers creators.</p></footer></main></div></div></div><div class=page-footer></div><script src=../../../js/vendor-bundle.min.938a3a7554cd9f6602290411f64d2617.js></script><script src=https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.js integrity crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/anchor-js@5.0.0/anchor.min.js integrity="sha256-aQmOEF2ZD4NM/xt4hthzREIo/2PFkOX/g01WjxEV7Ys=" crossorigin=anonymous></script><script>anchors.add()</script><script id=search-hit-fuse-template type=text/x-template>
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script><script src=https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin=anonymous></script><script id=page-data type=application/json>{"use_headroom":false}</script><script src=../../../en/js/wowchemy.min.ea5a6a489a3eebcc11b147b0596c2d67.js></script><script src=../../../js/wowchemy-map.a26e9d2f7238ba5b868384f1c5bc6477.js type=module></script><link rel=stylesheet href=https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap4.min.css><script src=https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js></script><script src=https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js></script><script src=https://d3js.org/d3.v6.min.js></script></body></html>